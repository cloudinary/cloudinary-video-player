!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("cloudinary-core")):"function"==typeof define&&define.amd?define(["cloudinary-core"],t):"object"==typeof exports?exports.cloudinaryVideoPlayer=t(require("cloudinary-core")):e.cloudinaryVideoPlayer=t(e.cloudinary)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=445)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){var i=a(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function t(e,t){for(var n in l){var r=l[n];if(r.context===e&&r.name===t)return r.instance}return null}function n(e,t,n){for(var r in l){var i=l[r];if(i.context===e&&i.name===t)return void(l[r].instance=n)}l.push({name:t,context:e,instance:n})}function r(e){return function(t){return void 0===t&&(t={}),{create:function(){return o(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function i(e){return function(n){var r=void 0;return void 0===n&&(n={}),{getInstance:function(){return r||(r=t(n,e.__dashjs_factory_name)),r||(r=o(e.__dashjs_factory_name,e.apply({context:n},arguments),n,arguments),l.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}}}function o(e,t,n,r){var i=a(n),o=i[e];if(o){var u=o.instance;if(!o.override)return u.apply({context:n,factory:s},r);u=u.apply({context:n,factory:s,parent:t},r);for(var l in u)t.hasOwnProperty(l)&&(t[l]=u[l])}return t}function a(e){var t=void 0;return u.forEach(function(n){n===e&&(t=n)}),t||(t=u.push(e)),t}var s=void 0,u=[],l=[];return s={extend:e,getSingletonInstance:t,setSingletonInstance:n,getSingletonFactory:i,getClassFactory:r}}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(4),s=i(a),u=n(8),l=r(u),c=n(7),f=r(c),d=n(34),p=r(d),h=n(25),y=r(h),g=n(14),v=i(g),m=n(35),_=i(m),b=n(22),T=i(b),E=function(){function e(t,n,r){if(o(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,T.default)({},this.options_),n=this.options_=(0,T.default)(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+p.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),l.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return v.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,T.default)(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return l.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,_.default)(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=(0,_.default)(t),n||(n={}),n===!0&&(v.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&(0,_.default)(i.name()),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||(0,_.default)(t.name));return n&&!a.isTech(n)}).forEach(i)}},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;if("string"==typeof e||Array.isArray(e))y.on(this.el_,e,f.bind(this,t));else{var i=e,o=t,a=f.bind(this,n),s=function(){return r.off(i,o,a)};s.guid=a.guid,this.on("dispose",s);var u=function(){return r.off("dispose",s)};u.guid=a.guid,e.nodeName?(y.on(i,o,a),y.on(i,"dispose",u)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",u))}return this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))y.off(this.el_,e,t);else{var r=e,i=t,o=f.bind(this,n);this.off("dispose",o),e.nodeName?(y.off(r,i,o),y.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;if("string"==typeof e||Array.isArray(e))y.one(this.el_,e,f.bind(this,t));else{var o=e,a=t,s=f.bind(this,n),u=function e(){r.off(o,a,e),s.apply(null,i)};u.guid=s.guid,this.on(o,a,u)}return this},e.prototype.trigger=function(e,t){return y.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return l.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return l.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return l.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return l.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return l.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return l.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return l.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return l.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return l.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return i!==-1?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,_.default)(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s.default.getComputedStyle){var n=s.default.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(t=parseFloat(t),0===t){var r="offset"+(0,_.default)(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,a=Math.sqrt(r*r+o*o);a>n&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){if(t=null,i===!0){var o=(new Date).getTime()-e;o<r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=f.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=f.bind(this,e);var n=s.default.setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){s.default.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=f.bind(this,e);var n=s.default.setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){s.default.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){if(t){if(t=(0,_.default)(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]){var r=e.components_[t];if(r.players&&Object.keys(r.players).length>0&&Object.keys(r.players).map(function(e){return r.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return e.components_[t]=n,n}},e.getComponent=function(t){if(t)return t=(0,_.default)(t),e.components_&&e.components_[t]?e.components_[t]:s.default&&s.default.videojs&&s.default.videojs[t]?(v.default.warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s.default.videojs[t]):void 0},e.extend=function(t){t=t||{},v.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();E.registerComponent("Component",E),t.default=E},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&B.default.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&o.getPlayers()[e].ready(n),o.getPlayers()[e];r=V.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||S.default.players[r.playerId])return r.player||S.default.players[r.playerId];t=t||{},o.hooks("beforesetup").forEach(function(e){var n=e(r,(0,P.default)(t));return!(0,Y.isObject)(n)||Array.isArray(n)?void B.default.error("please return an object in beforesetup hooks"):void(t=(0,P.default)(t,n))});var i=v.default.getComponent("Player"),a=new i(r,t,n);return o.hooks("setup").forEach(function(e){return e(a)}),a}var a,s;t.__esModule=!0;var u=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(4)),l=i(u),c=n(9),f=i(c),d=n(395),p=r(d),h=n(159),y=r(h),g=n(1),v=i(g),m=n(62),_=i(m),b=n(25),T=r(b),E=n(154),S=i(E),w=n(391),O=i(w),C=n(22),P=i(C),I=n(7),A=r(I),M=n(91),k=i(M),x=n(400),R=i(x),D=n(408),L=i(D),j=n(47),N=n(26),F=i(N),U=n(14),B=i(U),H=n(8),V=r(H),q=n(11),z=r(q),G=n(64),K=r(G),Y=n(12),W=n(95),X=i(W),Q=n(388),$=i(Q),J=n(167),Z=i(J),ee=n(46),te=i(ee);if("undefined"==typeof HTMLVideoElement&&V.isReal()&&(f.default.createElement("video"),f.default.createElement("audio"),f.default.createElement("track")),o.hooks_={},o.hooks=function(e,t){return o.hooks_[e]=o.hooks_[e]||[],t&&(o.hooks_[e]=o.hooks_[e].concat(t)),o.hooks_[e]},o.hook=function(e,t){o.hooks(e,t)},o.removeHook=function(e,t){var n=o.hooks(e).indexOf(t);return!(n<=-1)&&(o.hooks_[e]=o.hooks_[e].slice(),o.hooks_[e].splice(n,1),!0)},l.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&V.isReal()){var ne=V.$(".vjs-styles-defaults");if(!ne){ne=y.createStyleElement("vjs-styles-defaults");var re=V.$("head");re&&re.insertBefore(ne,re.firstChild),y.setTextContent(ne,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}p.autoSetupTimeout(1,o),o.VERSION="5.19.0",o.options=S.default.prototype.options_,o.getPlayers=function(){return S.default.players},o.players=S.default.players,o.getComponent=v.default.getComponent,o.registerComponent=function(e,t){te.default.isTech(t)&&B.default.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),v.default.registerComponent.call(v.default,e,t)},o.getTech=te.default.getTech,o.registerTech=te.default.registerTech,o.browser=z,o.TOUCH_ENABLED=z.TOUCH_ENABLED,o.extend=$.default,o.mergeOptions=P.default,o.bind=A.bind,o.plugin=O.default,o.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),o.options.languages=(0,P.default)(o.options.languages,(n={},n[e]=t,n)),o.options.languages[e]},o.log=B.default,o.createTimeRange=o.createTimeRanges=j.createTimeRanges,o.formatTime=F.default,o.parseUrl=K.parseUrl,o.isCrossOrigin=K.isCrossOrigin,o.EventTarget=_.default,o.on=T.on,o.one=T.one,o.off=T.off,o.trigger=T.trigger,o.xhr=Z.default,o.TextTrack=k.default,o.AudioTrack=R.default,o.VideoTrack=L.default,o.isEl=V.isEl,o.isTextNode=V.isTextNode,o.createEl=V.createEl,o.hasClass=V.hasElClass,o.addClass=V.addElClass,o.removeClass=V.removeElClass,o.toggleClass=V.toggleElClass,o.setAttributes=V.setElAttributes,o.getAttributes=V.getElAttributes,o.emptyEl=V.emptyEl,o.appendContent=V.appendContent,o.insertContent=V.insertContent,o.computedStyle=X.default,a=[],s=function(){return o}.apply(t,a),!(void 0!==s&&(e.exports=s)),t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(206),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(u.default),c=new l;t.default=c,e.exports=t.default},function(e,t,n){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,n(67))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?s:arguments[3];if(!e)throw new Error("event type cannot be null or undefined");if(!t||"function"!=typeof t)throw new Error("listener must be a function: "+t);if(!(r(e,t,n)>=0)){o[e]=o[e]||[];var a={callback:t,scope:n,priority:i},u=o[e].some(function(t,n){if(i>t.priority)return o[e].splice(n,0,a),!0});u||o[e].push(a)}}function t(e,t,n){if(e&&t&&o[e]){var i=r(e,t,n);i<0||o[e].splice(i,1)}}function n(e,t){if(e&&o[e]){if(t=t||{},t.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e].forEach(function(e){return e.callback.call(e.scope,t)})}}function r(e,t,n){var r=-1;return o[e]?(o[e].some(function(e,i){if(e.callback===t&&(!n||n===e.scope))return r=i,!0}),r):r}function i(){o={}}var o={},a={on:e,off:t,trigger:n,reset:i};return a}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=0,u=5e3;i.__dashjs_factory_name="EventBus";var l=a.default.getSingletonFactory(i);l.EVENT_PRIORITY_LOW=s,l.EVENT_PRIORITY_HIGH=u,t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){c=!0,f=!0,d=(new Date).getTime()}function t(e){f=e}function n(e){c=e}function r(){return c}function i(){var e="",t=null;f&&(t=(new Date).getTime(),e+="["+(t-d)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),c&&console.log(e),s.trigger(u.default.LOG,{message:e})}var o=this.context,s=(0,a.default)(o).getInstance(),l=void 0,c=void 0,f=void 0,d=void 0;return l={log:i,setLogTimestampVisible:t,setLogToBrowserConsole:n,getLogToBrowserConsole:r},e(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="Debug",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.throttle=t.bind=void 0;var r=n(34);t.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},t.throttle=function(e,t){var n=Date.now(),r=function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.raw=t,e}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function u(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function l(){return U.default===H.default.document&&"undefined"!=typeof U.default.createElement}function c(e){return(0,W.isObject)(e)&&1===e.nodeType}function f(e){return function(t,n){if(!a(t))return U.default[e](null);a(n)&&(n=U.default.querySelector(n));var r=c(n)?n:U.default;return r[e]&&r[e](t)}}function d(e){return 0===e.indexOf("#")&&(e=e.slice(1)),U.default.getElementById(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=U.default.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(G.default.warn((0,Y.default)(N,e,n)),i.setAttribute(e,n)):"textContent"===e?h(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&L(i,r),i}function h(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function y(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function g(e){var t=e[Q];return t||(t=e[Q]=q.newGUID()),X[t]||(X[t]={}),X[t]}function v(e){var t=e[Q];return!!t&&!!Object.getOwnPropertyNames(X[t]).length}function m(e){var t=e[Q];if(t){delete X[t];try{delete e[Q]}catch(t){e.removeAttribute?e.removeAttribute(Q):e[Q]=null}}}function _(e,t){return s(t),e.classList?e.classList.contains(t):u(t).test(e.className)}function b(e,t){return e.classList?e.classList.add(t):_(e,t)||(e.className=(e.className+" "+t).trim()),e}function T(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function E(e,t,n){var r=_(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?b(e,t):T(e,t),e}function S(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function w(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof e[o]&&n.indexOf(","+o+",")===-1||(a=null!==a),t[o]=a}return t}function O(e,t){return e.getAttribute(t)}function C(e,t,n){e.setAttribute(t,n)}function P(e,t){e.removeAttribute(t)}function I(){U.default.body.focus(),U.default.onselectstart=function(){return!1}}function A(){U.default.onselectstart=function(){return!0}}function M(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=U.default.documentElement,r=U.default.body,i=n.clientLeft||r.clientLeft||0,o=H.default.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=H.default.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function k(e,t){var n={},r=M(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function x(e){return(0,W.isObject)(e)&&3===e.nodeType}function R(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function D(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),c(e)||x(e)?e:"string"==typeof e&&/\S/.test(e)?U.default.createTextNode(e):void 0}).filter(function(e){return e})}function L(e,t){return D(t).forEach(function(t){return e.appendChild(t)}),e}function j(e,t){return L(R(e),t)}t.__esModule=!0,t.$$=t.$=void 0;var N=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);t.isReal=l,t.isEl=c,t.getEl=d,t.createEl=p,t.textContent=h,t.insertElFirst=y,t.getElData=g,t.hasElData=v,t.removeElData=m,t.hasElClass=_,t.addElClass=b,t.removeElClass=T,t.toggleElClass=E,t.setElAttributes=S,t.getElAttributes=w,t.getAttribute=O,t.setAttribute=C,t.removeAttribute=P,t.blockTextSelection=I,t.unblockTextSelection=A,t.findElPosition=M,t.getPointerPosition=k,t.isTextNode=x,t.emptyEl=R,t.normalizeContent=D,t.appendContent=L,t.insertContent=j;var F=n(9),U=i(F),B=n(4),H=i(B),V=n(34),q=r(V),z=n(14),G=i(z),K=n(146),Y=i(K),W=n(12),X={},Q="vdata"+(new Date).getTime();t.$=f("querySelector"),t.$$=f("querySelectorAll")},function(e,t,n){(function(t){var r="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},i=n(444);if("undefined"!=typeof document)e.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=o}}).call(t,n(67))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){function e(){var e,t;we=[],Se=!1,Ee=!0,Pe=!0,Ve=!1,ze=!1,Me={enabled:!0,ttl:f},ke={enabled:!0,ttl:d},Oe=c,Ce=void 0,Ie=y,Ae=g,xe=NaN,Re=_,De=b,Le=T,je=E,Ne=p,Fe=h,He=A,qe={default:M},e={},i(e,u.HTTPRequest.MPD_TYPE,O),i(e,u.HTTPRequest.XLINK_EXPANSION_TYPE,P),i(e,u.HTTPRequest.MEDIA_SEGMENT_TYPE,S),i(e,u.HTTPRequest.INIT_SEGMENT_TYPE,S),i(e,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,S),i(e,u.HTTPRequest.INDEX_SEGMENT_TYPE,S),i(e,u.HTTPRequest.OTHER_TYPE,S),Ue=e,t={},i(t,u.HTTPRequest.MPD_TYPE,C),i(t,u.HTTPRequest.XLINK_EXPANSION_TYPE,I),i(t,u.HTTPRequest.MEDIA_SEGMENT_TYPE,w),i(t,u.HTTPRequest.INIT_SEGMENT_TYPE,w),i(t,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,w),i(t,u.HTTPRequest.INDEX_SEGMENT_TYPE,w),i(t,u.HTTPRequest.OTHER_TYPE,w),Be=t}function t(e){Ve=e}function n(){return Ve}function r(e){Ne=e}function o(){return Ne}function a(e){Fe=e}function s(){return Fe}function l(e){xe=e}function k(){return isNaN(xe)?ze?m:v:xe}function x(e){Re=e}function R(){return Re}function D(e){De=e}function L(){return De}function j(e){Le=e}function N(){return Le}function F(e){je=e}function U(){return je}function B(e){Ie=e}function H(){return Ie}function V(e,t){Me.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(Me.ttl=t)}function q(){return Me}function z(e,t){ke.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(ke.ttl=t)}function G(){return ke}function K(e){Ae=e}function Y(){return Ae}function W(e){Ue[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function X(e,t){Ue[e]=t}function Q(){return Ue[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function $(e){return Ue[e]}function J(e){Be[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Z(e,t){Be[e]=t}function ee(){return Be[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function te(e){return Be[e]}function ne(e){He=e}function re(){return He}function ie(e){Pe=e}function oe(){return Pe}function ae(e){Oe=e}function se(e){Ce=e}function ue(){return Oe}function le(){return Ce}function ce(e){Ee=e}function fe(){return Ee}function de(e){Se=e}function pe(){return Se}function he(e){we=e}function ye(){return we}function ge(e,t){e?qe[e]=!!t:Object.keys(qe).forEach(function(e){ge(e,t)})}function ve(e){var t=qe[e];return void 0===t?qe.default:t}function me(){return ze}function _e(e){ze=e}function be(){}var Te=void 0,Ee=void 0,Se=void 0,we=void 0,Oe=void 0,Ce=void 0,Pe=void 0,Ie=void 0,Ae=void 0,Me=void 0,ke=void 0,xe=void 0,Re=void 0,De=void 0,Le=void 0,je=void 0,Ne=void 0,Fe=void 0,Ue=void 0,Be=void 0,He=void 0,Ve=void 0,qe=void 0,ze=void 0;return Te={setBufferOccupancyABREnabled:t,getBufferOccupancyABREnabled:n,setBandwidthSafetyFactor:r,getBandwidthSafetyFactor:o,setAbandonLoadTimeout:a,getAbandonLoadTimeout:s,setLastBitrateCachingInfo:V,getLastBitrateCachingInfo:q,setLastMediaSettingsCachingInfo:z,getLastMediaSettingsCachingInfo:G,setStableBufferTime:l,getStableBufferTime:k,setBufferTimeAtTopQuality:x,getBufferTimeAtTopQuality:R,setBufferTimeAtTopQualityLongForm:D,getBufferTimeAtTopQualityLongForm:L,setLongFormContentDurationThreshold:j,getLongFormContentDurationThreshold:N,setRichBufferThreshold:F,getRichBufferThreshold:U,setBufferToKeep:B,getBufferToKeep:H,setBufferPruningInterval:K,getBufferPruningInterval:Y,setFragmentRetryAttempts:W,getFragmentRetryAttempts:Q,setRetryAttemptsForType:X,getRetryAttemptsForType:$,setFragmentRetryInterval:J,getFragmentRetryInterval:ee,setRetryIntervalForType:Z,getRetryIntervalForType:te,setWallclockTimeUpdateInterval:ne,getWallclockTimeUpdateInterval:re,setScheduleWhilePaused:ie,getScheduleWhilePaused:oe,getUseSuggestedPresentationDelay:pe,setUseSuggestedPresentationDelay:de,setLiveDelayFragmentCount:ae,getLiveDelayFragmentCount:ue,getLiveDelay:le,setLiveDelay:se,setUseManifestDateHeaderTimeSource:ce,getUseManifestDateHeaderTimeSource:fe,setUTCTimingSources:he,getUTCTimingSources:ye,setXHRWithCredentialsForType:ge,getXHRWithCredentialsForType:ve,setFastSwitchEnabled:_e,getFastSwitchEnabled:me,reset:be},e(),Te}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=r(a),u=n(15),l={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},c=4,f=36e4,d=36e4,p=.9,h=1e4,y=30,g=30,v=12,m=20,_=30,b=60,T=600,E=20,S=3,w=1e3,O=3,C=500,P=1,I=500,A=50,M=!1;o.__dashjs_factory_name="MediaPlayerModel";var k=s.default.getSingletonFactory(o);k.DEFAULT_UTC_TIMING_SOURCE=l,t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0,t.BACKGROUND_SIZE_SUPPORTED=t.TOUCH_ENABLED=t.IS_ANY_SAFARI=t.IS_SAFARI=t.IE_VERSION=t.IS_IE8=t.IS_CHROME=t.IS_EDGE=t.IS_FIREFOX=t.IS_NATIVE_ANDROID=t.IS_OLD_ANDROID=t.ANDROID_VERSION=t.IS_ANDROID=t.IOS_VERSION=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=void 0;var o=n(8),a=i(o),s=n(4),u=r(s),l=u.default.navigator&&u.default.navigator.userAgent||"",c=/AppleWebKit\/([\d.]+)/i.exec(l),f=c?parseFloat(c.pop()):null,d=t.IS_IPAD=/iPad/i.test(l),p=t.IS_IPHONE=/iPhone/i.test(l)&&!d,h=t.IS_IPOD=/iPod/i.test(l),y=t.IS_IOS=p||d||h,g=(t.IOS_VERSION=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),t.IS_ANDROID=/Android/i.test(l)),v=t.ANDROID_VERSION=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),m=(t.IS_OLD_ANDROID=g&&/webkit/i.test(l)&&v<2.3,t.IS_NATIVE_ANDROID=g&&v<5&&f<537,t.IS_FIREFOX=/Firefox/i.test(l),t.IS_EDGE=/Edge/i.test(l)),_=t.IS_CHROME=!m&&/Chrome/i.test(l),b=(t.IS_IE8=/MSIE\s8\.0/.test(l),t.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(l)),t.IS_SAFARI=/Safari/i.test(l)&&!_&&!g&&!m);t.IS_ANY_SAFARI=b||y,t.TOUCH_ENABLED=a.isReal()&&("ontouchstart"in u.default||u.default.DocumentTouch&&u.default.document instanceof u.default.DocumentTouch),
t.BACKGROUND_SIZE_SUPPORTED=a.isReal()&&"backgroundSize"in u.default.document.createElement("video").style},function(e,t,n){"use strict";function r(e,t){c(e).forEach(function(n){return t(e[n],n)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(e).reduce(function(n,r){return t(n,e[r],r)},n)}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,n){e[n]=t})}),e)}function a(e){return!!e&&"object"===("undefined"==typeof e?"undefined":u(e))}function s(e){return a(e)&&"[object Object]"===l.call(e)&&e.constructor===Object}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.each=r,t.reduce=i,t.assign=o,t.isObject=a,t.isPlain=s;var l=Object.prototype.toString,c=function(e){return a(e)?Object.keys(e):[]}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var r=t[n];e[n]=r})}),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.logByType=void 0;var i=n(4),o=r(i),a=n(11),s=n(12),u=void 0,l=t.logByType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!a.IE_VERSION&&a.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),u.history.push(t),t.unshift("VIDEOJS:");var r=o.default.console&&o.default.console[e];r&&(n&&(t=t.map(function(e){if((0,s.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](o.default.console,t):r(t))};u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l("log",t)},u.history=[],u.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("error",t)},u.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("warn",t)},t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},o=function e(){r(this,e),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",t.HTTPRequest=i,t.HTTPRequestTrace=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=void 0===e?s:e,r=void 0===t?null:t,i={value:n,reason:r};return i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=-1;i.__dashjs_factory_name="SwitchRequest";var u=a.default.getClassFactory(i);u.NO_CHANGE=s,t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i){r(this,e),this.code=t||null,this.message=n||null,this.data=i||null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return r.reduce(function(n,r){return Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r],t&&delete e[r]),n},{})}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r.apply(void 0,[e,!1].concat(n))}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r.apply(void 0,[e,!0].concat(n))}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.reduce(function(e,t){return e[t]=!0,e},{});return Object.keys(e).reduce(function(t,n){return Object.prototype.hasOwnProperty.call(i,n)||(t[n]=e[n]),t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.sliceProperties=i,t.sliceAndUnsetProperties=o,t.exceptProperties=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){ce=0,fe=NaN,de=null,ye=null,ve=!1,pe={},ge=(0,c.default)($).getInstance()}function t(e){he=e,te=le.getElement(),X(),ye=he.manifestInfo.isDynamic,fe=he.start,Z.on(h.default.DATA_UPDATE_COMPLETED,R,this),Z.on(h.default.BYTES_APPENDED,Y,this),Z.on(h.default.BUFFER_LEVEL_STATE_CHANGED,W,this),Z.on(h.default.PERIOD_SWITCH_STARTED,n,this),ve&&(ve=!1,s())}function n(e){!ye&&e.fromStreamInfo&&pe[e.fromStreamInfo.id]&&delete pe[e.fromStreamInfo.id]}function r(){var e=P(!0),t=ye?e-he.start:0;return e+(he.duration-t)-g()}function i(){return g()>0}function o(){return he.id}function s(){if(te){te.autoplay=!0;var e=te.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&Z.trigger(h.default.PLAYBACK_NOT_ALLOWED),J("Caught pending play exception - continuing ("+e+")")})}else ve=!0}function l(){if(te)return te.paused}function f(){te&&(te.pause(),te.autoplay=!1)}function p(){if(te)return te.seeking}function y(e){le&&(J("Requesting seek to time: "+e),le.setCurrentTime(e))}function g(){if(te)return te.currentTime}function v(){if(te)return te.playbackRate}function _(){if(te)return te.played}function b(){if(te)return te.ended}function T(){return ye}function E(e){fe=e}function S(){return fe}function w(e,t){var n=se.getMpd(ae.getValue()),r=void 0,i=10;r=ge.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:ge.getLiveDelay()?ge.getLiveDelay():isNaN(e)?2*he.manifestInfo.minBufferTime:e*ge.getLiveDelayFragmentCount();var o=Math.max(t-i,t/2);return Math.min(r,o)}function O(){le&&te&&(Z.off(h.default.DATA_UPDATE_COMPLETED,R,this),Z.off(h.default.BUFFER_LEVEL_STATE_CHANGED,W,this),Z.off(h.default.BYTES_APPENDED,Y,this),M(),Q()),le=null,he=null,te=null,ye=null,e()}function C(e){e&&(e.streamController&&(ne=e.streamController),e.timelineConverter&&(re=e.timelineConverter),e.metricsModel&&(ie=e.metricsModel),e.dashMetrics&&(oe=e.dashMetrics),e.manifestModel&&(ae=e.manifestModel),e.dashManifestModel&&(se=e.dashManifestModel),e.adapter&&(ue=e.adapter),e.videoModel&&(le=e.videoModel))}function P(e){var t=void 0,n=(0,u.default)($).getInstance().getURIFragmentData(),r=parseInt(n.s,10),i=parseInt(n.t,10),o=NaN;if(e||(o=isNaN(r)?i:r),ye)!isNaN(o)&&o>1262304e3&&(t=o-he.manifestInfo.availableFrom.getTime()/1e3,(t>fe||t<fe-he.manifestInfo.DVRWindowSize)&&(t=null)),t=t||fe;else if(!isNaN(o)&&o<Math.max(he.manifestInfo.duration,he.duration)&&o>=0)t=o;else{var a=pe[he.id];void 0===a&&(a=ne.getActiveStreamCommonEarliestTime()),t=Math.max(a,he.start)}return t}function I(e){var t,n=ie.getReadOnlyMetricsFor("video")||ie.getReadOnlyMetricsFor("audio"),r=oe.getCurrentDVRInfo(n),i=r?r.range:null;if(!i)return NaN;if(e>i.end)t=Math.max(i.end-2*he.manifestInfo.minBufferTime,i.start);else{if(!(e<i.start))return e;t=i.start}return t}function A(){if(null===de){var e=function(){K()};de=setInterval(e,ge.getWallclockTimeUpdateInterval())}}function M(){clearInterval(de),de=null}function k(){var e=P(!1);e>0&&(y(e),J("Starting playback at offset: "+e))}function x(){if(!l()&&ye&&0!==te.readyState){var e=g(),t=I(e),n=!isNaN(t)&&t!==e;n&&y(t)}}function R(e){if(!e.error){var t=ue.convertDataToTrack(ae.getValue(),e.currentRepresentation),n=t.mediaInfo.streamInfo;he.id===n.id&&(he=n,x())}}function D(){Z.trigger(h.default.CAN_PLAY)}function L(){J("Native video element event: play"),x(),A(),Z.trigger(h.default.PLAYBACK_STARTED,{startTime:g()})}function j(){J("Native video element event: playing"),Z.trigger(h.default.PLAYBACK_PLAYING,{playingTime:g()})}function N(){J("Native video element event: pause"),Z.trigger(h.default.PLAYBACK_PAUSED,{ended:b()})}function F(){var e=g();J("Seeking to: "+e),A(),Z.trigger(h.default.PLAYBACK_SEEKING,{seekTime:e})}function U(){J("Native video element event: seeked"),Z.trigger(h.default.PLAYBACK_SEEKED)}function B(){var e=g();e!==ce&&(ce=e,Z.trigger(h.default.PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:e}))}function H(){Z.trigger(h.default.PLAYBACK_PROGRESS)}function V(){var e=v();J("Native video element event: ratechange: ",e),Z.trigger(h.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function q(){J("Native video element event: loadedmetadata"),(!ye&&he.isFirst||re.isTimeSyncCompleted())&&k(),Z.trigger(h.default.PLAYBACK_METADATA_LOADED),A()}function z(){J("Native video element event: ended"),f(),M(),Z.trigger(h.default.PLAYBACK_ENDED)}function G(e){var t=e.target||e.srcElement;Z.trigger(h.default.PLAYBACK_ERROR,{error:t.error})}function K(){Z.trigger(h.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ye,time:new Date})}function Y(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),he.start),r=void 0===pe[he.id]?n:Math.max(pe[he.id],n);r!==pe[he.id]&&(!ye&&P(!0)<r&&g()<r&&y(r),pe[he.id]=r)}}function W(e){e.streamInfo.id===he.id&&le.setStallState(e.mediaType,e.state===a.default.BUFFER_EMPTY)}function X(){te.addEventListener("canplay",D),te.addEventListener("play",L),te.addEventListener("playing",j),te.addEventListener("pause",N),te.addEventListener("error",G),te.addEventListener("seeking",F),te.addEventListener("seeked",U),te.addEventListener("timeupdate",B),te.addEventListener("progress",H),te.addEventListener("ratechange",V),te.addEventListener("loadedmetadata",q),te.addEventListener("ended",z)}function Q(){te.removeEventListener("canplay",D),te.removeEventListener("play",L),te.removeEventListener("playing",j),te.removeEventListener("pause",N),te.removeEventListener("error",G),te.removeEventListener("seeking",F),te.removeEventListener("seeked",U),te.removeEventListener("timeupdate",B),te.removeEventListener("progress",H),te.removeEventListener("ratechange",V),te.removeEventListener("loadedmetadata",q),te.removeEventListener("ended",z)}var $=this.context,J=(0,m.default)($).getInstance().log,Z=(0,d.default)($).getInstance(),ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ye=void 0,ge=void 0,ve=void 0;return ee={initialize:t,setConfig:C,getStreamStartTime:P,getTimeToStreamEnd:r,isPlaybackStarted:i,getStreamId:o,getTime:g,getPlaybackRate:v,getPlayedRanges:_,getEnded:b,getIsDynamic:T,setLiveStartTime:E,getLiveStartTime:S,computeLiveDelay:w,play:s,isPaused:l,pause:f,isSeeking:p,seek:y,reset:O},e(),ee}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=r(o),s=n(78),u=r(s),l=n(10),c=r(l),f=n(5),d=r(f),p=n(3),h=r(p),y=n(0),g=r(y),v=n(6),m=r(v);i.__dashjs_factory_name="PlaybackController",t.default=g.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){G={}}function t(e){e&&e.adapter&&(z=e.adapter)}function n(){V.trigger(I.default.METRICS_CHANGED)}function r(e){V.trigger(I.default.METRIC_CHANGED,{mediaType:e}),n()}function i(e,t,n){V.trigger(I.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),r(e)}function o(e,t,n){V.trigger(I.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),r(e)}function s(e){delete G[e],r(e)}function c(){G={},n()}function d(e){return G.hasOwnProperty(e)?G[e]:null}function h(e){var t;return G.hasOwnProperty(e)?t=G[e]:(t=new a.default,G[e]=t),t}function g(e,t,n,r,i,a){var s=new u.default;return s.tcpid=t,s.dest=n,s.topen=r,s.tclose=i,s.tconnect=a,h(e).TcpList.push(s),o(e,z.metricsList.TCP_CONNECTION,s),s}function m(e,t,n,r){var i=new l.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function T(e,t,n,r,i,a,s,u,c,f,d,p,y,g){var v=new l.HTTPRequest;return i&&i!==r&&(T(e,null,n,r,null,null,s,u,null,null,null,p,null,null),v.actualurl=i),v.tcpid=t,v.type=n,v.url=r,v.range=s,v.trequest=u,v.tresponse=c,v.responsecode=d,v._tfinish=f,v._stream=e,v._mediaduration=p,v._responseHeaders=y,v._serviceLocation=a,g?g.forEach(function(e){m(v,e.s,e.d,e.b)}):(delete v.interval,delete v.trace),h(e).HttpList.push(v),o(e,z.metricsList.HTTP_REQUEST,v),v}function S(e,t,n,r,i){var a=new f.default;return a.t=t,a.mt=n,a.to=r,i?a.lto=i:delete a.lto,h(e).RepSwitchList.push(a),o(e,z.metricsList.TRACK_SWITCH,a),a}function O(e,t,n){var r=new p.default;return r.t=t,r.level=n,h(e).BufferLevel.push(r),o(e,z.metricsList.BUFFER_LEVEL,r),r}function P(e,t,n){var r=new y.default;return r.target=n,r.state=t,h(e).BufferState.push(r),o(e,z.metricsList.BUFFER_STATE,r),r}function A(e,t,n,r){var i=new v.default;return i.time=t,i.range=r,i.manifestInfo=n,h(e).DVRInfo.push(i),o(e,z.metricsList.DVR_INFO,i),i}function M(e,t){var n=new _.default,r=h(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(r.push(n),o(e,z.metricsList.DROPPED_FRAMES,n),n)}function k(e,t,n,r,i,a,s,u,l){var c=new E.default;return c.mediaType=e,c.t=t,c.type=n,c.startTime=r,c.availabilityStartTime=i,c.duration=a,c.quality=s,c.range=u,c.state=l,h(e).SchedulingInfo.push(c),o(e,z.metricsList.SCHEDULING_INFO,c),c}function R(e,t,n){var r=new C.default;r.loadingRequests=t,r.executedRequests=n,h(e).RequestsQueue=r,o(e,z.metricsList.REQUESTS_QUEUE,r)}function D(e,t,n,r,i,a,s,u,l,c){var f=new b.ManifestUpdate,d=h("stream");return f.mediaType=e,f.type=t,f.requestTime=n,f.fetchTime=r,f.availabilityStartTime=i,f.presentationStartTime=a,f.clientTimeOffset=s,f.currentTime=u,f.buffered=l,f.latency=c,d.ManifestUpdate.push(f),o(e,z.metricsList.MANIFEST_UPDATE,f),f}function L(e,t){if(e){for(var n in t)e[n]=t[n];i(e.mediaType,z.metricsList.MANIFEST_UPDATE,e)}}function j(e,t,n,r,o){if(e){var a=new b.ManifestUpdateStreamInfo;return a.id=t,a.index=n,a.start=r,a.duration=o,e.streamInfo.push(a),i(e.mediaType,z.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),a}return null}function N(e,t,n,r,o,a,s,u){if(e){var l=new b.ManifestUpdateTrackInfo;return l.id=t,l.index=n,l.streamIndex=r,l.mediaType=o,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=a,e.trackInfo.push(l),i(e.mediaType,z.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),l}return null}function F(e){var t="stream";return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,h(t).PlayList.push(e),o(t,z.metricsList.PLAY_LIST,e),e}function U(e){var t="stream";return h(t).DVBErrors.push(e),o(t,z.metricsList.DVB_ERRORS,e),e}function B(e,t){var n=new x.default;return n._s=t,h(e).BolaState=[n],o(e,"BolaState",n),n}var H=this.context,V=(0,w.default)(H).getInstance(),q=void 0,z=void 0,G=void 0;return q={metricsChanged:n,metricChanged:r,metricUpdated:i,metricAdded:o,clearCurrentMetricsForType:s,clearAllCurrentMetrics:c,getReadOnlyMetricsFor:d,getMetricsFor:h,addTcpConnection:g,addHttpRequest:T,addRepresentationSwitch:S,addBufferLevel:O,addBufferState:P,addDVRInfo:A,addDroppedFrames:M,addSchedulingInfo:k,addRequestsQueue:R,addManifestUpdate:D,updateManifestUpdateInfo:L,addManifestUpdateStreamInfo:j,addManifestUpdateRepresentationInfo:N,addPlayList:F,addDVBErrors:U,updateBolaState:B,setConfig:t},e(),q}Object.defineProperty(t,"__esModule",{value:!0});var o=n(302),a=r(o),s=n(316),u=r(s),l=n(15),c=n(313),f=r(c),d=n(308),p=r(d),h=n(309),y=r(h),g=n(310),v=r(g),m=n(311),_=r(m),b=n(312),T=n(315),E=r(T),S=n(5),w=r(S),O=n(314),C=r(O),P=n(3),I=r(P),A=n(0),M=r(A),k=n(307),x=r(k);i.__dashjs_factory_name="MetricsModel",t.default=M.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){for(var e={},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t&&(0,i.each)(t,function(t,n){return(0,i.isPlain)(t)?((0,i.isPlain)(e[n])||(e[n]={}),void(e[n]=r(e[n],t))):void(e[n]=t)})}),e}t.__esModule=!0,t.default=r;var i=n(12)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e,t){var n,r=I.getValue(),i=r.Period_asArray[t];return n=S(i,e),null===n?null:n.bandwidth}function t(e,t){var n,r=I.getValue(),i=r.Period_asArray[t];return n=E(i,e)}function n(e,t){var n,r=I.getValue(),i=r.Period_asArray[t];return n=O(i,e)}function r(e){return d(e,h.TRACK_SWITCH)}function i(e){return d(e,h.BUFFER_LEVEL)}function o(e){var t=i(e);return t?(0,y.round10)(t.level/1e3,-3):0}function s(e){return e.RequestsQueue}function l(e){if(null===e)return null;var t,n,r=e.HttpList,i=null;if(null===r||r.length<=0)return null;for(t=r.length,n=t-1;n>=0;){if(r[n].responsecode){i=r[n];break}n--}return i}function f(e){return null===e?[]:e.HttpList?e.HttpList:[]}function d(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var r=n.length;return r<=0?null:n[r-1]}function p(e){return d(e,h.DROPPED_FRAMES)}function g(e){return d(e,h.SCHEDULING_INFO)}function v(e){return d(e,h.MANIFEST_UPDATE)}function m(e){return d(e,h.DVR_INFO)}function _(e,t){var n,r,i,o={};if(null===e)return null;for(n=f(e),i=n.length-1;i>=0;i--)if(r=n[i],r.type===a.HTTPRequest.MPD_TYPE){o=T(r._responseHeaders);break}return void 0===o[t]?null:o[t]}function b(e,t){if(null===e)return null;var n,r=l(e);return null===r||null===r._responseHeaders?null:(n=T(r._responseHeaders),void 0===n[t]?null:n[t])}function T(e){var t={};if(!e)return t;for(var n=e.trim().split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function E(e,t){var n=S(e,t,!0);return null!==n?n:-1}function S(e,t,n){var r,i,o,a,s,u;for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)for(r=i[s],a=r.Representation_asArray,u=0;u<a.length;u+=1)if(o=a[u],t===o.id)return n?u:o;return null}function w(e,t){return(0,c.default)(P).getInstance().getIsTypeOf(e,t)}function O(e,t){var n,r,i,o;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(n=r[o],i=n.Representation_asArray,w(n,t))return i.length;return-1}var C=void 0,P=this.context,I=(0,u.default)(P).getInstance();return C={getBandwidthForRepresentation:e,getIndexForRepresentation:t,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:r,getLatestBufferLevelVO:i,getCurrentBufferLevel:o,getCurrentHttpRequest:l,getHttpRequests:f,getCurrentDroppedFrames:p,getCurrentSchedulingInfo:g,getCurrentDVRInfo:m,getCurrentManifestUpdate:v,getLatestFragmentRequestHeaderValueByID:b,getLatestMPDRequestHeaderValueByID:_,getRequestsQueue:s}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),s=n(58),u=i(s),l=n(27),c=i(l),f=n(0),d=i(f),p=n(116),h=r(p),y=n(349);o.__dashjs_factory_name="DashMetrics",t.default=d.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){f.trigger(u.default.ERROR,{error:"capability",event:e})}function t(e,t,n){f.trigger(u.default.ERROR,{error:"download",event:{id:e,url:t,request:n}})}function n(e,t,n,r){f.trigger(u.default.ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})}function r(e,t,n){f.trigger(u.default.ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function i(e){f.trigger(u.default.ERROR,{error:"mediasource",event:e})}function o(e){f.trigger(u.default.ERROR,{error:"key_session",event:e})}function s(e){f.trigger(u.default.ERROR,{error:"key_message",event:e})}var l=void 0,c=this.context,f=(0,a.default)(c).getInstance();return l={capabilityError:e,downloadError:t,manifestError:n,timedTextError:r,mediaSourceError:i,mediaKeySessionError:o,mediaKeyMessageError:s}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l),f="mediasource",d="mediakeys",p="manifest",h="SIDX",y="content",g="initialization",v="xlink",m="codec",_="parse",b="nostreams",T="parse";i.__dashjs_factory_name="ErrorHandler";var E=c.default.getSingletonFactory(i);E.CAPABILITY_ERROR_MEDIASOURCE=f,E.CAPABILITY_ERROR_MEDIAKEYS=d,E.DOWNLOAD_ERROR_ID_MANIFEST=p,E.DOWNLOAD_ERROR_ID_SIDX=h,E.DOWNLOAD_ERROR_ID_CONTENT=y,E.DOWNLOAD_ERROR_ID_INITIALIZATION=g,E.DOWNLOAD_ERROR_ID_XLINK=v,E.MANIFEST_ERROR_ID_CODEC=m,E.MANIFEST_ERROR_ID_PARSE=_,E.MANIFEST_ERROR_ID_NOSTREAMS=b,E.TIMED_TEXT_ERROR_ID_PARSE=T,t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n=p.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&p.removeElData(e)}function a(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function s(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||_.default.event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||T.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=T.default.documentElement,a=T.default.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function u(e,t,n){if(Array.isArray(t))return a(u,e,t,n);var r=p.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=y.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=s(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,u=o.length;a<u&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){v.default.error(e)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function l(e,t,n){if(p.hasElData(e)){var r=p.getElData(e);if(r.handlers){if(Array.isArray(t))return a(l,e,t,n);var i=function(t){r.handlers[t]=[],o(e,t)};if(t){var s=r.handlers[t];if(s){if(!n)return void i(t);if(n.guid)for(var u=0;u<s.length;u++)s[u].guid===n.guid&&s.splice(u--,1);o(e,t)}}else for(var c in r.handlers)i(c)}}}function c(e,t,n){var r=p.hasElData(e)?p.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=s(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)c.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=p.getElData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function f(e,t,n){if(Array.isArray(t))return a(f,e,t,n);var r=function r(){l(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||y.newGUID(),u(e,t,r)}t.__esModule=!0,t.fixEvent=s,t.on=u,t.off=l,t.trigger=c,t.one=f;var d=n(8),p=i(d),h=n(34),y=i(h),g=n(14),v=r(g),m=n(4),_=r(m),b=n(9),T=r(b)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n,r,i,o=!1,a=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if(0===l.search("stpp")||0===l.search("wvtt"))return"fragmentedText"===t}if(s){if(s.length>1)return"muxed"===t;s[0]&&s[0].contentType===t&&(o=!0,a=!0)}if(e.hasOwnProperty("mimeType")&&(o=u.test(e.mimeType),a=!0),!a)for(n=0,r=e.Representation_asArray.length;!a&&n<r;)i=e.Representation_asArray[n],i.hasOwnProperty("mimeType")&&(o=u.test(i.mimeType),a=!0),n++;return o}function t(t){return e(t,"audio")}function n(t){return e(t,"video")}function r(t){return e(t,"fragmentedText")}function i(t){return e(t,"text")}function o(t){return e(t,"muxed")}function s(e){return"text/vtt"===e||"application/ttml+xml"===e}function l(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function f(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function p(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function y(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function v(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function _(e){return p(e).filter(function(e){return"main"===e.value})[0]}function T(){return function(e,t){return e.bandwidth-t.bandwidth}}function S(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(T()),e}function O(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r].hasOwnProperty("id")&&o[r].id===e)return o[r];return null}function P(e,t,n){var r=t.Period_asArray[n].AdaptationSet_asArray;return r[e]}function A(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r]===e)return r;return-1}function M(t,n,r){var i,o,a=t.Period_asArray[n].AdaptationSet_asArray,s=[];for(i=0,o=a.length;i<o;i++)e(a[i],r)&&s.push(S(a[i]));return s}function k(e,t,n,r){var i=M(e,t,n);if(!i||0===i.length)return null;if(i.length>1&&r)for(var o=le.getCurrentTrackFor(n,r),a=ce.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(o&&le.isTracksEqual(o,a[s]))return i[s];if(_(i[s]))return i[s]}return i[0]}function x(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function R(e){return e.Representation_asArray[0].mimeType}function D(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null}function L(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function j(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function N(e){var t,n,r=j(e);return t=!isNaN(e.timeShiftBufferDepth),n=r&&t}function F(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=e.profiles.indexOf(t)!==-1),n}function U(e){return F(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function B(e){return F(e,"urn:dvb:dash:profile:dvb-dash:2014")}function H(e){var t;return t=e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE}function V(e){return e.bandwidth}function q(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)}function z(e){return e.Representation_asArray.length}function G(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=S(e),n=t.Representation_asArray,r=n.length,i=[],o=0;o<r;o++)i.push({bandwidth:n[o].bandwidth,width:n[o].width||0,height:n[o].height||0});return i}function K(e,t){return t.Representation_asArray[e]}function Y(e,t){for(var n,r,i,o,u,l=S(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),c=[],f=0;f<l.Representation_asArray.length;f++)o=l.Representation_asArray[f],n=new a.default,n.index=f,n.adaptation=t,o.hasOwnProperty("id")&&(n.id=o.id),o.hasOwnProperty("bandwidth")&&(n.bandwidth=o.bandwidth),o.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=o.maxPlayoutRate),o.hasOwnProperty("SegmentBase")?(i=o.SegmentBase,n.segmentInfoType="SegmentBase"):o.hasOwnProperty("SegmentList")?(i=o.SegmentList,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0)):o.hasOwnProperty("SegmentTemplate")?(i=o.SegmentTemplate,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(o.bandwidth).split("$RepresentationID$").join(o.id))):n.segmentInfoType="BaseURL",i&&(i.hasOwnProperty("Initialization")?(r=i.Initialization,r.hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range)):o.hasOwnProperty("mimeType")&&s(o.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale)),n.MSETimeOffset=ue.calcMSETimeOffset(n),n.path=[t.period.index,t.index,f],c.push(n);return c}function W(e,i){for(var a,s,l=e.Period_asArray[i.index],c=[],f=0;f<l.AdaptationSet_asArray.length;f++)s=l.AdaptationSet_asArray[f],a=new u.default,s.hasOwnProperty("id")&&(a.id=s.id),a.index=f,a.period=i,o(s)?a.type="muxed":t(s)?a.type="audio":n(s)?a.type="video":r(s)?a.type="fragmentedText":a.type="text",c.push(a);return c}function X(e,t){var n,r,i=j(e),o=[],a=null,s=null,u=null,l=null;for(r=0,n=e.Period_asArray.length;r<n;r++)s=e.Period_asArray[r],s.hasOwnProperty("start")?(l=new c.default,l.start=s.start):null!==a&&s.hasOwnProperty("duration")&&null!==u?(l=new c.default,
l.start=u.start+u.duration,l.duration=s.duration):0!==r||i||(l=new c.default,l.start=0),null!==u&&isNaN(u.duration)&&(u.duration=l.start-u.start),null!==l&&(l.id=Q(s,r)),null!==l&&s.hasOwnProperty("duration")&&(l.duration=s.duration),null!==l&&(l.index=r,l.mpd=t,o.push(l),a=s,u=l),s=null,l=null;return 0===o.length?o:(null!==u&&isNaN(u.duration)&&(u.duration=J(e,u)-u.start),o)}function Q(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=c.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(n=e.id),n}function $(e){var t=new d.default;return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("minimumUpdatePeriod")&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty("mediaPresentationDuration")&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function J(e,t){var n=j(e),r=void 0;if(e.mediaPresentationDuration)r=e.mediaPresentationDuration;else if(t.duration)r=t.duration;else{if(!n)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");r=Number.POSITIVE_INFINITY}return r}function Z(e,t){var n=e.Period_asArray,r=n[t.index].EventStream_asArray,i=[];if(r)for(var o=0;o<r.length;o++){var a=new C.default;if(a.period=t,a.timescale=1,!r[o].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");a.schemeIdUri=r[o].schemeIdUri,r[o].hasOwnProperty("timescale")&&(a.timescale=r[o].timescale),r[o].hasOwnProperty("value")&&(a.value=r[o].value);for(var s=0;s<r[o].Event_asArray.length;s++){var u=new E.default;u.presentationTime=0,u.eventStream=a,r[o].Event_asArray[s].hasOwnProperty("presentationTime")&&(u.presentationTime=r[o].Event_asArray[s].presentationTime),r[o].Event_asArray[s].hasOwnProperty("duration")&&(u.duration=r[o].Event_asArray[s].duration),r[o].Event_asArray[s].hasOwnProperty("id")&&(u.id=r[o].Event_asArray[s].id),i.push(u)}}return i}function ee(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new C.default;if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function te(e,t){var n=e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray;return ee(n,null)}function ne(e,t){var n=e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray;return ee(n,t)}function re(e){var t=j(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new h.default;e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),i.push(t)))}),i}function ie(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some(function(n){if(n){var i=new w.default,o=n.__text||n;return fe.isRelative(o)&&(r=!0,e.baseUri&&(o=e.baseUri+o)),i.url=o,n.hasOwnProperty("serviceLocation")&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=o,n.hasOwnProperty("dvb:priority")&&(i.dvb_priority=n["dvb:priority"]),n.hasOwnProperty("dvb:weight")&&(i.dvb_weight=n["dvb:weight"]),t.push(i),r}}),t}function oe(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var ae=void 0,se=this.context,ue=(0,g.default)(se).getInstance(),le=(0,m.default)(se).getInstance(),ce=(0,b.default)(se).getInstance(),fe=(0,I.default)(se).getInstance();return ae={getIsTypeOf:e,getIsAudio:t,getIsVideo:n,getIsText:i,getIsMuxed:o,getIsTextTrack:s,getIsFragmentedText:r,getIsMain:_,getLanguageForAdaptation:l,getViewpointForAdaptation:f,getRolesForAdaptation:p,getAccessibilityForAdaptation:y,getAudioChannelConfigurationForAdaptation:v,processAdaptation:S,getAdaptationForIndex:P,getIndexForAdaptation:A,getAdaptationForId:O,getAdaptationsForType:M,getAdaptationForType:k,getCodec:x,getMimeType:R,getKID:D,getContentProtectionData:L,getIsDynamic:j,getIsDVR:N,getIsOnDemand:U,getIsDVB:B,getDuration:H,getBandwidth:V,getManifestUpdatePeriod:q,getRepresentationCount:z,getBitrateListForAdaptation:G,getRepresentationFor:K,getRepresentationsForAdaptation:Y,getAdaptationsForPeriod:W,getRegularPeriods:X,getMpd:$,getEventsForPeriod:Z,getEventStreams:ee,getEventStreamForAdaptationSet:te,getEventStreamForRepresentation:ne,getUTCTimingSources:re,getBaseURLsFromElement:ie,getRepresentationSortFunction:T,getLocation:oe}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),a=r(o),s=n(224),u=r(s),l=n(227),c=r(l),f=n(226),d=r(f),p=n(120),h=r(p),y=n(74),g=r(y),v=n(29),m=r(v),_=n(37),b=r(_),T=n(119),E=r(T),S=n(118),w=r(S),O=n(225),C=r(O),P=n(42),I=r(P),A=n(0),M=r(A);i.__dashjs_factory_name="DashManifestModel",t.default=M.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){ge={video:!0,audio:!0},ve={},me={},_e={},be={},Te={},Se={},Ee={},je={},Oe=!1,Ce=!1,void 0===Pe&&(Pe=!1),De=(0,u.default)(le).getInstance(),Re=(0,c.default)(le).getInstance(),Me=(0,E.default)(le).getInstance(),ke=(0,w.default)(le).getInstance(),xe=(0,C.default)(le).getInstance(),Fe=(0,j.default)(le).getInstance(),Ue=(0,F.default)(le).getInstance(),Be=(new Date).getTime()/1e3}function t(e,t){je[e]=(0,x.default)(le).create(),Ee[e]=t,Se[e]=Se[e]||{},Se[e].state=V,de.on(g.default.LOADING_PROGRESS,ue,this),"video"==e&&(de.on(m.default.QUALITY_CHANGE_RENDERED,i,this),Ne=(0,D.default)(le).create(),ae())}function n(){de.off(g.default.LOADING_PROGRESS,ue,this),de.off(m.default.QUALITY_CHANGE_RENDERED,i,this),Le=void 0,Ne=void 0,clearTimeout(we),we=null,e()}function r(e){e&&(e.abrRulesCollection&&(he=e.abrRulesCollection),e.streamController&&(ye=e.streamController))}function i(e){"video"===e.mediaType&&(Le=e.newQuality,Ne.push(Le,xe.getPlaybackQuality()))}function o(e,t){var n;return ve[t]=ve[t]||{},ve[t].hasOwnProperty(e)||(ve[t][e]=0),n=re(ve[t][e],e),n=ie(n,e,ve[t][e]),n=se(n,e)}function s(e){var t=De.getSavedBitrateSettings(e);if(!_e.hasOwnProperty(e))if(be.hasOwnProperty(e)){var n=Me.getValue(),r=ke.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*be[e])-1,0);_e[e]=r[i].bandwidth}else _e[e]=0}else isNaN(t)?_e[e]="video"===e?q:z:_e[e]=t;return _e[e]}function l(e,t){_e[e]=t}function f(e){return be.hasOwnProperty(e)?be[e]:null}function p(e,t){be[e]=t}function y(e){return _e.hasOwnProperty("max")&&_e.max.hasOwnProperty(e)?_e.max[e]:NaN}function v(e,t){_e.max=_e.max||{},_e.max[e]=t}function _(e){return be.hasOwnProperty("max")&&be.max.hasOwnProperty(e)?be.max[e]:1}function b(e,t){be.max=be.max||{},be.max[e]=t}function T(e){return ge[e]}function S(e,t){ge[e]=t}function O(){return Oe}function P(e){Oe=e}function A(){return Ce}function k(e){Ce=e}function R(e){var t=e.getType(),n=e.getStreamInfo(),r=n.id,i=ee(t,n),a=(0,I.default)(le).create({streamProcessor:e,currentValue:i,playbackIndex:Le,switchHistory:je[t],droppedFramesHistory:Ne,hasRichBuffer:X(t)});if(Ne&&Ne.push(Le,xe.getPlaybackQuality()),T(t)){var s=o(t,r),u=he.getMaxQuality(a),l=u.value;if(l>s&&(l=s),je[t].push({oldValue:i,newValue:l}),l>M.default.NO_CHANGE&&l!=i)(Se[t].state===V||l>i)&&N(t,n,i,l,s,u.reason);else if(ce.getLogToBrowserConsole()){var c=Ue.getCurrentBufferLevel(Fe.getReadOnlyMetricsFor(t));fe("AbrController ("+t+") stay on "+i+"/"+s+" (buffer: "+c+")")}}}function L(e,t,n,r){var i=t.id,a=ee(e,t),s=null!==n&&!isNaN(n)&&n%1===0;if(!s)throw new Error("argument is not an integer");var u=o(e,i);n!==a&&n>=0&&n<=u&&N(e,t,a,n,u,r)}function N(e,t,n,r,i,o){if(ce.getLogToBrowserConsole()){var a=Ue.getCurrentBufferLevel(Fe.getReadOnlyMetricsFor(e));fe("AbrController ("+e+") switch from "+n+" to "+r+"/"+i+" (buffer: "+a+")\n"+JSON.stringify(o))}te(e,t.id,r),de.trigger(g.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:o})}function U(e,t){Se[e].state=t}function K(e){return Se[e].state}function Y(e,t,n){if(n&&Ee[e.type].getCurrentRepresentationInfo()&&Ee[e.type].getCurrentRepresentationInfo().fragmentDuration){n/=1e3;var r=Ee[e.type].getCurrentRepresentationInfo().fragmentDuration;if(n>r)return 0;var i=n/r;t*=1-i}var o=W(e);if(!o||0===o.length)return G;for(var a=o.length-1;a>=0;a--){var s=o[a];if(1e3*t>=s.bitrate)return a}return 0}function W(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],o=0,s=n.length;o<s;o++)t=new a.default,t.mediaType=r,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,i.push(t);return i}function X(e){var t=Fe.getReadOnlyMetricsFor(e),n=Ue.getCurrentBufferLevel(t),r=t.BufferState.length>0?t.BufferState[t.BufferState.length-1]:null,i=!1;return r&&n>r.target&&(i=n>r.target+Re.getRichBufferThreshold()),i}function Q(e,t){Te[e]=t}function $(e){return Te[e]}function J(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return ne(t,n,r),r}function Z(e){var t,n=e.id,r=ee("audio",e),i=ee("video",e);return t=r===o("audio",n)&&i===o("video",n)}function ee(e,t){var n,r=t.id;return me[r]=me[r]||{},me[r].hasOwnProperty(e)||(me[r][e]=G),n=me[r][e]}function te(e,t,n){me[t]=me[t]||{},me[t][e]=n}function ne(e,t,n){ve[t]=ve[t]||{},ve[t][e]=n}function re(e,t){var n=y(t);if(isNaN(n)||!Ee[t])return e;var r=Y(Ee[t].getMediaInfo(),n);return Math.min(e,r)}function ie(e,t,n){var r=_(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function oe(e){Pe=e}function ae(){var e=xe.getElement();if(void 0!==e){var t=Ce&&window.hasOwnProperty("devicePixelRatio"),n=t?window.devicePixelRatio:1;Ie=e.clientWidth*n,Ae=e.clientHeight*n}}function se(e,t){if("video"!==t||!Oe||!Ee[t])return e;Pe||ae();var n=Me.getValue(),r=ke.getAdaptationForType(n,0,t).Representation,i=e;if(Ie>0&&Ae>0){for(;i>0&&r[i]&&Ie<r[i].width&&Ie-r[i-1].width<r[i].width-Ie;)i-=1;r.length-2>=i&&r[i].width===r[i+1].width&&(i=Math.min(e,i+1))}return i}function ue(e){var t=e.request.mediaType;if(T(t)){var n=Ee[t].getScheduleController();if(!n)return;var r=(0,I.default)(le).create({streamProcessor:Ee[t],currentRequest:e.request,currentValue:ee(t,ye.getActiveStreamInfo()),hasRichBuffer:X(t)}),i=he.shouldAbandonFragment(r);if(i.value>M.default.NO_CHANGE){var o=n.getFragmentModel(),a=o.getRequests({state:d.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0];a&&(o.abortRequests(),U(t,H),je[t].reset(),je[t].push({oldValue:ee(t,ye.getActiveStreamInfo()),newValue:i.value,confidence:1,reason:i.reason}),L(t,ye.getActiveStreamInfo(),i.value,i.reason),de.trigger(g.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:Ee[t],request:a,mediaType:t}),clearTimeout(we),we=setTimeout(function(){U(t,V),we=null},Re.getAbandonLoadTimeout()))}}}var le=this.context,ce=(0,B.default)(le).getInstance(),fe=ce.log,de=(0,h.default)(le).getInstance(),pe=void 0,he=void 0,ye=void 0,ge=void 0,ve=void 0,me=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,Se=void 0,we=void 0,Oe=void 0,Ce=void 0,Pe=void 0,Ie=void 0,Ae=void 0,Me=void 0,ke=void 0,xe=void 0,Re=void 0,De=void 0,Le=void 0,je=void 0,Ne=void 0,Fe=void 0,Ue=void 0,Be=void 0;return pe={isPlayingAtTopQuality:Z,updateTopQualityIndex:J,getAverageThroughput:$,getBitrateList:W,getQualityForBitrate:Y,getMaxAllowedBitrateFor:y,setMaxAllowedBitrateFor:v,getMaxAllowedRepresentationRatioFor:_,setMaxAllowedRepresentationRatioFor:b,getInitialBitrateFor:s,setInitialBitrateFor:l,getInitialRepresentationRatioFor:f,setInitialRepresentationRatioFor:p,setAutoSwitchBitrateFor:S,getAutoSwitchBitrateFor:T,setLimitBitrateByPortal:P,getLimitBitrateByPortal:O,getUsePixelRatioInLimitBitrateByPortal:A,setUsePixelRatioInLimitBitrateByPortal:k,getQualityFor:ee,getAbandonmentStateFor:K,setAbandonmentStateFor:U,setPlaybackQuality:L,getPlaybackQuality:R,setAverageThroughput:Q,getTopQualityIndexFor:o,setElementSize:ae,setWindowResizeEventCalled:oe,initialize:t,setConfig:r,reset:n},e(),pe}Object.defineProperty(t,"__esModule",{value:!0});var o=n(296),a=r(o),s=n(85),u=r(s),l=n(10),c=r(l),f=n(57),d=r(f),p=n(5),h=r(p),y=n(3),g=r(y),v=n(38),m=r(v),_=n(0),b=r(_),T=n(58),E=r(T),S=n(27),w=r(S),O=n(32),C=r(O),P=n(128),I=r(P),A=n(16),M=r(A),k=n(278),x=r(k),R=n(277),D=r(R),L=n(21),j=r(L),N=n(23),F=r(N),U=n(6),B=r(U),H="abandonload",V="allowload",q=1e3,z=100,G=0;i.__dashjs_factory_name="AbrController";var K=b.default.getSingletonFactory(i);K.ABANDON_LOAD=H,K.QUALITY_DEFAULT=G,t.default=K,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){U={},M(),A()}function t(e,t){var n=c(e),i=r(e,t),o=[];return"fragmentedText"===e?void s(i[0]):(n||(n=N.getSavedMediaSettings(e),l(e,n)),void(i&&0!==i.length&&(n&&i.forEach(function(e){I(n,e)&&o.push(e)}),s(0===o.length?k(i):o.length>1?k(o):o[0]))))}function n(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=c(t);return!(!e||!S(t))&&(U[n]=U[n]||x(),!(U[n][t].list.indexOf(e)>=0)&&(U[n][t].list.push(e),r&&I(r,e)&&!i(t,e.streamInfo)&&s(e),!0))}function r(e,t){if(!e||!t)return[];var n=t.id;return U[n]&&U[n][e]?U[n][e].list:[]}function i(e,t){return!e||!t||t&&!U[t.id]?null:U[t.id][e].current}function o(e){var t=e.type,n=e.streamInfo.id;return U[n]&&U[n][t]&&w(U[n][t].current,e)}function s(e){if(e){var t=e.type,n=e.streamInfo,r=n.id,o=i(t,n);if(U[r]&&U[r][t]&&(!o||!w(e,o))){U[r][t].current=e,o&&L.trigger(a.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:V[t]});var s=P(e);s&&U[r][t].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),N.setSavedMediaSettings(t,s))}}}function l(e,t){e&&t&&(B[e]=t)}function c(e){return e?B[e]:null}function f(e,t){var n=z.indexOf(t)!==-1;return n?void(V[e]=t):void D("track switch mode is not supported: "+t)}function p(e){return V[e]}function y(e){var t=G.indexOf(e)!==-1;return t?void(H=e):void D("track selection mode is not supported: "+e)}function E(){return H||T}function S(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function w(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function O(e){e&&e.errHandler&&(q=e.errHandler)}function C(){e(),j.resetEmbedded()}function P(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration},n=t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0;return n?t:null}function I(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&o&&a}function A(){V={audio:m,video:v}}function M(){B={audio:null,video:null}}function k(e){var t=E(),n=[],r=function(e){var t,n=0,r=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),t>n?(n=t,r=[e]):t===n&&r.push(e)}),r},i=function(e){var t,n=0,r=[];return e.forEach(function(e){t=e.representationCount,t>n?(n=t,r=[e]):t===n&&r.push(e)}),r};switch(t){case _:n=r(e),n.length>1&&(n=i(n));break;case b:n=i(e),n.length>1&&(n=r(e));break;default:D("track selection mode is not supported: "+t)}return n[0]}function x(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var R=this.context,D=(0,d.default)(R).getInstance().log,L=(0,u.default)(R).getInstance(),j=(0,h.default)(R).getInstance(),N=(0,g.default)(R).getInstance(),F=void 0,U=void 0,B=void 0,H=void 0,V=void 0,q=void 0,z=[m,v],G=[_,b];return F={initialize:e,checkInitialMediaSettingsForType:t,addTrack:n,getTracksFor:r,getCurrentTrackFor:i,isCurrentTrack:o,setTrack:s,setInitialSettings:l,getInitialSettings:c,setSwitchMode:f,getSwitchMode:p,setSelectionModeForInitialTrack:y,getSelectionModeForInitialTrack:E,isMultiTrackSupportedByType:S,isTracksEqual:w,setConfig:O,reset:C}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),s=n(5),u=r(s),l=n(0),c=r(l),f=n(6),d=r(f),p=n(30),h=r(p),y=n(85),g=r(y),v="neverReplace",m="alwaysReplace",_="highestBitrate",b="widestRange",T=_;i.__dashjs_factory_name="MediaController";var E=c.default.getSingletonFactory(i);E.TRACK_SWITCH_MODE_NEVER_REPLACE=v,E.TRACK_SWITCH_MODE_ALWAYS_REPLACE=m,E.TRACK_SELECTION_MODE_HIGHEST_BITRATE=_,E.TRACK_SELECTION_MODE_WIDEST_RANGE=b,E.DEFAULT_INIT_TRACK_SELECTION_MODE=T,t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,n){F=!1,U=null,K=null,Y=!1,W=NaN,X=[],J=null,k||t();var r=n.getStreamProcessor();if(q=r.getMediaInfoArr(),z.setConfig({videoModel:Q}),z.initialize(),G=!j.getIsTextTrack(e),D=(0,c.default)(A).getInstance(),V=(0,u.default)(A).getInstance(),V.setConfig({boxParser:D}),G){K=r.getFragmentModel(),this.buffered=(0,d.default)(A).create(),X=N.getTracksFor("fragmentedText",$.getActiveStreamInfo());for(var i=N.getCurrentTrackFor("fragmentedText",$.getActiveStreamInfo()),o=0;o<X.length;o++)if(X[o]===i){Z=o;break}}}function t(){ee=[],q=[],Q=(0,m.default)(A).getInstance(),z=(0,b.default)(A).getInstance(),z.setConfig({videoModel:Q}),z.initialize(),D=(0,c.default)(A).getInstance(),V=(0,u.default)(A).getInstance(),V.setConfig({boxParser:D}),G=!1,Z=null,te=!1,ne=0,oe=[],ie=[],re=null,k=!0}function n(e,t){function n(e,t){var n=new a.default,r={subtitle:"subtitles",caption:"captions"},i=function(){var e=t.roles.length>0?r[t.roles[0]]:r.caption;return e=e===r.caption||e===r.subtitle?e:r.caption},o=function(){var e=!1;return t.codec&&t.codec.search("stpp")>=0&&(e=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(e=!0),e};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=o(),n.video=Q.getElement(),n.defaultTrack=C(t),n.isFragmented=G,n.isEmbedded=!!t.isEmbedded,n.kind=i();var s=(q?q.length:0)+ee.length;z.addTextTrack(n,s)}var i,o,s,u,l,c,f,d=t.mediaInfo,p=d.type,y=d.mimeType,g=d.codec||y;if(!g)return void M("No text type defined");if("fragmentedText"===p)if(Y)if(c=V.getSamplesInfo(e),o=c.sampleList,!J&&o.length>0&&(J=o[0].cts-t.start*W),g.search("stpp")>=0)for(U=null!==U?U:P(g),s=0;s<o.length;s++){var v=o[s],m=v.cts,_=m-J;this.buffered.add(_/W,(_+v.duration)/W);var b=new DataView(e,v.offset,v.subSizes[0]);f=E.default.Utils.dataViewToString(b,"utf-8");var T=[],S=v.offset+v.subSizes[0];for(u=1;u<v.subSizes.length;u++){var O=new Uint8Array(e,S,v.subSizes[u]),I=String.fromCharCode.apply(null,O);T.push(I),S+=v.subSizes[u]}try{i=U.parse(f,m/W,(m+v.duration)/W,T),z.addCaptions(Z,J/W,i)}catch(e){M("TTML parser error: "+e.message)}}else{var A=[];for(s=0;s<o.length;s++){var k=o[s];k.cts-=J,this.buffered.add(k.cts/W,(k.cts+k.duration)/W);var x=e.slice(k.offset,k.offset+k.size),R=E.default.parseBuffer(x);for(u=0;u<R.boxes.length;u++){var D=R.boxes[u];if(M("VTT box1: "+D.type),"vtte"!==D.type&&"vttc"===D.type)for(M("VTT vttc boxes.length = "+D.boxes.length),l=0;l<D.boxes.length;l++){var j=D.boxes[l];if(M("VTT box2: "+j.type),"payl"===j.type){var N=j.cue_text;M("VTT cue_text = "+N);var F=k.cts/W,B=(k.cts+k.duration)/W;A.push({start:F,end:B,data:N,styles:{}}),M("VTT "+F+"-"+B+" : "+N)}}}}A.length>0&&z.addCaptions(Z,0,A)}else{for(Y=!0,s=0;s<q.length;s++)n(null,q[s]);W=V.getMediaTimescaleFromMoov(e)}else if("text"===p){var b=new DataView(e,0,e.byteLength);f=E.default.Utils.dataViewToString(b,"utf-8");try{i=P(g).parse(f),n(i,d)}catch(e){L.timedTextError(e,"parse",f)}}else if("video"===p)if("InitializationSegment"===t.segmentType){if(0===ne)for(ne=V.getMediaTimescaleFromMoov(e),s=0;s<ee.length;s++)n(null,ee[s])}else{if(0===ne)return void M("CEA-608: No timescale for embeddedTextTrack yet");var H=function(e,t){function n(e,n,r){var i=null;if(Q.getTTMLRenderingDiv())i=h(Q.getElement(),e,n,r);else{var o=r.getDisplayText();i=[{start:e,end:n,data:o,styles:{}}]}i&&z.addCaptions(t,0,i)}return n};c=V.getSamplesInfo(e);var K=c.sequenceNumber;if(!oe[0]&&!oe[1]){var X=void 0,$=void 0,te=void 0;for(s=0;s<ee.length;s++){if("CC1"===ee[s].id?(X=0,te=z.getTrackIdxForId("CC1")):"CC3"===ee[s].id&&(X=1,te=z.getTrackIdxForId("CC3")),te===-1)return void M("CEA-608: data before track is ready.");$=H(this,te),oe[s]=new w.default.Cea608Parser(s,{newCue:$},null)}}if(ne&&ie.indexOf(K)==-1){if(null!==re&&K!==re+1)for(s=0;s<oe.length;s++)oe[s]&&oe[s].reset();for(var ae=r(e),se=0;se<oe.length;se++){var ue=ae.fields[se],le=oe[se];if(le){for(s=0;s<ue.length;s++)le.addData(ue[s][0]/ne,ue[s][1]);ae.endTime&&le.cueSplitAtTime(ae.endTime/ne)}}re=K,ie.push(K)}}}function r(e){var t=function(e,t,n){var r=e.length;if(r>0){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;i>=0;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])},n=D.parse(e),r=n.getBox("moof"),i=n.getBox("tfdt"),o=n.getBox("tfhd"),a=n.getBoxes("trun"),s=null;if(0===a.length)return null;s=a[0],a.length>1&&M("Warning: Too many truns");for(var u=r.offset+s.data_offset,l=s.sample_count,c=u,f=i.baseMediaDecodeTime,d=new DataView(e),p={startTime:null,endTime:null,fields:[[],[]]},h=0,y=0;y<l;y++){var g=s.samples[y];void 0===g.sample_duration&&(g.sample_duration=o.default_sample_duration),void 0===g.sample_size&&(g.sample_size=o.default_sample_size),void 0===g.sample_composition_time_offset&&(g.sample_composition_time_offset=0);for(var v=f+h+g.sample_composition_time_offset,m=w.default.findCea608Nalus(d,c,g.sample_size),_=0;_<m.length;_++)for(var b=w.default.extractCea608DataFromRange(d,m[_]),T=0;T<2;T++)b[T].length>0&&t(p.fields[T],v,b[T]);h+=g.sample_duration,c+=g.sample_size}var E=f+h;return p.startTime=f,p.endTime=E,p}function i(e){for(var t="",n=0;n<e.length;++n){var r=e[n];t+=r.uchar}var i=t.length,o=t.replace(/^\s+/,"").length;return i-o}function o(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function s(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function l(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?s(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?s(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(e){var t=e.replace(/^\s+/g,"");return t}function p(e){var t=e.replace(/\s+$/g,"");return t}function h(e,t,n,r){var a=null,s=null,u=!1,c=-1,d={start:t,end:n,spans:[]},h="style_cea608_white_black",y={},g={},v=[],m=void 0,_=void 0;for(m=0;m<15;++m){var b=r.rows[m],T="",E=null;if(!1===b.isEmpty()){var S=i(b.chars);null===a&&(a={x:S,y1:m,y2:m+1,p:[]}),S!==c&&u&&(a.p.push(d),d={start:t,end:n,spans:[]},a.y2=m,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===y.hasOwnProperty(a.name)?(v.push(a),y[a.name]=a):(s=y[a.name],s.p.contat(a.p)),a={x:S,y1:m,y2:m+1,p:[]});for(var w=0;w<b.chars.length;++w){var O=b.chars[w],C=O.penState;if(null===E||!C.equals(E)){T.trim().length>0&&(d.spans.push({name:h,line:T,row:m}),T="");var P="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(P+="_underline"),C.italics&&(P+="_italics"),g.hasOwnProperty(P)||(g[P]=JSON.parse(JSON.stringify(C))),E=C,h=P}T+=O.uchar}T.trim().length>0&&d.spans.push({name:h,line:T,row:m}),u=!0,c=S}else u=!1,c=-1,a&&(a.p.push(d),d={start:t,end:n,spans:[]},a.y2=m,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===y.hasOwnProperty(a.name)?(v.push(a),y[a.name]=a):(s=y[a.name],s.p.contat(a.p)),a=null)}a&&(a.p.push(d),a.y2=m+1,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===y.hasOwnProperty(a.name)?(v.push(a),y[a.name]=a):(s=y[a.name],s.p.contat(a.p)),a=null);var I=[];for(m=0;m<v.length;++m){var A=v[m],M="sub_cea608_"+x++,k=document.createElement("div");k.id=M;var R=o(A);k.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+R;var D=document.createElement("div");D.className="paragraph bodyStyle",D.style.cssText=l(e);var L=document.createElement("div");L.className="cueUniWrapper",L.style.cssText="unicode-bidi: normal; direction: ltr;";for(var j=0;j<A.p.length;++j){var N=A.p[j],F=0;for(_=0;_<N.spans.length;++_){var U=N.spans[_];if(U.line.length>0){if(0!==_&&F!=U.row){var B=document.createElement("br");B.className="lineBreak",L.appendChild(B)}var H=!1;F===U.row&&(H=!0),F=U.row;var V=g[U.name],q=document.createElement("span");q.className="spanPadding "+U.name+" customSpanColor",q.style.cssText=l(e,V),0!==_&&H?_===N.spans.length-1?q.textContent=p(U.line):q.textContent=U.line:0===_&&N.spans.length>1&&U.row===N.spans[1].row?q.textContent=f(U.line):q.textContent=U.line.trim(),L.appendChild(q)}}}D.appendChild(L),k.appendChild(D);var z={bodyStyle:["%",90]};for(_ in g)g.hasOwnProperty(_)&&(z[_]=["%",90]);I.push({type:"html",start:t,end:n,cueHTMLElement:k,cueID:M,cellResolution:[32,15],isFromCEA608:!0,regions:v,regionID:A.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:z,lineHeight:{},linePadding:{}})}return I}function y(){z.deleteAllTextTracks(),F=!1,U=null,V=null,q=null,z=null,G=!1,K=null,Y=!1,W=NaN,X=[],Q=null,$=null,k=!1,ee=null}function v(e){k||t(),"CC1"===e.id||"CC3"===e.id?ee.push(e):M("Warning: Embedded track "+e.id+" not supported!")}function _(){k=!1,ee=[],oe=[null,null],ie=[],re=null}function T(){return F}function S(e){e&&(e.errHandler&&(L=e.errHandler),e.dashManifestModel&&(j=e.dashManifestModel),e.mediaController&&(N=e.mediaController),e.videoModel&&(Q=e.videoModel),e.streamController&&($=e.streamController),e.textTracks&&(z=e.textTracks),e.VTTParser&&(B=e.VTTParser),e.TTMLParser&&(H=e.TTMLParser))}function O(){for(var e=Q.getElement(),t=e.textTracks,n=t.length,r=n-ee.length,i=z.getCurrentTrackIdx(),o=0;o<n;o++){var a=t[o];if(F="showing"!==a.mode,"showing"===a.mode){if(i!==o&&(z.setCurrentTrackIdx(o),z.addCaptions(o,0,null),G&&o<r)){var s=N.getCurrentTrackFor("fragmentedText",$.getActiveStreamInfo()),u=X[o];u!==s&&(K.abortRequests(),z.deleteTrackCues(s),N.setTrack(u),Z=o)}break}}F&&z.setCurrentTrackIdx(-1)}function C(e){var t=!1;return ee.length>1&&e.isEmbedded?t=e.id&&"CC1"===e.id:1===ee.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===ee.length&&(t=e.index===q[0].index),t}function P(e){var t;return e.search("vtt")>=0?t=B:(e.search("ttml")>=0||e.search("stpp")>=0)&&(t=H,t.setConfig({videoModel:Q})),t}function I(){return z.getCurrentTrackIdx()}var A=this.context,M=(0,g.default)(A).getInstance().log,k=!1,x=0,R=void 0,D=void 0,L=void 0,j=void 0,N=void 0,F=void 0,U=void 0,B=void 0,H=void 0,V=void 0,q=void 0,z=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0;return R={initialize:e,append:n,abort:y,getCurrentTrackIdx:I,getAllTracksAreDisabled:T,setTextTrack:O,setConfig:S,addEmbeddedTrack:v,resetEmbedded:_}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(304),a=r(o),s=n(219),u=r(s),l=n(84),c=r(l),f=n(132),d=r(f),p=n(0),h=r(p),y=n(6),g=r(y),v=n(32),m=r(v),_=n(77),b=r(_),T=n(113),E=r(T),S=n(114),w=r(S);i.__dashjs_factory_name="TextSourceBuffer",t.default=h.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){he=d.default.QUALITY_DEFAULT,ye=!1,ge=0,ve=Number.POSITIVE_INFINITY,_e=0,be=Number.POSITIVE_INFINITY,Ee=null,Se=M,Oe=0,Ce=!1,Pe=!1,Ie=!1,Ae=!1}function n(e,t,n){Te=e,J(t),ke=n,De=(0,u.default)(ne).getInstance(),Me=(0,h.default)(ne).getInstance(),xe=(0,d.default)(ne).getInstance(),Le=(0,I.default)(ne).getInstance(),Re=ke.getScheduleController(),he=xe.getQualityFor(Te,ke.getStreamInfo()),ie.on(b.default.DATA_UPDATE_COMPLETED,B,this),ie.on(b.default.INIT_FRAGMENT_LOADED,o,this),ie.on(b.default.MEDIA_FRAGMENT_LOADED,l,this),ie.on(b.default.QUALITY_CHANGE_REQUESTED,y,this),ie.on(b.default.STREAM_COMPLETED,H,this),ie.on(b.default.PLAYBACK_PROGRESS,_,this),ie.on(b.default.PLAYBACK_TIME_UPDATED,_,this),ie.on(b.default.PLAYBACK_RATE_CHANGED,z,this),ie.on(b.default.PLAYBACK_SEEKING,v,this),ie.on(b.default.WALLCLOCK_TIME_UPDATED,q,this),ie.on(b.default.CURRENT_TRACK_CHANGED,V,this,m.default.EVENT_PRIORITY_HIGH),ie.on(b.default.SOURCEBUFFER_APPEND_COMPLETED,p,this),ie.on(b.default.SOURCEBUFFER_REMOVE_COMPLETED,F,this)}function r(e){if(!e||!me||!ke)return null;var t=null;try{t=se.createSourceBuffer(me,e),t&&t.hasOwnProperty("initialize")&&t.initialize(Te,this)}catch(e){ue.mediaSourceError("Error creating "+Te+" source buffer.")}return X(t),U(ke.getRepresentationInfoForQuality(he).MSETimeOffset),t}function i(){return ke.getStreamInfo().id===le.getActiveStreamInfo().id}function o(e){e.fragmentModel===ke.getFragmentModel()&&(re("Init fragment finished loading saving to",Te+"'s init cache"),Le.save(e.chunk),f(e.chunk))}function s(e,t){var n=Le.extract(e,Te,t);n?f(n):ie.trigger(b.default.INIT_REQUESTED,{sender:pe})}function l(e){if(e.fragmentModel===ke.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=ke.getRepresentationInfoForQuality(r),o=ae.getValue(),s=fe.getEventsFor(o,i.mediaInfo,ke),u=fe.getEventsFor(o,i,ke);if(s&&s.length>0||u&&u.length>0){var l=ke.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],c=x(n,l,s,u);ke.getEventController().addInbandEvents(c)}t.bytes=R(n),f(t)}}function f(e){Pe=!0,we=e,se.append(Ee,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&de.append(e.bytes,e)}function p(e){if(Ee===e.buffer){if(e.error||!D())return e.error.code===c.default.QUOTA_EXCEEDED_ERROR_CODE&&(ve=.8*se.getTotalBufferedTime(Ee)),void(e.error.code!==c.default.QUOTA_EXCEEDED_ERROR_CODE&&D()||(ie.trigger(b.default.QUOTA_EXCEEDED,{sender:pe,criticalBufferLevel:ve}),N(j())));isNaN(we.index)||(_e=Math.max(we.index,_e),w());var t=se.getAllRanges(Ee);if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)re("Buffered Range for type:",Te,":",t.start(n)," - ",t.end(n));_(),Pe=!1,ie.trigger(b.default.BYTES_APPENDED,{sender:pe,quality:we.quality,startTime:we.start,index:we.index,bufferedRanges:t})}}function y(e){he!==e.newQuality&&Te===e.mediaType&&ke.getStreamInfo().id===e.streamInfo.id&&(U(ke.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),he=e.newQuality)}function v(){be=Number.POSITIVE_INFINITY,
ye=!1,_()}function _(){T(),S()}function T(){ge=se.getBufferLength(Ee,Me.getTime()),ie.trigger(b.default.BUFFER_LEVEL_UPDATED,{sender:pe,bufferLevel:ge}),O()}function S(){i()&&(oe.addBufferState(Te,Se,Re.getBufferTarget()),oe.addBufferLevel(Te,new Date,1e3*ge))}function w(){var e=_e>=be-1;e&&!ye&&(ye=!0,ie.trigger(b.default.BUFFERING_COMPLETED,{sender:pe,streamInfo:ke.getStreamInfo()}))}function O(){P(ge<k&&!ye?M:A)}function P(e){Se===e||"fragmentedText"===Te&&de.getAllTracksAreDisabled()||(Se=e,S(),ie.trigger(b.default.BUFFER_LEVEL_STATE_CHANGED,{sender:pe,state:e,mediaType:Te,streamInfo:ke.getStreamInfo()}),ie.trigger(e===A?b.default.BUFFER_LOADED:b.default.BUFFER_EMPTY,{mediaType:Te}),re(e===A?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function x(e,t,n,r){var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[];Ae=!1;for(var s=n.concat(r),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];for(var c=(0,E.default)(ne).getInstance().parse(e),f=c.getBoxes("emsg"),u=0,l=f.length;u<l;u++){var d=fe.getEvent(f[u],o,i);d&&a.push(d)}return a}function R(e){if(!Ae)return e;for(var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),o=0,a=0;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),u=e[o]*r+e[o+1]*n+256*e[o+2]+1*e[o+3];if("emsg"!=s)for(var l=o;l<o+u;l++)i[a]=e[l],a++;o+=u}return i.subarray(0,a)}function D(){var e=se.getTotalBufferedTime(Ee);return e<ve}function L(){if(Ee&&"fragmentedText"!==Te){var e=Ee.buffered.length?Ee.buffered.start(0):0,t=Me.getTime()-e-De.getBufferToKeep();t>0&&(re("pruning buffer: "+t+" seconds."),Ie=!0,se.remove(Ee,0,Math.round(e+t),me))}}function j(){if(!Ee)return null;var e=Me.getTime(),t=ke.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,time:e})[0],n=se.getBufferRange(Ee,e),r=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&Ee.buffered.length>0&&(r=Ee.buffered.end(Ee.buffered.length-1)),{start:Ee.buffered.start(0),end:r}}function N(e){e&&Ee&&se.remove(Ee,e.start,e.end,me)}function F(e){Ee===e.buffer&&(Ie&&(Ie=!1),T(),ie.trigger(b.default.BUFFER_CLEARED,{sender:pe,from:e.from,to:e.to,hasEnoughSpaceToAppend:D()}))}function U(e){Ee&&Ee.timestampOffset!==e&&!isNaN(e)&&(Ee.timestampOffset=e)}function B(e){e.sender.getStreamProcessor()!==ke||e.error||U(e.currentRepresentation.MSETimeOffset)}function H(e){e.fragmentModel===ke.getFragmentModel()&&(be=e.request.index,w())}function V(e){Ee&&e.newMediaInfo.type===Te&&e.newMediaInfo.streamInfo.id===ke.getStreamInfo().id&&ce.getSwitchMode(Te)===g.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&N(j())}function q(){Oe++;var e=Oe*(De.getWallclockTimeUpdateInterval()/1e3);e>=De.getBufferPruningInterval()&&!Pe&&(Oe=0,L())}function z(){O()}function G(){return Te}function K(){return ke}function Y(e){ke=e}function W(){return Ee}function X(e){Ee=e}function Q(){return ge}function $(){return ve}function J(e){me=e}function Z(){return me}function ee(){return ye}function te(e){ie.off(b.default.DATA_UPDATE_COMPLETED,B,this),ie.off(b.default.QUALITY_CHANGE_REQUESTED,y,this),ie.off(b.default.INIT_FRAGMENT_LOADED,o,this),ie.off(b.default.MEDIA_FRAGMENT_LOADED,l,this),ie.off(b.default.STREAM_COMPLETED,H,this),ie.off(b.default.CURRENT_TRACK_CHANGED,V,this),ie.off(b.default.PLAYBACK_PROGRESS,_,this),ie.off(b.default.PLAYBACK_TIME_UPDATED,_,this),ie.off(b.default.PLAYBACK_RATE_CHANGED,z,this),ie.off(b.default.PLAYBACK_SEEKING,v,this),ie.off(b.default.WALLCLOCK_TIME_UPDATED,q,this),ie.off(b.default.SOURCEBUFFER_APPEND_COMPLETED,p,this),ie.off(b.default.SOURCEBUFFER_REMOVE_COMPLETED,F,this),ve=Number.POSITIVE_INFINITY,Se=M,he=d.default.QUALITY_DEFAULT,be=Number.POSITIVE_INFINITY,_e=0,we=null,Ce=!1,ye=!1,Pe=!1,Ie=!1,Me=null,ke=null,xe=null,Re=null,e||(se.abort(me,Ee),se.removeSourceBuffer(me,Ee)),Ee=null}var ne=this.context,re=(0,C.default)(ne).getInstance().log,ie=(0,m.default)(ne).getInstance(),oe=e.metricsModel,ae=e.manifestModel,se=e.sourceBufferController,ue=e.errHandler,le=e.streamController,ce=e.mediaController,fe=e.adapter,de=e.textSourceBuffer,pe=void 0,he=void 0,ye=void 0,ge=void 0,ve=void 0,me=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,Se=void 0,we=void 0,Oe=void 0,Ce=void 0,Pe=void 0,Ie=void 0,Ae=void 0,Me=void 0,ke=void 0,xe=void 0,Re=void 0,De=void 0,Le=void 0;return pe={initialize:n,createBuffer:r,getType:G,getStreamProcessor:K,setStreamProcessor:Y,getBuffer:W,setBuffer:X,getBufferLevel:Q,getCriticalBufferLevel:$,setMediaSource:J,getMediaSource:Z,getIsBufferingCompleted:ee,switchInitData:s,reset:te},t(),pe}Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),a=r(o),s=n(10),u=r(s),l=n(55),c=r(l),f=n(28),d=r(f),p=n(20),h=r(p),y=n(29),g=r(y),v=n(5),m=r(v),_=n(3),b=r(_),T=n(84),E=r(T),S=n(0),w=r(S),O=n(6),C=r(O),P=n(133),I=r(P),A="bufferLoaded",M="bufferStalled",k=.5;i.__dashjs_factory_name="BufferController";var x=w.default.getClassFactory(i);x.BUFFER_LOADED=A,x.BUFFER_EMPTY=M,t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){E=[]}function t(){_.playbackRate=S||1,_.removeEventListener("canplay",t)}function n(e){_&&(_.readyState<=2&&e>0?_.addEventListener("canplay",t):_.playbackRate=e)}function r(e){if(_.currentTime!=e)try{_.currentTime=e}catch(t){0===_.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){_.currentTime=e},400)}}function i(){return _}function o(e){_=e,_.preload="auto"}function a(e){e?_.src=e:(_.removeAttribute("src"),_.load())}function s(){return _.src}function u(){return T}function l(e){T=e}function c(){return b}function f(e){b=e,b.style.position="absolute",b.style.display="flex",b.style.overflow="hidden",b.style.pointerEvents="none",b.style.top=0,b.style.left=0}function d(e,t){g(e,t)}function p(){return E.length>0}function h(e){var t=void 0;null===e||_.seeking||E.indexOf(e)!==-1||(E.push(e),1===E.length&&(t=document.createEvent("Event"),t.initEvent("waiting",!0,!1),S=_.playbackRate,n(0),_.dispatchEvent(t)))}function y(e){var t=E.indexOf(e),r=void 0;null!==e&&(t!==-1&&E.splice(t,1),p()===!1&&0===_.playbackRate&&(n(S||1),_.paused||(r=document.createEvent("Event"),r.initEvent("playing",!0,!1),_.dispatchEvent(r))))}function g(e,t){t?h(e):y(e)}function v(){var e="webkitDroppedFrameCount"in _&&"webkitDecodedFrameCount"in _,t="getVideoPlaybackQuality"in _,n=null;return t?n=_.getVideoPlaybackQuality():e&&(n={droppedVideoFrames:_.webkitDroppedFrameCount,totalVideoFrames:_.webkitDroppedFrameCount+_.webkitDecodedFrameCount,creationTime:new Date}),n}var m=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0;return m={initialize:e,setCurrentTime:r,setStallState:d,getElement:i,setElement:o,setSource:a,getSource:s,getVideoContainer:u,setVideoContainer:l,getTTMLRenderingDiv:c,setTTMLRenderingDiv:f,getPlaybackQuality:v}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="VideoModel",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(){return i++}t.__esModule=!0,t.newGUID=r;var i=1},function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}t.__esModule=!0,t.default=r},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e){e&&e.dashManifestModel&&(D=e.dashManifestModel)}function t(){L=[],j={}}function n(e,t){return t.getRepresentationForQuality(e.quality)}function r(e){return j?j[e.streamInfo.id][e.index]:null}function i(e){for(var t=L.length,n=0;n<t;n++){var r=L[n];if(e.id===r.id)return r}return null}function o(e,t){var n=new s.default,r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],i=D.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=D.getBandwidth(i),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=a(e,t.adaptation),n}function a(e,t){var n,r=new l.default,i=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=c(e,t.period),r.representationCount=D.getRepresentationCount(i),r.lang=D.getLanguageForAdaptation(i),n=D.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=D.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&"undefined"!=typeof _.default&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=D.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=D.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=D.getCodec(i),r.mimeType=D.getMimeType(i),r.contentProtection=D.getContentProtectionData(i),r.bitrateList=D.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=D.getKID(e)}),r.isText=D.getIsTextTrack(r.mimeType),r}function u(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function c(e,t){var n=new f.default,r=1;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=d(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<r,n.isFirst=1===e.Period_asArray.length||D.getRegularPeriods(e,D.getMpd(e))[0].id===t.id,n}function d(e,t){var n=new p.default;return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=D.getDuration(e),n.isDynamic=D.getIsDynamic(e),n}function h(e,t,n){var r=D.getAdaptationForType(e,t.index,n,t);if(!r)return null;var o=i(t),s=o.id,u=D.getIndexForAdaptation(r,e,t.index);return j[s]=j[s]||D.getAdaptationsForPeriod(e,o),a(e,j[s][u])}function g(e,t,n){var r,o,s,l,c,f,d=i(t),p=d.id,h=D.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),y=[];if(!h)return y;for(j[p]=j[p]||D.getAdaptationsForPeriod(e,d),l=0,f=h.length;l<f;l++){if(r=h[l],s=D.getIndexForAdaptation(r,e,t.index),o=a(e,j[p][s]),"embeddedText"===n){var g=o.accessibility.length;for(c=0;c<g;c++)if(o){var v=o.accessibility[c];if(0===v.indexOf("cea-608:")){var m=v.substring(8),_=m.split(";");if("CC"===_[0].substring(0,2))for(c=0;c<_.length;c++)o||(o=a.call(this,e,j[p][s])),u(o,_[c].substring(0,3),_[c].substring(4)),y.push(o),o=null;else for(c=0;c<_.length;c++)o||(o=a.call(this,e,j[p][s])),u(o,"CC"+(c+1),_[c]),y.push(o),o=null}else 0===v.indexOf("cea-608")&&(u(o,"CC1","eng"),y.push(o),o=null)}}o&&"embeddedText"!==n&&y.push(o)}return y}function v(e){if(!e)return null;var t=[],n=D.getMpd(e);L=D.getRegularPeriods(e,n),j={};for(var r=0,i=L.length;r<i;r++)t.push(c(e,L[r]));return t}function m(e){var t=D.getMpd(e);return d(e,t)}function b(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function E(e,t){var r=n(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(r)}function S(e,t,r,i){var o=n(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(o,r,i)}function w(e,t,r){var i=n(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(i,r)}function O(e){return e.getIndexHandler().getCurrentTime()}function C(e,t){return e.getIndexHandler().setCurrentTime(t)}function P(e,t){var n,o,a=i(t.getStreamInfo()),s=t.getMediaInfo(),u=r(s),l=t.getType();n=s.id,o=n?D.getAdaptationForId(n,e,a.index):D.getAdaptationForIndex(s.index,e,a.index),t.getRepresentationController().updateData(o,u,l)}function I(e,t,n){var r=t.getRepresentationForQuality(n);return r?o(e,r):null}function A(e,t){var n=t.getCurrentRepresentation();return n?o(e,n):null}function M(e,t,n){var r=new y.default,i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,c=e.message_data,f=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=u,r.id=l,r.presentationTime=f,r.messageData=c,r.presentationTimeDelta=s,r):null}function k(e,t,o){var a=[];return t instanceof f.default?a=D.getEventsForPeriod(e,i(t)):t instanceof l.default?a=D.getEventStreamForAdaptationSet(e,r(t)):t instanceof s.default&&(a=D.getEventStreamForRepresentation(e,n(t,o.getRepresentationController()))),a}function x(){L=[],j={}}var R=void 0,D=void 0,L=void 0,j=void 0;return R={initialize:t,convertDataToTrack:o,convertDataToMedia:a,convertDataToStream:c,getDataForTrack:n,getDataForMedia:r,getDataForStream:i,getStreamsInfo:v,getManifestInfo:m,getMediaInfoForType:h,getAllMediaInfoForType:g,getCurrentRepresentationInfo:A,getRepresentationInfoForQuality:I,updateData:P,getInitRequest:b,getNextFragmentRequest:E,getFragmentRequestForTime:S,generateFragmentRequestForTime:w,getIndexHandlerTime:O,setIndexHandlerTime:C,getEventsFor:k,getEvent:M,setConfig:e,reset:x,metricsList:T}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(305),s=i(a),u=n(301),l=i(u),c=n(303),f=i(c),d=n(300),p=i(d),h=n(119),y=i(h),g=n(0),v=i(g),m=n(114),_=i(m),b=n(116),T=r(b);o.__dashjs_factory_name="DashAdapter",t.default=v.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(52),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streamInitialized",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return o(t,e),t}(u.default),c=new l;t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){function t(){var e;y=[],g=[],v=[],e={},i(e,a.HTTPRequest.MPD_TYPE,d.default.DOWNLOAD_ERROR_ID_MANIFEST),i(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,d.default.DOWNLOAD_ERROR_ID_XLINK),i(e,a.HTTPRequest.INIT_SEGMENT_TYPE,d.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,d.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,d.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,d.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.OTHER_TYPE,d.default.DOWNLOAD_ERROR_ID_CONTENT),m=e}function n(e,t){var r=e.request,i=new XMLHttpRequest,o=[],a=!0,s=!0,c=new Date,d=c,h=0,_=function(e){s=!1,r.requestStartDate=c,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||c,r.checkExistenceOnly||f.addHttpRequest(r.mediaType,null,r.type,r.url,i.responseURL||null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,i.status,r.duration,i.getAllResponseHeaders(),e?o:null)},b=function(){y.indexOf(i)!==-1&&(y.splice(y.indexOf(i),1),s&&(_(!1),t>0?(t--,v.push(setTimeout(function(){n(e,t)},u.getRetryIntervalForType(r.type)))):(l.downloadError(m[r.type],r.url,r),e.error&&e.error(r,"error",i.statusText),e.complete&&e.complete(r,i.statusText))))},T=function(t){var n=new Date;a&&(a=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(r.firstByteDate=n)),t.lengthComputable&&(r.bytesLoaded=t.loaded,r.bytesTotal=t.total),o.push({s:d,d:n.getTime()-d.getTime(),b:[t.loaded?t.loaded-h:0]}),d=n,h=t.loaded,e.progress&&e.progress()},E=function(){i.status>=200&&i.status<=299&&(_(!0),e.success&&e.success(i.response,i.statusText,i),e.complete&&e.complete(r,i.statusText))};try{var S=p.modifyRequestURL(r.url),w=r.checkExistenceOnly?"HEAD":"GET";i.open(w,S,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=c),i=p.modifyRequestHeader(i),i.withCredentials=u.getXHRWithCredentialsForType(r.type),i.onload=E,i.onloadend=b,i.onerror=b,i.onprogress=T;var O=(new Date).getTime();isNaN(r.delayLoadingTime)||O>=r.delayLoadingTime?(y.push(i),i.send()):!function(){var e={xhr:i};g.push(e),e.delayTimeout=setTimeout(function(){if(g.indexOf(e)!==-1){g.splice(g.indexOf(e),1);try{y.push(e.xhr),e.xhr.send()}catch(t){e.xhr.onerror()}}},r.delayLoadingTime-O)}()}catch(e){i.onerror()}}function r(e){e.request&&n(e,u.getRetryAttemptsForType(e.request.type))}function o(){v.forEach(function(e){return clearTimeout(e)}),v=[],g.forEach(function(e){return clearTimeout(e.delayTimeout)}),g=[],y.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),y=[]}var s=this.context,u=(0,c.default)(s).getInstance(),l=e.errHandler,f=e.metricsModel,p=e.requestModifier,h=void 0,y=void 0,g=void 0,v=void 0,m=void 0;return h={load:r,abort:o},t(),h}Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),s=n(0),u=r(s),l=n(10),c=r(l),f=n(24),d=r(f);o.__dashjs_factory_name="XHRLoader";var p=u.default.getClassFactory(o);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){de=null,ce=[],Ee=(0,b.default)(G).getInstance(),he=!0,ye=!1,ge=!1,Se=!1,we=!0,Oe=null,ve=!1,me=!1}function t(e,t){he=e,pe=t,le.initialize(),se=(0,P.default)(G).getInstance(),Q=(0,c.default)(G).getInstance(),Q.setConfig({log:K,manifestModel:J,dashManifestModel:Z}),Q.initialize($),be=(0,m.default)(G).getInstance(),Te=(0,a.default)(G).getInstance(),Te.setConfig({streamController:W,timelineConverter:le,metricsModel:te,dashMetrics:ne,manifestModel:J,dashManifestModel:Z,adapter:ee,videoModel:be}),Y.on(h.default.TIME_SYNCHRONIZATION_COMPLETED,A,this),Y.on(h.default.PLAYBACK_SEEKING,r,this),Y.on(h.default.PLAYBACK_TIME_UPDATED,n,this),Y.on(h.default.PLAYBACK_ENDED,y,this),Y.on(h.default.PLAYBACK_ERROR,L,this),Y.on(h.default.PLAYBACK_STARTED,i,this),Y.on(h.default.PLAYBACK_PAUSED,o,this),Y.on(h.default.MANIFEST_UPDATED,M,this),Y.on(h.default.STREAM_BUFFERING_COMPLETED,s,this)}function n(e){if(k()){var t=be.getPlaybackQuality();t&&te.addDroppedFrames("video",t)}Te.isSeeking()||e.timeToEnd<=z&&y()}function r(e){var t=l(e.seekTime);t&&t!==fe?(R(S.PlayListTrace.END_OF_PERIOD_STOP_REASON),_(fe,t,e.seekTime)):R(S.PlayListTrace.USER_REQUEST_STOP_REASON),D(S.PlayList.SEEK_START_REASON)}function i(){we?(we=!1,D(S.PlayList.INITIAL_PLAYOUT_START_REASON)):Se&&(Se=!1,D(S.PlayList.RESUME_FROM_PAUSE_START_REASON))}function o(e){e.ended||(Se=!0,R(S.PlayListTrace.USER_REQUEST_STOP_REASON))}function s(){var e=N().isLast;_e&&e&&ie.signalEndOfStream(_e)}function l(e){var t=0,n=null,r=ce.length;r>0&&(t+=ce[0].getStartTime());for(var i=0;i<r;i++)if(n=ce[i],t+=n.getDuration(),e<t)return n;return null}function f(e,t){for(var n=null,r=0,i=0,o=null,a=ce.length,s=0;s<a;s++){if(n=ce[s],i=n.getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null}function p(){var e=[];return fe.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)}function y(){var e=v();e&&_(fe,e,NaN),R(e?S.PlayListTrace.END_OF_PERIOD_STOP_REASON:S.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function v(){if(fe){var e=function(){var e=fe.getStreamInfo().start,t=fe.getStreamInfo().duration;return{v:ce.filter(function(n){return n.getStreamInfo().start===e+t})[0]}}();if("object"==typeof e)return e.v}}function _(e,t,n){!ye&&t&&e!==t&&(ye=!0,Y.trigger(h.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),e&&e.deactivate(),fe=t,Te.initialize(fe.getStreamInfo()),Ce=x(),T(n))}function T(e){function t(){K("MediaSource is open!"),window.URL.revokeObjectURL(n),_e.removeEventListener("sourceopen",t),_e.removeEventListener("webkitsourceopen",t),w(),E(e)}var n=void 0;_e?ie.detachMediaSource(be):_e=ie.createMediaSource(),_e.addEventListener("sourceopen",t,!1),_e.addEventListener("webkitsourceopen",t,!1),n=ie.attachMediaSource(_e,be),K("MediaSource attached to element.  Waiting on open...")}function E(e){fe.activate(_e),we||(isNaN(e)?!function(){var e=Te.getStreamStartTime(!0);fe.getProcessors().forEach(function(t){ee.setIndexHandlerTime(t,e)}),Te.seek(e)}():Te.seek(e)),fe.startEventController(),!he&&we||Te.play(),ye=!1,Y.trigger(h.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:fe.getStreamInfo()})}function w(){var e=fe.getStreamInfo().manifestInfo.duration,t=ie.setDuration(_e,e);K("Duration successfully set to: "+t)}function C(e){for(var t=0,n=ce.length;t<n;t++)if(ce[t].getId()===e.id)return ce[t];return null}function I(e){try{var t=ee.getStreamsInfo(e);if(0===t.length)throw new Error("There are no streams");var n=ne.getCurrentManifestUpdate(te.getMetricsFor("stream"));te.updateManifestUpdateInfo(n,{currentTime:Te.getTime(),buffered:be.getElement().buffered,presentationStartTime:t[0].start,clientTimeOffset:le.getClientTimeOffset()});for(var r=0,i=t.length;r<i;r++){var o=t[r],a=C(o);a?a.updateData(o):(a=(0,u.default)(G).create({manifestModel:J,manifestUpdater:Q,adapter:ee,timelineConverter:le,capabilities:X,errHandler:ue,baseURLController:ae}),ce.push(a),a.initialize(o,de)),te.addManifestUpdateStreamInfo(n,o.id,o.index,o.start,o.duration)}fe||_(null,ce[0],NaN),Y.trigger(h.default.STREAMS_COMPOSED)}catch(t){ue.manifestError(t.message,"nostreamscomposed",e),me=!0,q()}}function A(){var e=J.getValue();de&&(Y.trigger(h.default.PROTECTION_CREATED,{controller:de,manifest:e}),de.setMediaElement(be.getElement()),pe&&de.setProtectionData(pe)),I(e)}function M(e){if(e.error)me=!0,q();else{var t,n,r=e.manifest,i=ee.getStreamsInfo(r)[0],o=ee.getMediaInfoForType(r,i,"video")||ee.getMediaInfoForType(r,i,"audio");o&&(t=ee.getDataForMedia(o),n=Z.getRepresentationsForAdaptation(r,t)[0].useCalculatedLiveEdgeTime,n&&(K("SegmentTimeline detected using calculated Live Edge Time"),Ee.setUseManifestDateHeaderTimeSource(!1)));var a=Z.getUTCTimingSources(e.manifest),s=!Z.getIsDynamic(r)||n?a:a.concat(Ee.getUTCTimingSources()),u=(0,g.default)(G).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===b.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),K("Matching default timing source protocol to manifest protocol: ",e.value))}),ae.initialize(r),oe.setConfig({metricsModel:te,dashMetrics:ne}),oe.initialize(s,Ee.getUseManifestDateHeaderTimeSource())}}function k(){return void 0===Ce&&(Ce=x()),Ce}function x(){var e=!1;return fe.getProcessors().forEach(function(t){"video"===t.getMediaInfo().type&&(e=!0)}),e}function R(e,t){t=t||new Date,Oe&&(fe&&fe.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),te.addPlayList(Oe),Oe=null)}function D(e){Oe=new S.PlayList,Oe.start=new Date,Oe.mstart=1e3*Te.getTime(),Oe.starttype=e,fe&&fe.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Oe)})}function L(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}ve=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),K("Video Element Error: "+t),e.error&&K(e.error),ue.mediaSourceError(t),q()}}function j(){return he}function N(){return fe?fe.getStreamInfo():null}function F(e){return fe.getId()===e.id}function U(e){return ce.filter(function(t){return t.getId()===e})[0]}function B(e){$.load(e)}function H(e){Q.setManifest(e)}function V(e){e&&(e.capabilities&&(X=e.capabilities),e.manifestLoader&&($=e.manifestLoader),e.manifestModel&&(J=e.manifestModel),e.dashManifestModel&&(Z=e.dashManifestModel),e.protectionController&&(de=e.protectionController),e.adapter&&(ee=e.adapter),e.metricsModel&&(te=e.metricsModel),e.dashMetrics&&(ne=e.dashMetrics),e.liveEdgeFinder&&(re=e.liveEdgeFinder),e.mediaSourceController&&(ie=e.mediaSourceController),e.timeSyncController&&(oe=e.timeSyncController),e.baseURLController&&(ae=e.baseURLController),e.errHandler&&(ue=e.errHandler),e.timelineConverter&&(le=e.timelineConverter))}function q(){oe.reset(),R(ve||me?S.PlayListTrace.FAILURE_STOP_REASON:S.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=ce.length;e<t;e++){var a=ce[e];a.reset(ve)}ce=[],Y.off(h.default.PLAYBACK_TIME_UPDATED,n,this),Y.off(h.default.PLAYBACK_SEEKING,r,this),Y.off(h.default.PLAYBACK_ERROR,L,this),Y.off(h.default.PLAYBACK_STARTED,i,this),Y.off(h.default.PLAYBACK_PAUSED,o,this),Y.off(h.default.PLAYBACK_ENDED,y,this),Y.off(h.default.MANIFEST_UPDATED,M,this),Y.off(h.default.STREAM_BUFFERING_COMPLETED,s,this),ae.reset(),Q.reset(),te.clearAllCurrentMetrics(),J.setValue(null),$.reset(),le.reset(),re.reset(),ee.reset(),se.reset(),ye=!1,ge=!1,fe=null,ve=!1,me=!1,Ce=void 0,we=!0,Se=!1,_e&&(ie.detachMediaSource(be),_e=null),be=null,de&&(de.setMediaElement(null),de=null,pe=null,J.getValue()&&Y.trigger(h.default.PROTECTION_DESTROYED,{data:J.getValue().url})),Y.trigger(h.default.STREAM_TEARDOWN_COMPLETE)}var z=.1,G=this.context,K=(0,O.default)(G).getInstance().log,Y=(0,d.default)(G).getInstance(),W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ye=void 0,ge=void 0,ve=void 0,me=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,Se=void 0,we=void 0,Oe=void 0,Ce=void 0;return W={initialize:t,getAutoPlay:j,getActiveStreamInfo:N,isStreamActive:F,isVideoTrackPresent:k,getStreamById:U,getTimeRelativeToStreamId:f,load:B,loadWithManifest:H,getActiveStreamCommonEarliestTime:p,setConfig:V,reset:q},e(),W}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),a=r(o),s=n(232),u=r(s),l=n(230),c=r(l),f=n(5),d=r(f),p=n(3),h=r(p),y=n(78),g=r(y),v=n(32),m=r(v),_=n(10),b=r(_),T=n(0),E=r(T),S=n(135),w=n(6),O=r(w),C=n(133),P=r(C);i.__dashjs_factory_name="StreamController",t.default=E.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(71),s=r(a),u=function(){function e(){i(this,e)}return o(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?s.default.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n=!1,r={},i=0;!n;){var o,a,s,u,l,c=i;if(i>=t.buffer.byteLength)break;if(o=t.getUint32(i),a=i+o,i+=4,1886614376===t.getUint32(i))if(i+=4,s=t.getUint8(i),0===s||1===s){i++,i+=3,u="";var f,d;for(f=0;f<4;f++)d=t.getUint8(i+f).toString(16),u+=1===d.length?"0"+d:d;for(i+=4,u+="-",f=0;f<2;f++)d=t.getUint8(i+f).toString(16),u+=1===d.length?"0"+d:d;for(i+=2,u+="-",f=0;f<2;f++)d=t.getUint8(i+f).toString(16),u+=1===d.length?"0"+d:d;for(i+=2,u+="-",f=0;f<2;f++)d=t.getUint8(i+f).toString(16),u+=1===d.length?"0"+d:d;for(i+=2,u+="-",f=0;f<6;f++)d=t.getUint8(i+f).toString(16),u+=1===d.length?"0"+d:d;i+=6,u=u.toLowerCase(),l=t.getUint32(i),i+=4,r[u]=t.buffer.slice(c,a),i=a}else i=a;else i=a}return r}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){try{new window.URL("x","http://y");s=f}catch(e){}finally{s=s||d}}function t(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return t!==-1?n===t+1?e:(e.indexOf("?")!==-1&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,n+1)):""}function n(e){var t=e.match(c);return t?t[1]:""}function r(e){return!u.test(e)}function i(e){return r(e)&&"/"===e.charAt(0)}function o(e){return l.test(e)}function a(e,t){return s(e,t)}var s=void 0,u=/^[a-z][a-z0-9+\-.]*:/i,l=/^https?:\/\//i,c=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,f=function(e,t){try{return new window.URL(e,t).toString();
}catch(t){return e}},d=function(e,o){var a=t;if(!o)return e;if(!r(e))return e;i(e)&&(a=n);var s=a(o),u="/"!==s.charAt(s.length-1)&&"/"!==e.charAt(0)?"/":"";return[s,e].join(u)};e();var p={parseBaseUrl:t,parseOrigin:n,isRelative:r,isPathAbsolute:i,isHTTPURL:o,resolve:a};return p}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="URLUtils",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(45),u=r(s),l=n(1),c=r(l),f=n(14),d=r(f),p=n(12),h=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,p.assign)({className:this.buildCSSClass()},t),"button"!==e&&(d.default.warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,p.assign)({tabIndex:0},t),n=(0,p.assign)({role:"button"},n)),n=(0,p.assign)({type:"button","aria-live":"polite"},n);var r=c.default.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return d.default.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c.default.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(u.default);c.default.registerComponent("Button",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(25),p=r(d),h=n(7),y=r(h),g=n(14),v=i(g),m=n(9),_=i(m),b=n(12),T=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return s(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&v.default.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,b.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=f.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,this.nonIconControl||t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){p.on(_.default,"keydown",y.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){p.off(_.default,"keydown",y.bind(this,this.handleKeyPress))},t}(l.default);l.default.registerComponent("ClickableComponent",T),t.default=T},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new m.default(i);return o.addTrack_(a),a}t.__esModule=!0;var l=n(1),c=i(l),f=n(402),d=i(f),p=n(401),h=i(p),y=n(22),g=i(y),v=n(91),m=i(v),_=n(406),b=i(_),T=n(157),E=i(T),S=n(156),w=i(S),O=n(7),C=r(O),P=n(14),I=i(P),A=n(47),M=n(158),k=n(150),x=i(k),R=n(4),D=i(R),L=n(9),j=i(L),N=n(12),F=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,t),n.reportTouchActivity=!1;var i=a(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=n.textTracks,i.videoTracks_=n.videoTracks,i.audioTracks_=n.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){n["native"+e+"Tracks"]===!1&&(i["featuresNative"+e+"Tracks"]=!1)}),n.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new b.default,i.initTextTrackListeners(),i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return s(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(C.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return(0,A.createTimeRange)(0,0)},t.prototype.bufferedPercent=function(){return(0,M.bufferedPercent)(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new x.default(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?(0,A.createTimeRange)(0,0):(0,A.createTimeRange)()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=C.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",C.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!D.default.WebVTT)if(j.default.body.contains(this.el())){var t=n(437);if(!this.options_["vtt.js"]&&(0,N.isPlain)(t)&&Object.keys(t).length>0)return void this.trigger("vttjsloaded");var r=j.default.createElement("script");r.src=this.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",r.onload=function(){e.trigger("vttjsloaded")},r.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),D.default.WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){var n=this.remoteTextTracks(),r=function(e){return t.addTrack_(e.track)},i=function(e){return t.removeTrack_(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a);for(var e=0;e<t.length;e++){var s=t[e];s.removeEventListener("cuechange",o)}})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new E.default,this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new w.default,this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new b.default,this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new b.default,this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new h.default,this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return u(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=(0,g.default)(e,{tech:this});return new d.default(t)},t.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(I.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),t!==!0&&this.autoRemoteTextTracks_.addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:D.default&&D.default.videojs&&D.default.videojs[e]?(I.default.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.default.videojs[e]):void 0},t}(c.default);F.prototype.textTracks_,F.prototype.audioTracks_,F.prototype.videoTracks_,F.prototype.featuresVolumeControl=!0,F.prototype.featuresFullscreenResize=!1,F.prototype.featuresPlaybackRate=!1,F.prototype.featuresProgressEvents=!1,F.prototype.featuresTimeupdateEvents=!1,F.prototype.featuresNativeTextTracks=!1,F.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=void 0,o=0;o<r.length;o++)if(i=r[o].canHandleSource(t,n))return r[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:I.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},c.default.registerComponent("Tech",F),c.default.registerComponent("MediaTechController",F),F.registerTech("Tech",F),t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}function o(e,t,n,r){return void 0===r&&(l.default.warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),i(e,r,n.length-1),n[r][t]}function a(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function s(e,t){return Array.isArray(e)?a(e):void 0===e||void 0===t?a():a([[e,t]])}t.__esModule=!0,t.createTimeRange=void 0,t.createTimeRanges=s;var u=n(14),l=r(u);t.createTimeRange=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e.start(t)+"-"+e.end(t)},i=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},o=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},a=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},s=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},u={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",a=void 0,s=void 0,u=0;u<t.length/n;u++)a=t.slice(u*n,u*n+n).map(i).join(""),s=t.slice(u*n,u*n+n).map(o).join(""),r+=a+" "+s+"\n";return r},tagDump:function(e){return u.hexDump(e.bytes)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=r(e,n)+" ";return t},createTransferableMessage:a,initSegmentId:s};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(4),a=r(o),s={UNSAFE_LIVE_SEGMENTS:3},u=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=e.segments[r],"undefined"!=typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!=typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},l=function(e,t){for(var n=0,r=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if(r=e.segments[i],"undefined"!=typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!=typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},c=function(e,t,n){var r=void 0,i=void 0;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=u(e,t),r.precise?r.result:(i=l(e,t),i.precise?i.result:r.result+n))},f=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return a.default.Infinity}return c(e,t,n)};t.duration=f;var d=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var o=t;o<n;o++)r+=e.segments[o].duration;return r};t.sumDurations=d;var p=function(e){if(!e||!e.segments)return[null,null];for(var t=e.syncInfo||(e.endList?{time:0,mediaSequence:0}:null),n=null,r=0,i=e.segments.length;r<i;r++){var o=e.segments[r];if("undefined"!=typeof o.start){n={mediaSequence:e.mediaSequence+r,time:o.start};break}}return{expiredSync:t,segmentSync:n}},h=function(e){var t=p(e),n=t.expiredSync,r=t.segmentSync;if(n&&r){var i=n.mediaSequence-e.mediaSequence,o=r.mediaSequence-e.mediaSequence,a=void 0,s=void 0;return Math.abs(i)>Math.abs(o)?(a=o,s=-r.time):(a=i,s=n.time),Math.abs(s+d(e,a,0))}if(n){var a=n.mediaSequence-e.mediaSequence;return n.time+d(e,a,0)}if(r){var a=r.mediaSequence-e.mediaSequence;return r.time-d(e,a,0)}return null},y=function(e,t){if(!e||!e.segments)return null;if(e.endList)return f(e);var n=h(e);if(null===n)return null;var r=t?Math.max(0,e.segments.length-s.UNSAFE_LIVE_SEGMENTS):Math.max(0,e.segments.length);return c(e,e.mediaSequence+r,n)};t.playlistEnd=y;var g=function(e){var t=!0,n=h(e),r=y(e,t);return null===r?(0,i.createTimeRange)():(0,i.createTimeRange)(n,r)};t.seekable=g;var v=function(e){return e-Math.floor(e)===0},m=function(e,t){if(v(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),o=t*i;if(v(o)||r===n)return(o+e)/i}},_=m.bind(null,1),b=m.bind(null,-1),T=function(e,t,n,r){var i=void 0,o=void 0,a=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(o=e.segments[i],s+=b(o.duration),s>0)return{mediaIndex:i,startTime:r-d(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if(s-=e.targetDuration,s<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<a;i++)if(o=e.segments[i],s-=_(o.duration),s<0)return{mediaIndex:i,startTime:r+d(e,n,i)};return{mediaIndex:a-1,startTime:t}};t.getMediaInfoForTime_=T;var E=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};t.isBlacklisted=E;var S=function(e){var t=E(e);return!e.disabled&&!t};t.isEnabled=S,s.duration=f,s.seekable=g,s.getMediaInfoForTime_=T,s.isEnabled=S,s.isBlacklisted=E,s.playlistEnd=y,t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeTransformation=t.mergeCloudinaryConfig=t.compareSources=t.normalizeOptions=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(19),a=n(51),s=n(36),u=r(s),l=n(13),c=r(l),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tolerateMissingId,i=void 0!==r&&r;if((0,a.isPlainObject)(e)){var s=(0,c.default)({},e);if(e=(0,o.sliceAndUnsetProperties)(s,"publicId").publicId,!(0,a.isString)(e)&&!i)throw new Error("Source is missing 'publicId'.");t&&(t=(0,c.default)({},s,t))}return{publicId:e,options:t}},d=function(e,t){var n=e,r=t;return"object"===("undefined"==typeof e?"undefined":i(e))&&(n=e.src),"object"===("undefined"==typeof t?"undefined":i(t))&&(r=t.src),/^\/\//.test(n)&&(r=r.slice(r.indexOf("//"))),/^\/\//.test(r)&&(n=n.slice(n.indexOf("//"))),n===r},p=function(e,t){"Cloudinary"===e.constructor.name&&e.config&&(e=e.config());var n=new u.default.Cloudinary(e);return"Cloudinary"===t.constructor.name&&t.config&&(t=e.config()),n.config(t)},h=function(e,t){"Transformation"===e.constructor.name&&e.toOptions&&(e=e.toOptions());var n=new u.default.Transformation(e);return n.fromOptions(t)};t.normalizeOptions=f,t.compareSources=d,t.mergeCloudinaryConfig=p,t.mergeTransformation=h},function(e,t,n){"use strict";function r(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":a(e))&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return e instanceof String||"string"==typeof e}function o(e){return"number"==typeof e&&e%1===0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isPlainObject=r,t.isString=i,t.isInteger=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&e[i].indexOf("public_")===-1||(this[i]=e[i])}}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this._test=t,this._converter=n}return i(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(;e.length<t;)e="0"+e;return e}function o(e,t){return e.representation.startNumber+t}function a(e,t,n){var r,o,a,s,u,l,c="%0",f=t.length,d=c.length;if(!e)return e;for(;;){if(r=e.indexOf("$"+t),r<0)return e;if(o=e.indexOf("$",r+f),o<0)return e;if(a=e.indexOf(c,r+f),a>r&&a<o)switch(s=e.charAt(o-1),u=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":l=i(n.toString(),u);break;case"x":l=i(n.toString(16),u);break;case"X":l=i(n.toString(16),u).toUpperCase();break;case"o":l=i(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(o+1)}}function s(e,t,n,r){var i,a,s,u;return a=n.segmentDuration,isNaN(a)&&(a=n.adaptation.period.duration),s=n.adaptation.period.start+r*a,u=s+a,i=new p.default,i.representation=n,i.duration=a,i.presentationStartTime=s,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=o(i,r),i.availabilityIdx=r,i}function u(e,t,n,r,i,s,u,l,c){var f,d,h,y=r/s,g=Math.min(i/s,n.adaptation.period.mpd.maxSegmentDuration);return f=e.calcPresentationTimeFromMediaTime(y,n),d=f+g,h=new p.default,h.representation=n,h.duration=g,h.mediaStartTime=y,h.presentationStartTime=f,h.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,h.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(d,n.adaptation.period.mpd,t),h.wallStartTime=e.calcWallTimeForSegment(h,t),h.replacementTime=r,h.replacementNumber=o(h,c),u=a(u,"Number",h.replacementNumber),u=a(u,"Time",h.replacementTime),h.media=u,h.mediaRange=l,h.availabilityIdx=c,h}function l(e,t){if(!t||!t.segments)return null;var n,r,i=t.segments.length;if(e<i&&(n=t.segments[e],n&&n.availabilityIdx===e))return n;for(r=0;r<i;r++)if(n=t.segments[r],n&&n.availabilityIdx===e)return n;return null}function c(e,t,n,r,i){var o,a,s,u=2,l=i||10,c=0,f=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?s={start:c,end:f}:!t&&n||r<0?null:(o=Math.max(r-u,c),a=Math.min(r+l,f),s={start:o,end:a})}function f(e,t,n,r,i,o){var a,s,u,c=n.segmentDuration,f=n.adaptation.period.mpd.manifest.minBufferTime,d=n.segmentAvailabilityRange,p={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,d.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,d.end)},h=n.segments,y=2*c,g=o||Math.max(2*f,10*c),v=NaN,m=null;return p.start=Math.max(p.start,0),t&&!e.isTimeSyncCompleted()?(a=Math.floor(p.start/c),s=Math.floor(p.end/c),u={start:a,end:s}):(h&&h.length>0?(m=l(i,n),v=m?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,m.presentationStartTime):i>0?i*c:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r)):v=i>0?i*c:t?p.end:p.start,a=Math.floor(Math.max(v-y,p.start)/c),s=Math.floor(Math.min(a+g/c,p.end/c)),u={start:a,end:s})}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceTokenForTemplate=a,t.getIndexBasedSegment=s,t.getTimeBasedSegment=u,t.getSegmentByIndex=l,t.decideSegmentListRangeForTimeline=c,t.decideSegmentListRangeForTemplate=f;var d=n(76),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new w.default("not really supported");r=e.addSourceBuffer(n)}catch(e){if(!t.isText&&n.indexOf('codecs="stpp')===-1&&n.indexOf('codecs="wvtt')===-1)throw e;r=(0,a.default)(_).getInstance(),r.setConfig({errHandler:(0,d.default)(_).getInstance(),adapter:(0,c.default)(_).getInstance(),dashManifestModel:O,mediaController:(0,u.default)(_).getInstance(),videoModel:(0,E.default)(_).getInstance(),streamController:(0,h.default)(_).getInstance(),textTracks:(0,g.default)(_).getInstance(),VTTParser:(0,m.default)(_).getInstance(),TTMLParser:(0,b.default)(_).getInstance()})}return r}function t(e,t){try{e.removeSourceBuffer(t)}catch(e){}}function n(e,t,n){var r,i,o=null,a=0,s=0,u=null,l=null,c=0,f=n||.15;try{o=e.buffered}catch(e){return null}if(null!==o&&void 0!==o){for(i=0,r=o.length;i<r;i++)if(a=o.start(i),s=o.end(i),null===u)c=Math.abs(a-t),t>=a&&t<s?(u=a,l=s):c<=f&&(u=a,l=s);else{if(c=a-l,!(c<=f))break;l=s}if(null!==u)return{start:u,end:l}}return null}function r(e){var t=null;try{return t=e.buffered}catch(e){return null}}function i(e){var t,n,i=r(e),o=0;if(!i)return o;for(n=0,t=i.length;n<t;n++)o+=i.end(n)-i.start(n);return o}function o(e,t,r){var i,o;return i=n(e,t,r),o=null===i?0:i.end-t}function s(e,t){if(!t)return null;var n,i,o,a,s,u,l,c,f,d=r(t);if(!d)return null;for(var p=0,h=d.length;p<h;p++){if(c=e.length>p,s=c?{start:e.start(p),end:e.end(p)}:null,n=d.start(p),i=d.end(p),!s)return f={start:n,end:i};if(o=s.start===n,a=s.end===i,!o||!a){if(o)f={start:s.end,end:i};else{if(!a)return f={start:n,end:i};f={start:n,end:s.start}}return u=e.length>p+1?{start:e.start(p+1),end:e.end(p+1)}:null,l=p+1<h?{start:d.start(p+1),end:d.end(p+1)}:null,!u||l&&l.start===u.start&&l.end===u.end||(f.end=u.start),f}}return null}function l(e,t){var n=t.bytes,r="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,i="Object"===Object.prototype.toString.call(e).slice(8,-1);if(r)try{v(e,function(){i?e[r](n,t):e[r](n),v(e,function(){T.trigger(I.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})})}catch(t){T.trigger(I.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new w.default(t.code,t.message,null)})}}function f(e,t,n,r){try{v(e,function(){t>=0&&n>t&&"ended"!==r.readyState&&e.remove(t,n),
v(e,function(){T.trigger(I.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n})})})}catch(r){T.trigger(I.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n,error:new w.default(r.code,r.message,null)})}}function p(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(e){}}function y(e){e&&e.dashManifestModel&&(O=e.dashManifestModel)}function v(e,t){var n,r=50,i=function(){e.updating||(clearInterval(n),t())},o=function n(){e.updating||(e.removeEventListener("updateend",n,!1),t())};if(!e.updating)return void t();if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",o,!1)}catch(e){n=setInterval(i,r)}else n=setInterval(i,r)}var _=this.context,T=(0,C.default)(_).getInstance(),S=void 0,O=void 0;return S={append:l,remove:f,abort:p,createSourceBuffer:e,removeSourceBuffer:t,getBufferRange:n,getAllRanges:r,getTotalBufferedTime:i,getBufferLength:o,getRangeDifference:s,setConfig:y}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=r(o),s=n(29),u=r(s),l=n(37),c=r(l),f=n(24),d=r(f),p=n(40),h=r(p),y=n(77),g=r(y),v=n(295),m=r(v),_=n(294),b=r(_),T=n(32),E=r(T),S=n(17),w=r(S),O=n(5),C=r(O),P=n(3),I=r(P),A=n(0),M=r(A),k=22;i.__dashjs_factory_name="SourceBufferController";var x=M.default.getSingletonFactory(i);x.QUOTA_EXCEEDED_ERROR_CODE=k,t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(52),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return o(t,e),t}(u.default),c=new l;t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){A=null,x=null,M=[],k=[],C.on(u.default.LOADING_COMPLETED,E,I)}function n(e){x=e}function r(e){A=e}function i(){return A}function o(e){var t=function(e,t){return e.action===d.default.ACTION_COMPLETE&&e.action===t.action},n=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},r=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality},i=function(i){var o=!1;return i.some(function(i){if(n(e,i)||r(e,i)||t(e,i))return o=!0}),o};return i(M)}function s(e){var t=e.state instanceof Array?e.state:[e.state],n=[];return t.forEach(function(t){var r=b(t);n=n.concat(_(r,e))}),n}function l(e){M=M.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function c(){x.abort(),k=[]}function f(e){switch(e.action){case d.default.ACTION_COMPLETE:M.push(e),T(e,g),C.trigger(u.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case d.default.ACTION_DOWNLOAD:T(e,y),k.push(e),p(e);break;default:O("Unknown request action.")}}function p(e){C.trigger(u.default.FRAGMENT_LOADING_STARTED,{sender:I,request:e}),x.load(e)}function v(e,t,n){for(var r=e.length-1,i=r;i>=0;i--){var o=e[i],a=o.startTime,s=a+o.duration;if(n=void 0!==n?n:o.duration/2,!isNaN(a)&&!isNaN(s)&&t+n>=a&&t-n<s||isNaN(a)&&isNaN(t))return o}return null}function _(e,t){return t.hasOwnProperty("time")?[v(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}function b(e){var t=void 0;switch(e){case y:t=k;break;case g:t=M;break;default:t=[]}return t}function T(e,t){P.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),P.addRequestsQueue(e.mediaType,k,M)}function E(e){e.sender===x&&(k.splice(k.indexOf(e.request),1),e.response&&!e.error&&M.push(e.request),T(e.request,e.error?m:g),C.trigger(u.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function S(){C.off(u.default.LOADING_COMPLETED,E,this),x&&(x.reset(),x=null),M=[],k=[]}var w=this.context,O=(0,h.default)(w).getInstance().log,C=(0,a.default)(w).getInstance(),P=e.metricsModel,I=void 0,A=void 0,M=void 0,k=void 0,x=void 0;return I={setLoader:n,setScheduleController:r,getScheduleController:i,getRequests:s,isFragmentLoaded:o,removeExecutedRequestsBeforeTime:l,abortRequests:c,executeRequest:f,reset:S},t(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l),f=n(33),d=r(f),p=n(6),h=r(p),y="loading",g="executed",v="canceled",m="failed";i.__dashjs_factory_name="FragmentModel";var _=c.default.getClassFactory(i);_.FRAGMENT_MODEL_LOADING=y,_.FRAGMENT_MODEL_EXECUTED=g,_.FRAGMENT_MODEL_CANCELED=v,_.FRAGMENT_MODEL_FAILED=m,t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){return o}function t(e){o=e,e&&r.trigger(u.default.MANIFEST_LOADED,{data:e})}var n=this.context,r=(0,a.default)(n).getInstance(),i=void 0,o=void 0;return i={getValue:e,setValue:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="ManifestModel",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.log&&(_=e.log)}function t(){T=[];var e;e=(0,d.default)(y).getInstance(),T.push(e),e=(0,c.default)(y).getInstance(),T.push(e),e=(0,u.default)(y).getInstance(),T.push(e),E=e}function n(){return T}function r(e){for(var t=0;t<T.length;t++)if(T[t].systemString===e)return T[t];return null}function i(e){return e===E}function o(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1}function s(e){var t,n,r,i,o=[];if(e)for(r=0;r<T.length;++r)for(n=T[r],i=0;i<e.length;++i)if(t=e[i],t.schemeIdUri.toLowerCase()===n.schemeIdURI){var a=n.getInitData(t);a&&o.push({ks:T[r],initData:a})}return o}function l(e,t){var n,r=[],i=a.default.parsePSSHList(e);for(n=0;n<T.length;++n){var o=T[n].systemString,s=!t||o in t;T[n].uuid in i&&s&&r.push({ks:T[n],initData:i[T[n].uuid]})}return r}function f(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=(0,h.default)(y).getInstance():"com.widevine.alpha"===e.systemString?r=(0,m.default)(y).getInstance():"com.microsoft.playready"===e.systemString?r=(0,g.default)(y).getInstance():"org.w3.clearkey"===e.systemString&&(r=(0,b.default)(y).getInstance()),r}function p(e,t){try{return E.getClearKeysFromProtectionData(e,t)}catch(e){return _("Failed to retrieve clearkeys from ProtectionData"),null}}var y=this.context,v=void 0,_=void 0,T=void 0,E=void 0;return v={initialize:t,isClearKey:i,initDataEquals:o,getKeySystems:n,getKeySystemBySystemString:r,getSupportedKeySystemsFromContentProtection:s,getSupportedKeySystems:l,getLicenseServer:f,processClearKeyLicenseRequest:p,setConfig:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=r(o),s=n(266),u=r(s),l=n(268),c=r(l),f=n(267),d=r(f),p=n(273),h=r(p),y=n(274),g=r(y),v=n(275),m=r(v),_=n(272),b=r(_),T=n(0),E=r(T);i.__dashjs_factory_name="ProtectionKeyController",t.default=E.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e}function t(e){return e}var n=void 0;return n={modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="RequestModifier",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(148),u=r(s),l=n(1),c=r(l),f=n(90),d=r(f),p=n(378),h=r(p),y=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),r.tracks=n.textTracks(),o(this,e.call(this,n,r))}return a(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new h.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new d.default(this.player_,{track:r,selectable:!0}))}return e},t}(u.default);c.default.registerComponent("TextTrackButton",y),t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=n(25),o=r(i),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){o.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=n},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(45),u=r(s),l=n(1),c=r(l),f=n(12),d=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.selectable=r.selectable,a.selected(r.selected),a.selectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitem"),a}return a(t,e),t.prototype.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",(0,f.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(u.default);c.default.registerComponent("MenuItem",d),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.isCrossOrigin=t.getFileExtension=t.getAbsoluteURL=t.parseUrl=void 0;var i=n(9),o=r(i),a=n(4),s=r(a),u=t.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=o.default.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=o.default.createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o.default.body.appendChild(i));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&o.default.body.removeChild(i),a};t.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=o.default.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},t.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},t.isCrossOrigin=function(e){var t=s.default.location,n=u(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return/mp4a\.\d+.\d+/i.test(e)},i=function(e){return/avc1\.[\da-f]+/i.test(e)},o=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();t.parameters[r]=i}}),t},a=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var r=("00"+Number(t).toString(16)).slice(-2),i=("00"+Number(n).toString(16)).slice(-2);return"avc1."+r+"00"+i})})};t.default={isAudioCodec:r,parseContentType:o,isVideoCodec:i,translateLegacyCodecs:a},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){var r=void 0,i=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime<=t&&i.endTime>=e&&n.removeCue(i)};t.default=r,e.exports=t.default},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){return t instanceof e?t:new e(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCloudinaryInstanceOf=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e[0],n=e[1],r=(0,s.default)(t).width,i=d(r,n.minimum,n.maximum),o=i/n.fontRatio,a=d(o,n.minFont,n.maxFont);t.style.fontSize=a+"px"}function o(e,t){t=(0,c.default)({maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35},t);var n=[e,t];(0,u.addResizeListener)(e,function(){i(n)}),f.push(n),i(n)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(326),s=r(a),u=n(111),l=n(13),c=r(l),f=[],d=function(e,t,n){return Math.min(Math.max(e,t),n)};t.default=o},function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,u=t.top+i-a,l=t.left+o-s;return{top:Math.round(u),left:Math.round(l)}}function i(e,t){var n={},i=r(e),o=e.offsetWidth,a=e.offsetHeight,s=i.top,u=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+a)/a)),n.x=Math.max(0,Math.min(1,(c-u)/o)),n}function o(e,t){var n=t.fraction,i=r(e),o=i.left,a=i.top,s=e.offsetHeight,u=e.offsetWidth,l=o+u,c=a+s,f=Math.max(0,Math.min(u,window.pageXOffset+window.innerWidth-o,l-window.pageXOffset)),d=Math.max(0,Math.min(u,window.pageYOffset+window.innerHeight-a,c-window.pageYOffset)),p=f*d/(u*s);return p>n}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementPosition=r,t.getPointerPosition=i,t.isElementInViewport=o},function(e,t,n){"use strict";var r={};r.encode=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.decode=function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")};var i={};!function(e){var t=function(t){for(var n=0,r=[],i=0|t.length/3;0<i--;){var o=(t[n]<<16)+(t[n+1]<<8)+t[n+2];n+=3,r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push(e.charAt(63&o))}if(2==t.length-n){var o=(t[n]<<16)+(t[n+1]<<8);r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push("=")}else if(1==t.length-n){var o=t[n]<<16;r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push("==")}return r.join("")},n=function(){for(var t=[],n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,r=[],i=0|e.length/4;0<i--;){var o=(n[e.charCodeAt(t)]<<18)+(n[e.charCodeAt(t+1)]<<12)+(n[e.charCodeAt(t+2)]<<6)+n[e.charCodeAt(t+3)];r.push(255&o>>16),r.push(255&o>>8),r.push(255&o),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},u={};u.encode=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},u.decode=function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")},i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var n=u.encode(e);return t(n)},i.decodeASCII=function(e){var t=o(e);return u.decode(t)},i.encode=function(e){var n=r.encode(e);return t(n)},i.decode=function(e){var t=o(e);return r.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),t.decode=i.decode,t.decodeArray=i.decodeArray},function(e,t,n){"use strict";function r(e){function t(){void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}function n(){}function r(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function i(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function a(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==r)break}else if(o instanceof RegExp){if(o.test(r))break}else if("function"==typeof o&&o(t,n,r))break}return i!=e.length}function s(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&a(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function u(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");if(n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]),o=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+("-"==o?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function l(t,n,r){if(e.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0];return a(e.datetimeAccessFormPaths,t,n,i)?u(t):t}return t}function c(t,n,r,i){return!(n==O.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||a(e.xmlElementsFilter,t,r,i)}function f(t,n){if(t.nodeType==O.DOCUMENT_NODE){for(var o=new Object,a=t.childNodes,u=0;u<a.length;u++){var d=a.item(u);if(d.nodeType==O.ELEMENT_NODE)if(e.ignoreRoot)o=f(d);else{o={};var p=r(d);o[p]=f(d)}}return o}if(t.nodeType==O.ELEMENT_NODE){var o=new Object;o.__cnt=0;for(var h=[],a=t.childNodes,u=0;u<a.length;u++){var d=a.item(u),p=r(d);if(d.nodeType!=O.COMMENT_NODE){var y=n+"."+p;if(c(o,d.nodeType,p,y))if(o.__cnt++,null==o[p]){var g=f(d,y);if("#text"!=p||/[^\s]/.test(g)){var v={};v[p]=g,h.push(v)}o[p]=g,s(o,p,y)}else{null!=o[p]&&(o[p]instanceof Array||(o[p]=[o[p]],s(o,p,y)));var g=f(d,y);if("#text"!=p||/[^\s]/.test(g)){var v={};v[p]=g,h.push(v)}o[p][o[p].length]=g}}}o.__children=h;for(var m=r(t),_=0;_<t.attributes.length;_++){var b=t.attributes.item(_);o.__cnt++;for(var T=b.value,E=0,S=e.matchers.length;E<S;E++){var w=e.matchers[E];w.test(b,m)&&(T=w.converter(b.value))}o[e.attributePrefix+b.name]=T}var C=i(t);return null!=C&&""!=C&&(o.__cnt++,o.__prefix=C),null!=o["#text"]&&(o.__text=o["#text"],o.__text instanceof Array&&(o.__text=o.__text.join("\n")),e.stripWhitespaces&&(o.__text=o.__text.trim()),delete o["#text"],"property"==e.arrayAccessForm&&delete o["#text_asArray"],o.__text=l(o.__text,p,n+"."+p)),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],"property"==e.arrayAccessForm&&delete o["#cdata-section_asArray"]),0==o.__cnt&&"text"==e.emptyNodeForm?o="":1==o.__cnt&&null!=o.__text?o=o.__text:1!=o.__cnt||null==o.__cdata||e.keepCData?o.__cnt>1&&null!=o.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==o.__text||""==o.__text.trim())&&delete o.__text:o=o.__cdata,delete o.__cnt,!e.enableToStringFunc||null==o.__text&&null==o.__cdata||(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}if(t.nodeType==O.TEXT_NODE||t.nodeType==O.CDATA_SECTION_NODE)return t.nodeValue}function d(t,n,r,i){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=r)for(var s=0;s<r.length;s++){var u=r[s],l=t[u];e.escapeMode&&(l=o(l)),a+=" "+u.substr(e.attributePrefix.length)+"=",a+=e.useDoubleQuotes?'"'+l+'"':"'"+l+"'"}return a+=i?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function h(e,t){return e.indexOf(t,e.length-t.length)!==-1}function y(t,n){return!!("property"==e.arrayAccessForm&&h(n.toString(),"_asArray")||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||t[n]instanceof Function)}function g(e){var t=0;if(e instanceof Object)for(var n in e)y(e,n)||t++;return t}function v(t,n,r){return 0==e.jsonPropertiesFilter.length||""==r||a(e.jsonPropertiesFilter,t,n,r)}function m(t){var n=[];if(t instanceof Object)for(var r in t)r.toString().indexOf("__")==-1&&0==r.toString().indexOf(e.attributePrefix)&&n.push(r);return n}function _(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(n+=e.escapeMode?o(t.__text):t.__text),n}function b(t){var n="";return t instanceof Object?n+=_(t):null!=t&&(n+=e.escapeMode?o(t):t),n}function T(e,t){return""===e?t:e+"."+t}function E(e,t,n,r){var i="";if(0==e.length)i+=d(e,t,n,!0);else for(var o=0;o<e.length;o++)i+=d(e[o],t,m(e[o]),!1),i+=S(e[o],T(r,t)),i+=p(e[o],t);return i}function S(e,t){var n="",r=g(e);if(r>0)for(var i in e)if(!y(e,i)&&(""==t||v(e,i,T(t,i)))){var o=e[i],a=m(o);if(null==o||void 0==o)n+=d(o,i,a,!0);else if(o instanceof Object)if(o instanceof Array)n+=E(o,i,a,t);else if(o instanceof Date)n+=d(o,i,a,!1),n+=o.toISOString(),n+=p(o,i);else{var s=g(o);s>0||null!=o.__text||null!=o.__cdata?(n+=d(o,i,a,!1),n+=S(o,T(t,i)),n+=p(o,i)):n+=d(o,i,a,!0)}else n+=d(o,i,a,!1),n+=b(o),n+=p(o,i)}return n+=b(e)}var w="1.2.0";e=e||{},t(),n();var O={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!t)try{i=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){i=null}try{n=r.parseFromString(e,"text/xml"),null!=i&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(e){n=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?u(e):e},this.xml2json=function(e){return f(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return S(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return w}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(121),o=r(i),a=n(125),s=r(a),u=n(244),l=r(u),c=n(231),f=r(c),d=n(115),p="undefined"!=typeof window&&window||e,h=p.dashjs;h||(h=p.dashjs={}),h.MediaPlayer=o.default,h.Protection=s.default,h.MetricsReporting=l.default,h.MediaPlayerFactory=f.default,h.Version=(0,d.getVersionString)(),t.default=h,t.MediaPlayer=o.default,t.Protection=s.default,t.MetricsReporting=l.default,t.MediaPlayerFactory=f.default}).call(t,n(67))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){O=0,C=!1,P=NaN,S.on(u.default.TIME_SYNCHRONIZATION_COMPLETED,_,this)}function t(){return C}function n(e){C=e}function r(){return O}function i(e){O=e}function o(){return P}function s(e){P=e}function l(e,t,n,r){var i=NaN;return i=r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-O)):t.availabilityStartTime}function c(e,t,n){return l.call(this,e,t,n)}function f(e,t,n){return l.call(this,e,t,n,!0)}function d(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function p(e,t){var n=t.adaptation.period.start,r=t.presentationTimeOffset;return e+(n-r)}function h(e,t){var n=t.adaptation.period.start,r=t.presentationTimeOffset;return e-n+r}function y(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i}function g(e,t){var n=e.adaptation.period,r={start:n.start,end:n.start+n.duration};if(!t)return r;if(!C&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var i=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=d(new Date,n),a=n.start+n.duration;return r.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start),r.end=o>=a&&o-i<a?a-i:o-i,r}function v(e,t){var n=e.adaptation.period.start;return t-n}function m(e,t){var n=e.adaptation.period.start;return t+n}function _(e){C||void 0!==e.offset&&(i(e.offset/1e3),C=!0)}function b(e){var t=e.presentationTimeOffset,n=e.adaptation.period.start;return n-t}function T(){S.off(u.default.TIME_SYNCHRONIZATION_COMPLETED,_,this),O=0,C=!1,P=NaN}var E=this.context,S=(0,a.default)(E).getInstance(),w=void 0,O=void 0,C=void 0,P=void 0;return w={initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:n,getClientTimeOffset:r,setClientTimeOffset:i,getExpectedLiveEdge:o,setExpectedLiveEdge:s,calcAvailabilityStartTimeFromPresentationTime:c,calcAvailabilityEndTimeFromPresentationTime:f,calcPresentationTimeFromWallTime:d,calcPresentationTimeFromMediaTime:p,calcPeriodRelativeTimeFromMpdRelativeTime:v,calcMpdRelativeTimeFromPeriodRelativeTime:m,calcMediaTimeFromPresentationTime:h,calcSegmentAvailabilityRange:g,calcWallTimeForSegment:y,calcMSETimeOffset:b,reset:T}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="TimelineConverter",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN}return i(e,null,[{key:"hasInitialization",value:function(e){return null!==e.initialization||("BaseURL"!==e.segmentInfoType||"SegmentBase"!==e.segmentInfoType)&&null!==e.range}},{key:"hasSegments",value:function(e){return"BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){A=window.VTTCue||window.TextTrackCue,x=[],R=[],D=-1,L=0,j=0,N=0,F=0,U=null,B=null,q=!1,z=2147483647,H=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?V="fullscreenElement":void 0!==document.webkitIsFullScreen?V="webkitIsFullScreen":document.msFullscreenElement?V="msFullscreenElement":document.mozFullScreen&&(V="mozFullScreen")}function t(e){var t=x[e].kind,n=void 0!==x[e].label?x[e].label:x[e].lang,r=x[e].lang,i=H?document.createElement("track"):k.addTextTrack(t,n,r);return H&&(i.kind=t,i.label=n,i.srclang=r),i}function n(e){q=e,U&&!document[V]&&(U.style.zIndex=e?z:null)}function r(e,n){if(x.length===n)return void P("Trying to add too many tracks.");if(x.push(e),void 0===k&&(k=e.video),x.length===n){x.sort(function(e,t){return e.index-t.index}),U=M.getTTMLRenderingDiv();for(var r=-1,i=0;i<x.length;i++){var o=t.call(this,i);R.push(o),x[i].defaultTrack&&(o.default=!0,r=i),H&&k.appendChild(o);var a=k.textTracks[i];a.nonAddedCues=[],U&&(x[i].isTTML||x[i].isEmbedded)?a.renderingType="html":a.renderingType="default",this.addCaptions(i,0,x[i].captionData),C.trigger(u.default.TEXT_TRACK_ADDED)}if(g.call(this,r),r>=0){for(var s=0;s<k.textTracks.length;s++)k.textTracks[s].mode=s===r?"showing":"hidden";this.addCaptions(r,0,null)}C.trigger(u.default.TEXT_TRACKS_ADDED,{index:D,tracks:x
})}}function i(e,t,n,r,i,o){var a=e/t,s=n/r,u=0,l=0;a>s?(l=t,u=l/r*n):(u=e,l=u/n*r);var c=0,f=0,d=0,p=0,h=u/l;return h>i?(p=l,d=l/(1/i),c=(e-d)/2,f=0):(d=u,p=u/i,c=0,f=(t-p)/2),o?{x:c+.1*d,y:f+.1*p,w:.8*d,h:.8*p}:{x:c,y:f,w:d,h:p}}function o(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=k.clientWidth/k.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=i.call(this,k.clientWidth,k.clientHeight,k.videoWidth,k.videoHeight,t,n),o=r.w,a=r.h;if(o!=N||a!=F){L=r.x,j=r.y,N=o,F=a,U.style.left=L+"px",U.style.top=j+"px",U.style.width=N+"px",U.style.height=F+"px";for(var s=0;e.activeCues&&s<e.activeCues.length;++s){var u=e.activeCues[s];u.scaleCue(u)}V&&document[V]||q?U.style.zIndex=z:U.style.zIndex=null}}}function s(e,t){var n=Math.round(.01*e*t).toString()+"px";return n}function l(e){var t=N,n=F;if(t*n!==0&&e.layout){var r=e.layout,i=s(r.left,t),o=s(r.top,n),a=s(r.width,t),u=s(r.height,n);U.style.left=i,U.style.top=o,U.style.width=a,U.style.height=u;var l=U.firstChild;l&&l.style&&(l.style.left="0px",l.style.top="0px",l.style.width=a,l.style.height=u)}}function c(e){var t,n,r,i,o,a=N,s=F,u=[a/e.cellResolution[0],s/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){var l=e.linePadding[t];n=(l*u[0]).toString();for(var c=document.getElementsByClassName("spanPadding"),f=0;f<c.length;f++)c[f].style.cssText=c[f].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),c[f].style.cssText=c[f].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){"%"===e.fontSize[t][0]?r=e.fontSize[t][1]/100:"c"===e.fontSize[t][0]&&(r=e.fontSize[t][1]),n=(r*u[1]).toString(),o="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var d=0;d<o.length;d++)o[d].style.cssText=o[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){"%"===e.lineHeight[t][0]?i=e.lineHeight[t][1]/100:"c"===e.fontSize[t][0]&&(i=e.lineHeight[t][1]),n=(i*u[1]).toString(),o=document.getElementsByClassName(t);for(var p=0;p<o.length;p++)o[p].style.cssText=o[p].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function f(e,t,n){var r=e>=0?k.textTracks[e]:null,i=this;if(r){if("showing"!==r.mode)return void(n&&n.length>0&&(r.nonAddedCues=r.nonAddedCues.concat(n)));if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var a in n){var s,u=n[a];r.cellResolution=u.cellResolution,r.isFromCEA608=u.isFromCEA608,B||"html"!==u.type&&"image"!==u.type||(B=setInterval(o.bind(this),500)),"image"===u.type?(s=new A(u.start-t,u.end-t,""),s.image=u.data,s.id=u.id,s.size=0,s.type="image",s.layout=u.layout,s.scaleCue=l.bind(i),s.onenter=function(){if(U&&"showing"===r.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",U.appendChild(e),l.call(i,this)}},s.onexit=function(){if(U)for(var e=U.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&U.removeChild(e[t])}):"html"===u.type?(s=new A(u.start-t,u.end-t,""),s.cueHTMLElement=u.cueHTMLElement,s.regions=u.regions,s.regionID=u.regionID,s.cueID=u.cueID,s.videoWidth=u.videoWidth,s.videoHeight=u.videoHeight,s.cellResolution=u.cellResolution,s.fontSize=u.fontSize,s.lineHeight=u.lineHeight,s.linePadding=u.linePadding,s.scaleCue=c.bind(i),U.style.left=L+"px",U.style.top=j+"px",U.style.width=N+"px",U.style.height=F+"px",s.onenter=function(){"showing"===r.mode&&(P("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),U.appendChild(this.cueHTMLElement),c.call(i,this))},s.onexit=function(){for(var e=U.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&U.removeChild(e[t])}):(s=new A(u.start-t,u.end-t,u.data),u.styles&&(void 0!==u.styles.align&&s.hasOwnProperty("align")&&(s.align=u.styles.align),void 0!==u.styles.line&&s.hasOwnProperty("line")&&(s.line=u.styles.line),void 0!==u.styles.position&&s.hasOwnProperty("position")&&(s.position=u.styles.position),void 0!==u.styles.size&&s.hasOwnProperty("size")&&(s.size=u.styles.size))),r.addCue(s)}}}function p(){return D>=0?k.textTracks[D]:null}function h(){return D}function y(e){for(var t=-1,n=0;n<k.textTracks.length;n++)if(k.textTracks[n].label===e){t=n;break}return t}function g(e){if(D=e,S.call(this),e>=0){var t=k.textTracks[e];"html"===t.renderingType?T.call(this):E.call(this)}else E.call(this)}function v(e){return k.textTracks[e]}function m(e){if(e.cues){for(var t=e.cues,n=t.length-1,r=n;r>=0;r--)e.removeCue(t[r]);e.mode="disabled"}}function _(){for(var e=R.length,t=0;t<e;t++)if(H)k.removeChild(R[t]);else{var n=v.call(this,t);n.nonAddedCues=[],m.call(this,n)}R=[],x=[],B&&(clearInterval(B),B=null),S.call(this)}function b(e){k.removeChild(R[e]),R.splice(e,1)}function T(){if(H){var e=document.getElementById("native-cue-style");if(!e){e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet;k.id?t.insertRule("#"+k.id+"::cue {background: transparent}",0):0!==k.classList.length?t.insertRule("."+k.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function E(){if(H){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function S(){if(U)for(;U.firstChild;)U.removeChild(U.firstChild)}function w(e){e&&e.videoModel&&(M=e.videoModel)}var O=this.context,C=(0,a.default)(O).getInstance(),P=(0,d.default)(O).getInstance().log,I=void 0,A=void 0,M=void 0,k=void 0,x=void 0,R=void 0,D=void 0,L=void 0,j=void 0,N=void 0,F=void 0,U=void 0,B=void 0,H=void 0,V=void 0,q=void 0,z=void 0;return I={initialize:e,displayCConTop:n,addTextTrack:r,addCaptions:f,getTextTrack:v,getCurrentTextTrack:p,getCurrentTrackIdx:h,setCurrentTrackIdx:g,getTrackIdxForId:y,deleteTrackCues:m,deleteAllTextTracks:_,deleteTextTrack:b,setConfig:w}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l),f=n(6),d=r(f);i.__dashjs_factory_name="TextTracks",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){s=new a.default,u=[],l=!1}function t(){return s}function n(){return u}function r(){return l}function i(e){function t(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function n(e,t,n){return t>0&&(f&&0===u.length?u=n[t].split(/[&]/):d&&(i=n[t].split(/[&]/))),n}if(!e)return null;var r,i=[],o=new RegExp(/[?]/),a=new RegExp(/[#]/),c=new RegExp(/^(https:)?\/\//i),f=o.test(e),d=a.test(e);return l=c.test(e),r=e.split(/[?#]/).map(n),u.length>0&&(u=u.reduce(t,null)),i.length>0&&(i=i.reduce(t,null),i.forEach(function(e){s[e.key]=e.value})),e}var o=void 0,s=void 0,u=void 0,l=void 0;return o={initialize:e,parseURI:i,getURIFragmentData:t,getURIQueryData:n,isManifestHTTPS:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(306),a=r(o),s=n(0),u=r(s);i.__dashjs_factory_name="URIQueryAndFragmentModel",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.sessionToken=t,this.error=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,o){r(this,e),this.sessionToken=t,this.message=n,this.defaultURL=i,this.messageType=o?o:"license-request"};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keySystem=t,this.ksConfiguration=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,o,a){r(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=i,this.persistentState=o,this.sessionTypes=a};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.initData=t,this.initDataType=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=c.default.parseBuffer(e),r=(0,a.default)(n).create();return r.setData(t),r}var t=void 0,n=this.context;return t={parse:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(292),a=r(o),s=n(0),u=r(s),l=n(113),c=r(l);i.__dashjs_factory_name="BoxParser",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(void 0!==_)return _;_=!1;var t,n="1",r="1";try{"undefined"!=typeof window&&(t=window[e])}catch(e){return v("Warning: DOMStorage access denied: "+e.message),_}if(!t||e!==h&&e!==y)return _;try{t.setItem(n,r),t.removeItem(n),_=!0}catch(e){v("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return _}function t(){e(h)&&f.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){v(e.message)}}})}function n(){b=(0,u.default)(g).getInstance(),t()}function r(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function i(t,n){return e(t)&&b["get"+n+"CachingInfo"]().enabled}function o(e){if(!i(h,"LastMediaSettings"))return null;var t=p.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=b.getLastMediaSettingsCachingInfo().ttl||!1,o=n.settings;return r&&(localStorage.removeItem(t),o=null),o}function a(e){var t=NaN;if(i(h,"LastBitrate")){var n=d.replace(/\?/,e),r=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-parseInt(r.timestamp,10)>=b.getLastBitrateCachingInfo().ttl||!1,a=parseInt(r.bitrate,10);isNaN(a)||o?o&&localStorage.removeItem(n):(t=a,v("Last saved bitrate for "+e+" was "+a))}return t}function s(e,t){if(i(h,"LastMediaSettings")){var n=p.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:r()}))}catch(e){v(e.message)}}}function l(e,t){if(i(h,"LastBitrate")&&t){var n=d.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t/1e3,timestamp:r()}))}catch(e){v(e.message)}}}var g=this.context,v=(0,c.default)(g).getInstance().log,m=void 0,_=void 0,b=void 0;return m={getSavedBitrateSettings:a,setSavedBitrateSettings:l,getSavedMediaSettings:o,setSavedMediaSettings:s,isSupported:e},n(),m}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(10),u=r(s),l=n(6),c=r(l),f=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],d="dashjs_?_bitrate",p="dashjs_?_settings",h="localStorage",y="sessionStorage";i.__dashjs_factory_name="DOMStorage";var g=a.default.getSingletonFactory(i);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){i=e,o=t}function t(){var e=o.getCurrentRepresentationInfo(),t=e.DVRWindow.end;return e.useCalculatedLiveEdgeTime&&(t=i.getExpectedLiveEdge(),i.setClientTimeOffset(t-e.DVRWindow.end)),t}function n(){i=null,o=null}var r=void 0,i=void 0,o=void 0;return r={initialize:e,getLiveEdge:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="LiveEdgeFinder";var s=a.default.getSingletonFactory(i);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,i=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t.default=o},function(e,t,n){"use strict";var r;r=function(e,t){var n,i=0,o=16384,a=function(e,t){var n,r=e.position+t;r<e.bytes.byteLength||(n=new Uint8Array(2*r),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),l=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)l[n]="videocodecid".charCodeAt(n);r.widthBytes=s,r.heightBytes=u,r.videocodecidBytes=l}switch(this.keyFrame=!1,e){case r.VIDEO_TAG:this.length=16,o*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(o),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var r,i=t||0;n=n||e.byteLength,r=i+n,a(this,n),this.bytes.set(e.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:i>0&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}},r.AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(e){return r.AUDIO_TAG===e[0]},r.isVideoFrame=function(e){return r.VIDEO_TAG===e[0]},r.isMetaData=function(e){return r.METADATA_TAG===e[0]},r.isKeyFrame=function(e){return r.isVideoFrame(e)?23===e[11]:!!r.isAudioFrame(e)||!!r.isMetaData(e)},r.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=r},function(e,t,n){"use strict";var r,i,o,a,s,u,l,c,f,d,p,h=n(18),y=n(145),g=n(143),v=n(140),m=n(141).H264Stream,_=n(328),b=n(330),T=n(341),E=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],S=["width","height","profileIdc","levelIdc","profileCompatibility"],w=9e4;s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},u=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},d=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},p=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},i=function(e){var t=[],n=0,r=0,o=0,a=1/0;i.prototype.init.call(this),this.push=function(n){l(e,n),e&&E.forEach(function(t){e[t]=n[t]}),t.push(n)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var r,i,o,a;return 0===t.length?void this.trigger("done","AudioSegmentStream"):(r=this.trimAdtsFramesByEarliestDts_(t),e.baseMediaDecodeTime=f(e),this.prefixWithSilence_(e,r),e.samples=this.generateSampleTable_(r),o=y.mdat(this.concatenateFrameData_(r)),t=[],i=y.moof(n,[e]),a=new Uint8Array(i.byteLength+o.byteLength),n++,a.set(i),a.set(o,i.byteLength),c(e),this.trigger("data",{track:e,boxes:a}),void this.trigger("done","AudioSegmentStream"))},this.prefixWithSilence_=function(e,t){var n,r,i,s=0,u=0,l=0,c=0;if(t.length&&(n=T.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(w/(e.samplerate/1024)),o&&a&&(u=n-Math.max(o,a),l=Math.floor(u/s),c=l*s),!(l<1||c>w/2))){for(r=b[e.samplerate],r||(r=t[0].data),i=0;i<l;i++)t.splice(i,0,{data:r});e.baseMediaDecodeTime-=Math.floor(T.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=r?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=r&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,n,r=0,i=new Uint8Array(p(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}},i.prototype=new h,r=function(e){var t,n,i=0,o=[];r.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(r){l(e,r),"seq_parameter_set_rbsp"!==r.nalUnitType||t||(t=r.config,e.sps=[r.data],S.forEach(function(n){e[n]=t[n]},this)),"pic_parameter_set_rbsp"!==r.nalUnitType||n||(n=r.data,e.pps=[r.data]),o.push(r)},this.flush=function(){for(var t,n,r,a,s,u;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();return 0===o.length?(this.resetStream_(),void this.trigger("done","VideoSegmentStream")):(t=this.groupNalsIntoFrames_(o),r=this.groupFramesIntoGops_(t),r[0][0].keyFrame||(n=this.getGopForFusion_(o[0],e),n?(r.unshift(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.pts=n.pts,r.dts=n.dts,r.duration+=n.duration):r=this.extendFirstKeyFrame_(r)),l(e,r),e.samples=this.generateSampleTable_(r),s=y.mdat(this.concatenateNalData_(r)),this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],e.baseMediaDecodeTime=f(e),this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),a=y.moof(i,[e]),u=new Uint8Array(a.byteLength+s.byteLength),i++,u.set(a),u.set(s,a.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),void this.trigger("done","VideoSegmentStream"))},this.resetStream_=function(){c(e),t=void 0,n=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=45e3,u=1e4,l=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,e.pps&&d(e.pps[0],o.pps[0])&&e.sps&&d(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration,n>=-u&&n<=s&&(!r||l>n)&&(r=o,l=n)));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},this.groupFramesIntoGops_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},this.generateSampleTable_=function(e,t){var n,r,i,o,a,u=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)a=o[r],i=s(),i.dataOffset=u,i.compositionTimeOffset=a.pts-a.dts,i.duration=a.duration,i.size=4*a.length,i.size+=a.byteLength,a.keyFrame&&(i.flags.dependsOn=2),u+=i.size,l.push(i);return l},this.concatenateNalData_=function(e){var t,n,r,i,o,a,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,f=new Uint8Array(c),d=new DataView(f.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],d.setUint32(s,a.data.byteLength),s+=4,f.set(a.data,s),s+=a.data.byteLength;return f}},r.prototype=new h,l=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},c=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},f=function(e){var t,n,r=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=r,t=Math.max(0,t),"audio"===e.type&&(n=e.samplerate/w,t*=n,t=Math.floor(t)),t},a=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},a.prototype=new h,a.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,S.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,E.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=y.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o=function(e){var t,n,s=this,l=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new g.MetadataStream,t.aacStream=new _,t.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),t.adtsStream=new v,t.coalesceStream=new a(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new i(n),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new g.MetadataStream,o.packetStream=new g.TransportPacketStream,o.parseStream=new g.TransportParseStream,o.elementaryStream=new g.ElementaryStream,o.videoTimestampRolloverStream=new g.TimestampRolloverStream("video"),o.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),o.adtsStream=new v,o.h264Stream=new m,o.captionStream=new g.CaptionStream,o.coalesceStream=new a(e,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream),o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream),o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",function(e){var a;if("metadata"===e.type){for(a=e.tracks.length;a--;)t||"video"!==e.tracks[a].type?n||"audio"!==e.tracks[a].type||(n=e.tracks[a],n.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=e.tracks[a],t.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);t&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new r(t),o.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))}),o.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new i(n),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))}}),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,c(n),n.timelineStartInfo.baseMediaDecodeTime=e),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,c(t),t.timelineStartInfo.baseMediaDecodeTime=e)},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.push=function(e){if(l){var t=u(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()}},o.prototype=new h,e.exports={Transmuxer:o,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:E,VIDEO_PROPERTIES:S}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(63),c=i(l),f=n(1),d=i(f),p=n(7),h=r(p),y=n(4),g=i(y),v=n(9),m=i(v),_=function(e){function t(n,r){o(this,t);var i=r.track,s=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i.default||"showing"===i.mode;var l=a(this,e.call(this,n,r));if(l.track=i,s){var c=h.bind(l,l.handleTracksChange);s.addEventListener("change",c),l.on("dispose",function(){s.removeEventListener("change",c)})}if(s&&void 0===s.onchange){var f=void 0;l.on(["tap","click"],function(){if("object"!==u(g.default.Event))try{f=new g.default.Event("change")}catch(e){}f||(f=m.default.createEvent("Event"),f.initEvent("change",!0,!0)),s.dispatchEvent(f)})}return l}return s(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(c.default);d.default.registerComponent("TextTrackMenuItem",_),t.default=_},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(403),l=i(u),c=n(7),f=r(c),d=n(92),p=n(14),h=i(p),y=n(4),g=i(y),v=n(94),m=i(v),_=n(64),b=n(167),T=i(b),E=n(22),S=i(E),w=n(11),O=r(w),C=function(e,t){var n=new g.default.WebVTT.Parser(g.default,g.default.vttjs,g.default.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(g.default.console&&g.default.console.groupCollapsed&&g.default.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return h.default.error(e)}),g.default.console&&g.default.console.groupEnd&&g.default.console.groupEnd()),n.flush()},P=function(e,t){var n={uri:e},r=(0,_.isCrossOrigin)(e);r&&(n.cors=r),(0,T.default)(n,f.bind(this,function(e,n,r){if(e)return h.default.error(e,n);if(t.loaded_=!0,"function"!=typeof g.default.WebVTT){if(t.tech_){var i=function(){return C(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else C(r,t)}))},I=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!i.tech)throw new Error("A tech was not provided.");var s=(0,S.default)(i,{kind:d.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=d.TextTrackMode[s.mode]||"disabled",c=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(u="hidden");var p=n=a(this,e.call(this,s));if(p.tech_=s.tech,O.IS_IE8)for(var h in t.prototype)"constructor"!==h&&(p[h]=t.prototype[h]);p.cues_=[],p.activeCues_=[];var y=new l.default(p.cues_),g=new l.default(p.activeCues_),v=!1,m=f.bind(p,function(){this.activeCues,v&&(this.trigger("cuechange"),v=!1)});return"disabled"!==u&&p.tech_.ready(function(){p.tech_.on("timeupdate",m)},!0),Object.defineProperty(p,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(p,"mode",{get:function(){return u},set:function(e){var t=this;d.TextTrackMode[e]&&(u=e,"showing"===u&&this.tech_.ready(function(){t.tech_.on("timeupdate",m)},!0),this.trigger("modechange"))}}),Object.defineProperty(p,"cues",{get:function(){return this.loaded_?y:null},set:function(){}}),Object.defineProperty(p,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(v=!1,t.length!==this.activeCues_.length)v=!0;else for(var o=0;o<t.length;o++)this.activeCues_.indexOf(t[o])===-1&&(v=!0);return this.activeCues_=t,g.setCues_(this.activeCues_),g},set:function(){}}),s.src?(p.src=s.src,P(s.src,p)):p.loaded_=!0,r=p,a(n,r)}return s(t,e),t.prototype.addCue=function(e){var t=e;if(g.default.vttjs&&!(e instanceof g.default.vttjs.VTTCue)){t=new g.default.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id}var r=this.tech_.textTracks();if(r)for(var i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(m.default);I.prototype.allowedEvents_={cuechange:"cuechange"},t.default=I},function(e,t,n){"use strict";t.__esModule=!0;t.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},t.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},t.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},t.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(62),l=i(u),c=n(11),f=r(c),d=n(9),p=i(d),h=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t);var s=a(this,e.call(this));if(!i&&(i=s,f.IS_IE8)){i=p.default.createElement("custom");for(var u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var l=0;l<r.length;l++)i.addTrack_(r[l]);return n=i,a(s,n)}return s(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l.default);h.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var y in h.prototype.allowedEvents_)h.prototype["on"+y]=null;t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(11),l=i(u),c=n(9),f=r(c),d=n(34),p=i(d),h=n(62),y=r(h),g=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var i=a(this,e.call(this)),s=i;if(l.IS_IE8){s=f.default.createElement("custom");for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u])}var c={id:r.id||"vjs_track_"+p.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""},d=function(e){Object.defineProperty(s,e,{get:function(){return c[e]},set:function(){}})};for(var h in c)d(h);return n=s,a(i,n)}return s(t,e),t}(y.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e||!t)return"";if("function"==typeof a.default.getComputedStyle){var n=a.default.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}t.__esModule=!0,t.default=i;var o=n(4),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(2),s=r(a),u=function(e){Object.defineProperties(e.frame,{id:{get:function(){return s.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return s.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return s.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},l=function(e){var t=void 0;return t=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},c=function(e,t,n){var r=o.default.WebKitDataCue||o.default.VTTCue;t&&t.forEach(function(e){this.inbandTextTrack_.addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n&&!function(){var t=l(e.mediaSource_.duration);n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,u(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&!function(){for(var n=e.metadataTrack_.cues,r=[],i=0;i<n.length;i++)n[i]&&r.push(n[i]);var o=r.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),a=Object.keys(o).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,n){var r=o[e],i=Number(a[n+1])||t;r.forEach(function(e){e.endTime=i})})}()}()};t.default={addTextTrackData:c,durationOfVideo:l},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){for(var r=e.remoteTextTracks()||[],i=0;i<r.length;i++){var o=r[i];o.kind===t&&o.label===n&&e.removeRemoteTextTrack(o)}};t.removeExistingTrack=r;var i=function(e){r(e,"captions","cc1"),r(e,"metadata","Timed Metadata")};t.cleanupTextTracks=i},function(e,t){function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var r=arguments[2],i=r.m,o=r.s||"0",a=arguments[0].id||arguments[0].i,s=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.oe=function(e){throw e},t.p="";var r=t(t.s=entryModule);return r.default||r};e.exports=function(e,t){for(var u,l=[],c=[o],f=Object.keys(i),d=0,p=f.length;d<p;d++){var h=f[d];if(i[h]){var y=i[h].toString();l[h]=y;var g=y.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(g){var v=g[1],m=y.match(new RegExp(n(v)+"\\((/\\*.*?\\*/)?\\s*"+n(a)+"\\s*\\)","g"));if(m)for(var _,b=new RegExp(n(v)+"\\((/\\*.*?\\*/)?\\s*(\\d+)\\s*\\)","g");_=b.exec(y);)_[2]!=""+a&&c.push(_[2])}}}var T=e.toString().replace(/"use strict";\n\n/,""),E=T.replace(/^function\s?\((.*)\)(\s?)\{(\n"use strict";\n)?/,"function($1)$2{"),S=T.replace(/^function\s?\((.*)\)(\s?)\{(\n"use strict";\n)?/,"function ($1)$2{"),u=c.find(function(t){var n=i[t].toString();if(n.indexOf(E)>-1||n.indexOf(S)>-1){var o=r(t);return(!o||o!==e&&o.default!==e)&&(l[t]=n.substring(0,n.length-1)+"\n"+T.match(/function\s?(.+?)\s?\(.*/)[1]+"();\n}"),!0}return!1});if("undefined"==typeof u)throw new Error("webworkify-webpack: Could not locate module containing worker function! Make sure you aren't using eval sourcemaps and that you pass named functions to webworkify-webpack!");var w="var fn = ("+s.toString().replace("entryModule",u)+")(["+l.join(",")+']);\n(typeof fn === "function") && fn(self);',O=new Blob([w],{type:"text/javascript"});if(t&&t.bare)return O;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,P=C.createObjectURL(O),I=new Worker(P);return I.objectURL=P,I}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(172),l=r(u),c=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,l.default),this.jobs=[],this.delay=1,this.timeout_=null}return o(t,e),a(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(l.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(171),o=n(99),a=r(o);t.default={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:a.default},e.exports=t.default},function(e,t,n){"use strict";var r=function(e){e.style.display="none"},i=function(e){e.style.display="block"},o=function(e,t){return!t||t.length<=0?(e.innerText="",void r(e)):(e.innerText=t,void i(e))};e.exports={hide:r,show:i,setText:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=c.default.getComponent("ClickableComponent"),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"setItem",value:function(e){var t=e.action,n=e.source;this.source=n;var r=n.info();this.setTitle(r.title||n.publicId()),this.setPoster(this.source.poster().url({transformation:{aspect_ratio:"16:9",crop:"pad",background:"black"}})),this.setAction(t)}},{key:"setTitle",value:function(e){this.title.innerText=e}},{key:"setAction",value:function(e){this.action=e}},{key:"handleClick",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.player().trigger("recommendationshide"),this.action()}}]),t}(f);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeEventsParam=void 0;var s=n(317),u=r(s),l=n(51),c=n(2),f=r(c),d=n(13),p=r(d),h={percentsplayed:{percents:[25,50,75,100]}},y=["percentsplayed","pausenoseek","seek","mute","unmute"],g={events:y},v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.player=e,n=f.default.mergeOptions(g,n);var a={lastState:void 0},s=0,u=0,l=!1,c=[],d=[],p=null,y=function(e){r.player.muted()&&"muted"!==a.lastState?(a.lastState="muted",r.emit("mute",e)):r.player.muted()||"unmuted"===a.lastState||(a.lastState="unmuted",r.emit("unmute",e))},v=function(e){var t=r.player.currentTime(),n=r.player.duration(),i=function(t,n){n.originalType="timeupdate",r.emit(t,e,n)};if(r.events.percentsplayed&&r.events.percentsplayed.percents.forEach(function(e){_(t,n,e)&&!c.includes(e)&&(c.push(e),i("percentsplayed",{percent:e}))}),r.events.timeplayed){var o=r.events.timeplayed,a=o.interval?[Math.floor(t/o.interval)*o.interval]:o.times;a.forEach(function(e){b(t,e)&&!d.includes(e)&&(d.push(e),i("timeplayed",{time:e}))})}r.events.seek&&(s=u,u=t,Math.abs(s-u)>1&&(l=!0,i("seek",{seekStart:s,seekEnd:u})))},T=function(e){var t=Math.round(r.player.currentTime()),n=Math.round(r.player.duration());t===n||l||r.emit("pausenoseek",e)},E=function(){l=!1},S=function(){r.player.currentSource().src!==p&&(O(),p=r.player.currentSource().src)},w=function(){a={lastState:void 0},s=u=0,l=!1,O()},O=function(){c=[],d=[]};return r.events=m(n.events,h),w(),(r.events.percentsplayed||r.events.timeplayed||r.events.seek||r.events.totaltimeplayed)&&r.player.on("timeupdate",v.bind(r)),(r.events.mute||r.events.unmute)&&r.player.on("volumechange",y.bind(r)),r.events.pausenoseek&&(r.player.on("pause",T.bind(r)),r.player.on("play",E.bind(r))),r.player.on("loadedmetadata",S.bind(r)),r}return a(t,e),t}(u.default),m=function(e,t){var n=e;return"Array"===e.constructor.name&&(n=e.reduce(function(e,n){var r=t[n]||{};return(0,l.isPlainObject)(n)?e[n.type]=(0,p.default)({},r,n):e[n]=r,e},{})),n},_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=t*n/100;return b(e,i,r)},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return e<=t+n&&e>=t-n};t.normalizeEventsParam=m,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=l.default.getComponent("ClickableComponent"),f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=n.type;if(!a&&"previous"!==a&&"next"!==a)throw new Error("Type must be either 'previous' or 'next'");return r}return a(t,e),s(t,[{key:"createEl",value:function(){var e=this.options_.type,t="vjs-icon-play-"+e;return l.default.createEl("button",{className:"vjs-control vjs-playlist-button vjs-button "+t})}}]),t}(c);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(36),s=r(a),u=n(50),l=n(19),c=n(68),f=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var o=(0,u.normalizeOptions)(t,r);t=o.publicId,r=o.options;var a=null,f=null,d=null,p=null;this.publicId=function(e){return e?(a=e,n):a},this.cloudinaryConfig=function(e){return e?(f=(0,c.getCloudinaryInstanceOf)(s.default.Cloudinary,e),n):f},this.resourceConfig=function(e){return e?(p=e,n):p},this.transformation=function(e){return e?(d=(0,c.getCloudinaryInstanceOf)(s.default.Transformation,e),n):d};var h=(0,l.sliceAndUnsetProperties)(r,"cloudinaryConfig"),y=h.cloudinaryConfig;if(!y)throw new Error("Source is missing 'cloudinaryConfig'.");this.cloudinaryConfig(y);var g=(0,l.sliceAndUnsetProperties)(r,"transformation"),v=g.transformation;this.transformation(v),this.resourceConfig(r),this.publicId(t)}return o(e,[{key:"config",value:function(){var e=new s.default.Cloudinary(this.cloudinaryConfig().config());return e.config(this.resourceConfig()),e}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.transformation;return this.config().url(this.publicId(),{transformation:t||this.transformation()})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e=u(e);var t=O[e];return t||(t="video/"+e),t}function u(e){e=e.toLowerCase();var t=C[e];return t||(t=e),t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(105),f=r(c),d=n(196),p=r(d),h=n(50),y=n(19),g=n(13),v=r(g),m={format:"jpg",resource_type:"video"},_=["webm","mp4","ogv"],b={resource_type:"video",type:"upload",transformation:[],sourceTransformation:{},sourceTypes:_,recommendations:null,info:{}},T=RegExp(".("+_.join("|")+")$$"),E=0,S=function(){return E++},w=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=(0,h.normalizeOptions)(e,n);e=r.publicId,n=r.options,e=e.replace(T,""),n=(0,v.default)({},b,n),n.poster||(n.poster=(0,v.default)({publicId:e},m));var a=(0,y.sliceAndUnsetProperties)(n,"poster","sourceTypes","sourceTransformation","info","recommendations"),s=a.poster,u=a.sourceTypes,l=a.sourceTransformation,c=a.info,f=a.recommendations,d=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),g=null,_=null,E=null,w=null,O=null;return d.poster=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return g;if(e instanceof p.default)return g=e,d;var n=(0,h.normalizeOptions)(e,t,{tolerateMissingId:!0});return e=n.publicId,t=n.options,e||(e=d.publicId(),t=(0,v.default)({},t,m)),t.cloudinaryConfig=t.cloudinaryConfig||d.cloudinaryConfig(),g=new p.default(e,t),d},d.sourceTypes=function(e){return e?(_=e,d):_},d.sourceTransformation=function(e){return e?(E=e,d):E},d.info=function(e){return e?(w=e,d):w},d.recommendations=function(e){return void 0===e?O:(O=e,d)},d.poster(s),d.sourceTypes(u),d.sourceTransformation(l),d.info(c),d.recommendations(f),d.objectId=S(),d}return a(t,e),l(t,[{key:"contains",value:function(e){var t=this.generateSources();return t.some(function(t){return(0,h.compareSources)(t,e)})}},{key:"generateSources",value:function(){var e=this;return this.sourceTypes().map(function(t){var n=e.sourceTransformation()[t]||e.transformation(),r=u(t),i={};n&&(i.transformation=n),(0,v.default)(i,{resource_type:"video",format:r});var o=e.config().url(e.publicId(),i),a=s(t);return{type:a,src:o}})}}]),t}(f.default),O={ogv:"video/ogg",mpd:"application/dash+xml",m3u8:"application/x-mpegURL"},C={hls:"m3u8",dash:"mpd"};t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.order,i=void 0===r?null:r,o=t,s=function(n){var r=t[n];void 0!==r&&e[n]&&"function"==typeof e[n]&&e[n](r)};i&&(o=(0,a.default)({},t),i.forEach(function(e){s(e),delete o[e]})),Object.keys(o).forEach(function(e){s(e)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=i},function(e,t,n){"use strict";function r(e,t){return Array.prototype.find?e.find(t):o(e,t)[0]}function i(e,t){return Array.prototype.findIndex?e.findIndex(t):o(e,t)[1]}function o(e,t){for(var n=0;n<length;n++){var r=e[n];if(t.call(r,n,e))return[r,n]}return[void 0,-1]}Object.defineProperty(t,"__esModule",{value:!0}),t.find=r,t.findIndex=i,t.findElementAndIndex=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){return e.reduce(function(e,n,r){return r=t(n),Object.prototype.hasOwnProperty.call(e,r)?e[r].push(n):e[r]=[n],e},{})}var a=n(36),s=n(19),u=i(s),l=n(70),c=i(l),f=n(112),d=i(f),p=n(68),h=i(p),y=n(107),g=r(y),v=n(203),m=r(v),_=n(110),b=r(_),T=n(13),E=r(T),S=(0,E.default)({},a.Util,u,d,c,h,{autobind:m.default,mixin:b.default,applyWithProps:g.default,groupBy:o});e.exports=S},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},function e(){r(this,e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(){var e=this.contentDocument.defaultView;e.__id="id_"+Math.round(1e4*Math.random()),u[e.__id]=this.__resizeElement__,e.addEventListener("resize",f)}var i=navigator.userAgent.match(/Trident/),o=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),a=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),s=function(e,t){if(!e.__resizeListeners__){e.__resizeListeners__=[],"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=e.__resizeTrigger__=document.createElement("object");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.__resizeElement__=e,n.onload=r.bind(n),n.type="text/html",i&&e.appendChild(n),n.data="about:blank",i||e.appendChild(n)}e.__resizeListeners__.push(t)},u={},l=function(e,t){e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",f),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__))},c={},f=function(e){var t=e.target||e.srcElement;c[t.__id]&&a(c[t]),c[t]=o(function(){var n=u[t.__id];n.__resizeListeners__.forEach(function(t){t.call(n,e)})})};e.exports={addResizeListener:s,removeResizeListener:l}},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function i(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}function o(e){var t=e;try{t=JSON.parse(t)}catch(e){}return t?t:(t=Number(t),t?t:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=r,t.camelize=i,t.coerce=o},function(e,t,n){var r={};r.parseBuffer=function(e){return new i(e).parse()},r.addBoxParser=function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxParsers[e]=t)},r.Utils={},r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},t.parseBuffer=r.parseBuffer,t.addBoxParser=r.addBoxParser,t.Utils=r.Utils,r.Cursor=function(e){this.offset="undefined"==typeof e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){
for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);t=(n<<8)+r;break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){var t=this._readUint(e/2),n=this._readUint(e/2);return t+n/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},o.prototype._boxParsers.avc1=function(){this.version=this._readUint(16),this.revision_level=this._readUint(16),this.vendor=this._readUint(32),this.temporal_quality=this._readUint(32),this.spatial_quality=this._readUint(32),this.width=this._readUint(16),this.height=this._readUint(16),this.horizontal_resolution=this._readUint(32),this.vertical_resolution=this._readUint(32),this.data_size=this._readUint(32),this.frame_count=this._readUint(16),this.compressor_name=this._readUint(32),this.depth=this._readUint(16),this.color_table_id=this._readUint(16)},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode((e>>10&31)+96,(e>>5&31)+96,(31&e)+96),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mehd=function(){this._parseFullBox(),1==this.version?this.fragment_duration=this._readUint(64):this.fragment_duration=this._readUint(32)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mfro=function(){this._parseFullBox(),this.mfra_size=this._readUint(32)},o.prototype._boxParsers.mp4a=function(){this.reserved1=[this._readUint(32),this._readUint(32)],this.channelcount=this._readUint(16),this.samplesize=this._readUint(16),this.pre_defined=this._readUint(16),this.reserved2=this._readUint(16),this.sample_rate=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.stsd=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++)this.entries.push(o.parse(this))},o.prototype._boxParsers.subs=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.samples_with_subsamples=[];for(var e=0,t=0;t<this.entry_count;t++){var n=this._readUint(32);e+=n;var r=this._readUint(16);if(r>0){for(var i={nr:e,subsamples:[]},o=0;o<r;o++){var a={};1&this.version?a.size=this._readUint(32):a.size=this._readUint(16),a.priority=this._readUint(8),a.discardable=this._readUint(8),a.codec_specific_parameters=this._readUint(32),i.subsamples.push(a)}this.samples_with_subsamples.push(i)}}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tfra=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this._packed=this._readUint(32),this.reserved=this._packed>>>6,this.length_size_of_traf_num=(this._packed&&0xffff00000000)>>>4,this.length_size_of_trun_num=(this._packed&&4294901760)>>>2,this.length_size_of_sample_num=this._packed&&255,this.number_of_entry=this._readUint(32),this.entries=[];for(var e=0;e<this.number_of_entry;e++){var t={};1==this.version?(t.time=this._readUint(64),t.moof_offset=this._readUint(64)):(t.time=this._readUint(32),t.moof_offset=this._readUint(32)),t.traf_number=this._readUint(8*(this.length_size_of_traf_num+1)),t.trun_number=this._readUint(8*(this.length_size_of_trun_num+1)),t.sample_number=this._readUint(8*(this.length_size_of_sample_num+1)),this.entries.push(t)}},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trex=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this.default_sample_description_index=this._readUint(32),this.default_sample_duration=this._readUint(32),this.default_sample_size=this._readUint(32),this.default_sample_flags=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var p=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new d(t,n,r,i,o)};p.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var h=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new p);this.pos=0,this.currPenState=new d};h.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);return this.pos>=i?void c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}};var y=function(){this.rows=[];for(var e=0;e<r;e++)this.rows.push(new h);this.currRow=r-1,this.nrRollUpRows=null,this.reset()};y.prototype={reset:function(){for(var e=0;e<r;e++)this.rows[e].clear();this.currRow=r-1},equals:function(e){for(var t=!0,n=0;n<r;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<r;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<r;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){var e=this.rows[this.currRow];e.backSpace()},clearToEndOfRow:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()},insertChar:function(e){var t=this.rows[this.currRow];t.insertChar(e)},setPen:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)},moveCursor:function(e){var t=this.rows[this.currRow];t.moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null===this.nrRollUpRows)return void c.log("DEBUG","roll_up but nrRollUpRows not set yet");c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,o=0;o<r;o++){var a=this.rows[o].getTextString();a&&(i=o+1,e?t.push("Row "+i+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var g=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};g.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var v=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new g(1,t),new g(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};v.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(c.log("DATA","["+f([t[a],t[a+1]])+"] -> ("+f([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else c.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,i])+" orig: "+f([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null,r=(20===e||28===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if(n=17===e?1:2,n!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.cc_MIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),!0}return!1},parsePAC:function(e,t){var n=null,r=null,i=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,l=(16===e||24===e)&&64<=t&&t<=95;if(!i&&!l)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?o[e]:s[e]:1===n?a[e]:u[e];var c=this.interpretPAC(r,t),f=this.channels[n-1];return f.setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,c.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=f(i);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var n,r,i,o,a=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!a&&!s)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=l[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var m=function(e,t,n){for(var r=0,i=t,o=0,a=[],s=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),o=31&e.getUint8(i+4),6===o)for(var u=i+5,l=-1;u<i+4+r-1;){l=0;for(var c=255;255===c;)c=e.getUint8(u),l+=c,u++;var f=0;for(c=255;255===c;)c=e.getUint8(u),f+=c,u++;s(l,f,e,u)&&a.push([u,f]),u+=f}i+=r+4}return a},_=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,u=3&a;n++;var l=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&l)+(127&c)!==0&&(0===u?(r[0].push(l),r[0].push(c)):1===u&&(r[1].push(l),r[1].push(c)))}return r};e.logger=c,e.PenState=d,e.CaptionScreen=y,e.Cea608Parser=v,e.findCea608Nalus=m,e.extractCea608DataFromRange=_}(t)},function(e,t,n){"use strict";function r(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionString=r;var i="2.4.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="TcpList";t.TCP_CONNECTION=r;var i="HttpList";t.HTTP_REQUEST=i;var o="RepSwitchList";t.TRACK_SWITCH=o;var a="BufferLevel";t.BUFFER_LEVEL=a;var s="BufferState";t.BUFFER_STATE=s;var u="DVRInfo";t.DVR_INFO=u;var l="DroppedFrames";t.DROPPED_FRAMES=l;var c="SchedulingInfo";t.SCHEDULING_INFO=c;var f="RequestsQueue";t.REQUESTS_QUEUE=f;var d="ManifestUpdate";t.MANIFEST_UPDATE=d;var p="ManifestUpdatePeriodInfo";t.MANIFEST_UPDATE_STREAM_INFO=p;var h="ManifestUpdateRepresentationInfo";t.MANIFEST_UPDATE_TRACK_INFO=h;var y="PlayList";t.PLAY_LIST=y;var g="DVBErrors";t.DVB_ERRORS=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(212),s=r(a),u=function(){function e(t,n,r,o,a){var u=this;i(this,e),this._name=t||"",this._properties=[],this._children=r||[],this._isRoot=o||!1,this._isArray=a||!0,Array.isArray(n)&&n.forEach(function(e){u._properties.push(new s.default(e))})}return o(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=1,o=1,a=function e(t,n,a,s){r(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=a||i,this.dvb_weight=s||o};a.DEFAULT_DVB_PRIORITY=i,a.DEFAULT_DVB_WEIGHT=o,t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){on=!1,an=!1,sn=!0,cn=null,rn=null,dn=null,ne.default.extend(ie.default),hn=(0,D.default)($t).getInstance()}function t(e,t,n){return gn=(0,b.default)($t).getInstance(),yn=(0,m.default)($t).getInstance(),gn.supportsMediaSource()?void(on||(on=!0,un=(0,F.default)($t).getInstance(),_n=(0,u.default)($t).getInstance(),ln=(0,d.default)($t).getInstance(),ln.initialize(),Tn=(0,pe.default)($t).getInstance(),bn=(0,ye.default)($t).getInstance(),pn=(0,j.default)($t).getInstance(),pn.setConfig({adapter:Bt()}),at(),me(void 0===n||n),e&&Mt(e),t&&Dt(t),en("[dash.js "+G()+"] MediaPlayer has been initialized"))):void yn.capabilityError("mediasource")}function n(){return!!En&&!!nn}function r(){if(!an)throw Yt;(!sn||o()&&an)&&_n.play()}function i(){if(!an)throw Yt;_n.pause()}function o(){if(!an)throw Yt;return _n.isPaused();
}function s(){if(!an)throw Yt;return _n.isSeeking()}function l(){if(!an)throw Yt;return _n.getIsDynamic()}function f(e){if(!En)throw Wt;At().muted=e}function p(){if(!En)throw Wt;return At().muted}function y(e){if(!En)throw Wt;At().volume=e}function v(){if(!En)throw Wt;return At().volume}function _(e){var t=["video","audio","fragmentedText"];if(e){if(t.indexOf(e)!==-1){var n=Ee().getCurrentBufferLevel(Se(e));return n?n:NaN}return en("Warning  - getBufferLength requested for invalid type"),NaN}return t.map(function(e){return Ue(e).length>0?Ee().getCurrentBufferLevel(Se(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}function T(){var e=qt();return e?e.manifestInfo.DVRWindowSize:0}function S(e){var t=qt();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function O(e){if(!an)throw Yt;var t=_n.getIsDynamic()?S(e):e;_n.seek(t)}function P(e){if(!an)throw Yt;var t=At().currentTime;if(void 0!==e)t=vn.getTimeRelativeToStreamId(t,e);else if(_n.getIsDynamic()){var n=qt();t=null===n?0:A()-(n.range.end-n.time)}return t}function A(){if(!an)throw Yt;var e=At().duration;if(_n.getIsDynamic()){var t,n=qt();if(!n)return 0;t=n.range.end-n.range.start,e=t<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function k(){if(!an)throw Yt;return P()<0?NaN:zt(P())}function R(){if(!an)throw Yt;return zt(A())}function L(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),o=i.toLocaleDateString(t),a=i.toLocaleTimeString(t,{hour12:n});return r?a+" "+o:a}function N(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function U(e,t,n){ae.default.extend(e,t,n,$t)}function H(e,t,n){Jt.on(e,t,n)}function q(e,t,n){Jt.off(e,t,n)}function G(){return(0,se.getVersionString)()}function Y(){return Zt}function X(){if(!En)throw Wt;return En}function $(e){hn.setLiveDelayFragmentCount(e)}function Z(e){hn.setLiveDelay(e)}function te(){return hn.getLiveDelay()}function re(e){hn.setUseSuggestedPresentationDelay(e)}function oe(e,t){hn.setLastBitrateCachingInfo(e,t)}function ue(e,t){hn.setLastMediaSettingsCachingInfo(e,t)}function ce(e,t){un.setMaxAllowedBitrateFor(e,t)}function de(e){return un.getMaxAllowedBitrateFor(e)}function he(e,t){un.setMaxAllowedRepresentationRatioFor(e,t)}function ge(e){return un.getMaxAllowedRepresentationRatioFor(e)}function me(e){sn=e}function _e(){return sn}function be(e){hn.setScheduleWhilePaused(e)}function Te(){return hn.getScheduleWhilePaused()}function Ee(){return bn}function Se(e){return pn.getReadOnlyMetricsFor(e)}function we(e){if(!an)throw Yt;return un.getQualityFor(e,vn.getActiveStreamInfo())}function Oe(e,t){if(!an)throw Yt;un.setPlaybackQuality(e,vn.getActiveStreamInfo(),t)}function Ce(){un.setElementSize(),un.setWindowResizeEventCalled(!0)}function Pe(){return un.getLimitBitrateByPortal()}function Ie(e){un.setLimitBitrateByPortal(e)}function Ae(){return un.getUsePixelRatioInLimitBitrateByPortal()}function Me(e){un.setUsePixelRatioInLimitBitrateByPortal(e)}function ke(e){if(!an)throw Yt;void 0===Sn&&(Sn=(0,I.default)($t).getInstance());for(var t=At().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],o=e===r?"showing":"hidden";i.mode!==o&&(i.mode=o)}Sn.setTextTrack()}function xe(){var e=NaN;return Sn&&(e=Sn.getCurrentTrackIdx()),e}function Re(e){if(!an)throw Yt;var t=Gt();return t?t.getBitrateListFor(e):[]}function De(e,t){un.setInitialBitrateFor(e,t)}function Le(e){if(!an)throw Yt;return un.getInitialBitrateFor(e)}function je(e,t){un.setInitialRepresentationRatioFor(e,t)}function Ne(e){return un.getInitialRepresentationRatioFor(e)}function Fe(e){if(!an)throw Yt;return dn.getStreamsInfo(e)}function Ue(e){if(!an)throw Yt;var t=vn.getActiveStreamInfo();return t?ln.getTracksFor(e,t):[]}function Be(e,t,n){if(!an)throw Yt;return n=n||dn.getStreamsInfo(t)[0],n?dn.getAllMediaInfoForType(t,n,e):[]}function He(e){if(!an)throw Yt;var t=vn.getActiveStreamInfo();return t?ln.getCurrentTrackFor(e,t):null}function Ve(e,t){ln.setInitialSettings(e,t)}function qe(e){return ln.getInitialSettings(e)}function ze(e){if(!an)throw Yt;ln.setTrack(e)}function Ge(e){return ln.getSwitchMode(e)}function Ke(e,t){ln.setSwitchMode(e,t)}function Ye(e){ln.setSelectionModeForInitialTrack(e)}function We(){return ln.getSelectionModeForInitialTrack()}function Xe(){return un.getAutoSwitchBitrateFor("video")||un.getAutoSwitchBitrateFor("audio")}function Qe(e){un.setAutoSwitchBitrateFor("video",e),un.setAutoSwitchBitrateFor("audio",e)}function $e(e){return un.getAutoSwitchBitrateFor(e)}function Je(e,t){un.setAutoSwitchBitrateFor(e,t)}function Ze(e){hn.setFastSwitchEnabled(e)}function et(){return hn.getFastSwitchEnabled()}function tt(e){hn.setBufferOccupancyABREnabled(e)}function nt(e,t){var n=Ft(),r=this,i=function e(i){i.error?t(null,i.error):t(i.manifest),Jt.off(ne.default.INTERNAL_MANIFEST_LOADED,e,r),n.reset()};Jt.on(ne.default.INTERNAL_MANIFEST_LOADED,i,r);var o=(0,M.default)($t).getInstance();o.initialize(),n.load(o.parseURI(e))}function rt(e,t){it(e,t);var n=new a.default;n.schemeIdUri=e,n.value=t,hn.getUTCTimingSources().push(n)}function it(e,t){var n=hn.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function ot(){hn.setUTCTimingSources([])}function at(){rt(D.default.DEFAULT_UTC_TIMING_SOURCE.scheme,D.default.DEFAULT_UTC_TIMING_SOURCE.value)}function st(e){hn.setUseManifestDateHeaderTimeSource(e)}function ut(e){hn.setBufferToKeep(e)}function lt(e){hn.setBufferPruningInterval(e)}function ct(e){hn.setStableBufferTime(e)}function ft(e){hn.setBufferTimeAtTopQuality(e)}function dt(e){hn.setBufferTimeAtTopQualityLongForm(e)}function pt(e){hn.setLongFormContentDurationThreshold(e)}function ht(e){hn.setRichBufferThreshold(e)}function yt(e){hn.setBandwidthSafetyFactor(e)}function gt(){return hn.getBandwidthSafetyFactor()}function vt(e){hn.setAbandonLoadTimeout(e)}function mt(e){hn.setFragmentRetryAttempts(e)}function _t(e){hn.setFragmentRetryInterval(e)}function bt(e){Tt(void 0,e)}function Tt(e,t){hn.setXHRWithCredentialsForType(e,t)}function Et(e){return hn.getXHRWithCredentialsForType(e)}function St(){return Ht()}function wt(e){cn=e}function Ot(e){rn=e}function Ct(e){var t=(0,E.default)($t).getInstance();t.setConfig({videoModel:En}),t.initialize(),t.displayCConTop(e)}function Pt(){return En?En.getVideoContainer():null}function It(e){if(!En)throw Wt;En.setVideoContainer(e)}function At(){if(!En)throw Wt;return En.getElement()}function Mt(e){if(!on)throw Qt;En=null,e&&(En=(0,z.default)($t).getInstance(),En.initialize(),En.setElement(e),Ht(),Vt()),jt()}function kt(){return En?En.getTTMLRenderingDiv():null}function xt(e){if(!En)throw Wt;En.setTTMLRenderingDiv(e)}function Rt(){if(!nn)throw Xt;return nn}function Dt(e){if(!on)throw Qt;if("string"==typeof e){var t=(0,M.default)($t).getInstance();t.initialize(),nn=t.parseURI(e)}else nn=e;jt()}function Lt(){Dt(null),Mt(null),rn=null,cn=null}function jt(){an?(an=!1,dn.reset(),vn.reset(),_n.reset(),un.reset(),mn.reset(),ln.reset(),vn=null,fn=null,n()&&Kt()):n()&&Kt()}function Nt(){var e=(0,V.default)($t).getInstance();e.initialize();var t=(0,w.default)($t).getInstance();t.setConfig({dashManifestModel:Tn}),ln.initialize(),ln.setConfig({errHandler:yn}),mn=(0,K.default)($t).getInstance(),mn.initialize(),mn.setConfig({abrRulesCollection:e}),vn=(0,c.default)($t).getInstance(),vn.setConfig({capabilities:gn,manifestLoader:Ft(),manifestModel:(0,x.default)($t).getInstance(),dashManifestModel:Tn,protectionController:cn,adapter:dn,metricsModel:pn,dashMetrics:bn,liveEdgeFinder:(0,g.default)($t).getInstance(),mediaSourceController:(0,W.default)($t).getInstance(),timeSyncController:(0,B.default)($t).getInstance(),baseURLController:(0,Q.default)($t).getInstance(),errHandler:yn,timelineConverter:(0,ve.default)($t).getInstance()}),vn.initialize(sn,rn),un.setConfig({abrRulesCollection:e,rulesController:mn,streamController:vn})}function Ft(){return(0,h.default)($t).create({errHandler:yn,parser:Ut(),metricsModel:pn,requestModifier:(0,C.default)($t).getInstance()})}function Ut(){return(0,fe.default)($t).create()}function Bt(){return dn=(0,le.default)($t).getInstance(),dn.initialize(),dn.setConfig({dashManifestModel:Tn}),dn}function Ht(){if(cn)return cn;var e=dashjs.Protection;if("function"==typeof e){var t=e($t).create();return ne.default.extend(e.events),ie.default.extend(e.events,{publicOnly:!0}),cn=t.createProtectionSystem({log:en,videoModel:En,capabilities:gn,eventBus:Jt,adapter:dn})}return null}function Vt(){if(fn)return fn;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e($t).create();return fn=t.createMetricsReporting({log:en,eventBus:Jt,mediaElement:At(),dashManifestModel:Tn,metricsModel:pn})}return null}function qt(){var e=pn.getReadOnlyMetricsFor("video")||pn.getReadOnlyMetricsFor("audio");return bn.getCurrentDVRInfo(e)}function zt(e){var t,n,r=qt();return r?(t=r.manifestInfo.availableFrom.getTime()/1e3,n=e+(t+r.range.start)):0}function Gt(){if(!an)throw Yt;var e=vn.getActiveStreamInfo();return e?vn.getStreamById(e.id):null}function Kt(){an||(an=!0,en("Playback Initialized"),Nt(),"string"==typeof nn?vn.load(nn):vn.loadWithManifest(nn))}var Yt="You must first call play() to init playback before calling this method",Wt="You must first call attachView() to set the video element before calling this method",Xt="You must first call attachSource() with a valid source before calling this method",Qt="MediaPlayer not initialized!",$t=this.context,Jt=(0,ee.default)($t).getInstance(),Zt=(0,J.default)($t).getInstance(),en=Zt.log,tn=void 0,nn=void 0,rn=void 0,on=void 0,an=void 0,sn=void 0,un=void 0,ln=void 0,cn=void 0,fn=void 0,dn=void 0,pn=void 0,hn=void 0,yn=void 0,gn=void 0,vn=void 0,mn=void 0,_n=void 0,bn=void 0,Tn=void 0,En=void 0,Sn=void 0;return tn={initialize:t,on:H,off:q,extend:U,attachView:Mt,attachSource:Dt,isReady:n,play:r,isPaused:o,pause:i,isSeeking:s,isDynamic:l,seek:O,setMute:f,isMuted:p,setVolume:y,getVolume:v,time:P,duration:A,timeAsUTC:k,durationAsUTC:R,getActiveStream:Gt,getDVRWindowSize:T,getDVRSeekOffset:S,convertToTimeCode:N,formatUTC:L,getVersion:G,getDebug:Y,getBufferLength:_,getVideoModel:X,getVideoContainer:Pt,getTTMLRenderingDiv:kt,getVideoElement:At,getSource:Rt,setLiveDelayFragmentCount:$,setLiveDelay:Z,getLiveDelay:te,useSuggestedPresentationDelay:re,enableLastBitrateCaching:oe,enableLastMediaSettingsCaching:ue,setMaxAllowedBitrateFor:ce,getMaxAllowedBitrateFor:de,setMaxAllowedRepresentationRatioFor:he,getMaxAllowedRepresentationRatioFor:ge,setAutoPlay:me,getAutoPlay:_e,setScheduleWhilePaused:be,getScheduleWhilePaused:Te,getDashMetrics:Ee,getMetricsFor:Se,getQualityFor:we,setQualityFor:Oe,updatePortalSize:Ce,getLimitBitrateByPortal:Pe,setLimitBitrateByPortal:Ie,getUsePixelRatioInLimitBitrateByPortal:Ae,setUsePixelRatioInLimitBitrateByPortal:Me,setTextTrack:ke,getBitrateInfoListFor:Re,setInitialBitrateFor:De,getInitialBitrateFor:Le,setInitialRepresentationRatioFor:je,getInitialRepresentationRatioFor:Ne,getStreamsFromManifest:Fe,getTracksFor:Ue,getTracksForTypeFromManifest:Be,getCurrentTrackFor:He,setInitialMediaSettingsFor:Ve,getInitialMediaSettingsFor:qe,setCurrentTrack:ze,getTrackSwitchModeFor:Ge,setTrackSwitchModeFor:Ke,setSelectionModeForInitialTrack:Ye,getSelectionModeForInitialTrack:We,getAutoSwitchQuality:Xe,setAutoSwitchQuality:Qe,setFastSwitchEnabled:Ze,getFastSwitchEnabled:et,getAutoSwitchQualityFor:$e,setAutoSwitchQualityFor:Je,enableBufferOccupancyABR:tt,setBandwidthSafetyFactor:yt,getBandwidthSafetyFactor:gt,setAbandonLoadTimeout:vt,retrieveManifest:nt,addUTCTimingSource:rt,removeUTCTimingSource:it,clearDefaultUTCTimingSources:ot,restoreDefaultUTCTimingSources:at,setBufferToKeep:ut,setBufferPruningInterval:lt,setStableBufferTime:ct,setBufferTimeAtTopQuality:ft,setFragmentLoaderRetryAttempts:mt,setFragmentLoaderRetryInterval:_t,setXHRWithCredentials:bt,setXHRWithCredentialsForType:Tt,getXHRWithCredentialsForType:Et,setBufferTimeAtTopQualityLongForm:dt,setLongFormContentDurationThreshold:pt,setRichBufferThreshold:ht,getProtectionController:St,attachProtectionController:wt,setProtectionData:Ot,enableManifestDateHeaderTimeSource:st,displayCaptionsOnTop:Ct,attachVideoContainer:It,attachTTMLRenderingDiv:xt,getCurrentTextTrackIndex:xe,reset:Lt},e(),tn}Object.defineProperty(t,"__esModule",{value:!0});var o=n(120),a=r(o),s=n(20),u=r(s),l=n(40),c=r(l),f=n(29),d=r(f),p=n(229),h=r(p),y=n(86),g=r(y),v=n(24),m=r(v),_=n(290),b=r(_),T=n(77),E=r(T),S=n(55),w=r(S),O=n(60),C=r(O),P=n(30),I=r(P),A=n(78),M=r(A),k=n(58),x=r(k),R=n(10),D=r(R),L=n(21),j=r(L),N=n(28),F=r(N),U=n(242),B=r(U),H=n(130),V=r(H),q=n(32),z=r(q),G=n(129),K=r(G),Y=n(239),W=r(Y),X=n(235),Q=r(X),$=n(6),J=r($),Z=n(5),ee=r(Z),te=n(3),ne=r(te),re=n(38),ie=r(re),oe=n(0),ae=r(oe),se=n(115),ue=n(37),le=r(ue),ce=n(211),fe=r(ce),de=n(27),pe=r(de),he=n(23),ye=r(he),ge=n(74),ve=r(ge);i.__dashjs_factory_name="MediaPlayer";var me=ae.default.getClassFactory(i);me.events=ie.default,t.default=me,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t,n){var r,i=t.match(a);if(i){try{r=l[i[1]](s).create({eventBus:e.eventBus}),r.initialize(i[1],n,i[3],i[5])}catch(e){r=null,o("MetricsHandlerFactory: Could not create handler for type "+i[1]+" with args "+i[3]+", "+i[5]+" ("+e.message+")")}return r}}function n(e,t){l[e]=t}function r(e){delete l[e]}var i=void 0,o=e.log,a=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,s=this.context,l={BufferLevel:u.default,DVBErrors:c.default,HttpList:d.default,PlayList:h.default,RepSwitchList:h.default,TcpList:h.default};return i={create:t,register:n,unregister:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(250),u=r(s),l=n(251),c=r(l),f=n(253),d=r(f),p=n(252),h=r(p);i.__dashjs_factory_name="MetricsHandlerFactory",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n;try{n=i[e.schemeIdUri](o).create(),n.initialize(e,t)}catch(t){n=null,a("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return n}function n(e,t){i[e]=t}function r(e){delete i[e]}var i={"urn:dvb:dash:reporting:2014":u.default},o=this.context,a=e.log,s=void 0;return s={create:t,register:n,unregister:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(254),u=r(s);i.__dashjs_factory_name="ReportingFactory",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="HandlerHelpers",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var n=null,r=(0,u.default)(i).getInstance();r.setConfig({log:e.log}),r.initialize();var o=t(e);return!n&&o&&(n=(0,a.default)(i).create({protectionModel:o,protectionKeyController:r,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),n}function t(e){var t=e.log,r=e.eventBus,o=e.videoModel.getElement();return void 0!==o.onencrypted&&void 0!==o.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(t("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,d.default)(i).create({log:t,eventBus:r})):n(o,b)?(t("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,h.default)(i).create({log:t,eventBus:r,api:n(o,b)})):n(o,_)?(t("EME detected on this user agent! (ProtectionModel_01b)"),(0,g.default)(i).create({log:t,eventBus:r,api:n(o,_)})):(t("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var r=void 0,i=this.context;return r={createProtectionSystem:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(265),a=r(o),s=n(59),u=r(s),l=n(264),c=r(l),f=n(270),d=r(f),p=n(271),h=r(p),y=n(269),g=r(y),v=n(0),m=r(v),_=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],b=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var T=m.default.getClassFactory(i);T.events=c.default,t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){if(r(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return i(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keyID=t,this.key=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return p.mediaInfo.streamInfo}function n(){return p.mediaInfo}function r(){return p}function i(){return y}function o(){return p.mediaInfo.streamInfo.manifestInfo}function a(){return h}function s(){return g}function u(){return v}function l(){return m}function c(){return _}function f(){return b}var d=void 0,p=e.streamProcessor.getCurrentRepresentationInfo(),h=e.streamProcessor,y=e.currentValue,g=e.playbackIndex,v=e.switchHistory,m=e.droppedFramesHistory,_=e.currentRequest,b=e.hasRichBuffer;return d={getCurrentValue:i,getManifestInfo:o,getMediaInfo:n,getPlaybackIndex:s,getDroppedFramesHistory:l,getCurrentRequest:c,getSwitchHistory:u,getStreamInfo:t,getStreamProcessor:a,getTrackInfo:r,hasRichBuffer:f}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="RulesContext",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){l={}}function t(e){e&&e.abrRulesCollection&&(l[p]=e.abrRulesCollection)}function n(e,t,n,r,o,a){var s,l,c={},f={},d=e.length,p=d,h=i(t,r),y=function(e){var t,i,o;if(e.value!==u.default.NO_CHANGE){var s=a(c[e.priority],e.value);s!==c[e.priority]&&(c[e.priority]=s,f[e.priority]=e.reason)}--d||(c[u.default.WEAK]!==u.default.NO_CHANGE&&(o=u.default.WEAK,t=c[u.default.WEAK],i=f[u.default.WEAK]),c[u.default.DEFAULT]!==u.default.NO_CHANGE&&(o=u.default.DEFAULT,t=c[u.default.DEFAULT],i=f[u.default.DEFAULT]),c[u.default.STRONG]!==u.default.NO_CHANGE&&(o=u.default.STRONG,t=c[u.default.STRONG],i=f[u.default.STRONG]),o!=u.default.STRONG&&o!=u.default.WEAK&&(o=u.default.DEFAULT),n(void 0!==t?{value:t,confidence:o,reason:i}:{value:r,confidence:o,reason:{name:"NO_CHANGE"}}))};for(c[u.default.STRONG]=u.default.NO_CHANGE,c[u.default.WEAK]=u.default.NO_CHANGE,c[u.default.DEFAULT]=u.default.NO_CHANGE,l=0;l<p;l++)s=e[l],s.execute(h,y)}function r(){var e,t,n=l[p],r=(n.getRules(c.default.QUALITY_SWITCH_RULES)||[]).concat(n.getRules(c.default.ABANDON_FRAGMENT_RULES)||[]),i=r.length;for(t=0;t<i;t++)e=r[t],"function"==typeof e.reset&&e.reset();l={}}function i(e,t){return(0,a.default)(o).create({streamProcessor:e,currentValue:t})}var o=this.context,s=void 0,l=void 0;return s={initialize:e,setConfig:t,applyRules:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(128),a=r(o),s=n(16),u=r(s),l=n(130),c=r(l),f=n(0),d=r(f),p=0;i.__dashjs_factory_name="RulesController";var h=d.default.getSingletonFactory(i);h.ABR_RULE=p,t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){f=[],p=[];var e=(0,E.default)(s).getInstance(),t=(0,w.default)(s).getInstance(),n=(0,b.default)(s).getInstance();n.getBufferOccupancyABREnabled()?(f.push((0,g.default)(s).create({metricsModel:e,dashMetrics:(0,w.default)(s).getInstance()})),p.push((0,m.default)(s).create({metricsModel:e,dashMetrics:(0,w.default)(s).getInstance()}))):(f.push((0,a.default)(s).create({metricsModel:e,dashMetrics:t})),f.push((0,u.default)(s).create({metricsModel:e})),f.push((0,h.default)(s).create()),f.push((0,d.default)(s).create()),p.push((0,c.default)(s).create()))}function t(e){switch(e){case A:return f;case M:return p;default:return null}}function n(e){return e.filter(function(e){return e.value>I.default.NO_CHANGE})}function r(e){if(0!==e.length)return e.reduce(function(e,t){return e.value<t.value?e:t})}function i(e){var t=f.map(function(t){return t.getMaxIndex(e)}),i=n(t),o=r(i);return o||(0,I.default)(s).create()}function o(e){var t=p.map(function(t){return t.shouldAbandon(e)}),i=n(t),o=r(i);return o||(0,I.default)(s).create()}var s=this.context,l=void 0,f=void 0,p=void 0;return l={initialize:e,getRules:t,getMaxQuality:i,shouldAbandonFragment:o}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(284),a=r(o),s=n(282),u=r(s),l=n(279),c=r(l),f=n(281),d=r(f),p=n(283),h=r(p),y=n(131),g=r(y),v=n(280),m=r(v),_=n(10),b=r(_),T=n(21),E=r(T),S=n(23),w=r(S),O=n(0),C=r(O),P=n(16),I=r(P),A="qualitySwitchRules",M="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var k=C.default.getSingletonFactory(i);k.QUALITY_SWITCH_RULES=A,k.ABANDON_FRAGMENT_RULES=M,t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){B={},H={},V={},q=[],z=(0,c.default)(D).getInstance(),G=(0,d.default)(D).getInstance(),K=(0,y.default)(D).getInstance(),F.on(_.default.BUFFER_EMPTY,g,U),F.on(_.default.PLAYBACK_SEEKING,m,U),F.on(_.default.PERIOD_SWITCH_STARTED,b,U),F.on(_.default.MEDIA_FRAGMENT_LOADED,A,U)}function n(e){return e.map(function(e){return Math.log(e)})}function r(e,t,r,i){var o=NaN;if(i?(o=0,i.forEach(function(e,t){e>i[o]&&(o=t)})):(i=n(r),o=i.length-1),0===o)return null;var a=1-i[0]+(i[o]-i[0])/(t/e-1),s=e/(i[0]+a-1);return{utilities:i,gp:a,Vp:s}}function o(e){var t={},n=e.getMediaInfo(),i=e.getStreamProcessor(),o=e.getStreamInfo(),a=e.getTrackInfo(),s=i.isDynamic(),u=o.manifestInfo.duration,l=a.fragmentDuration,c=n.bitrateList.map(function(e){return e.bandwidth}),f=r(C,P,c,null);if(null===f)return t.state=E,t;if(t.state=S,t.bitrates=c,t.utilities=f.utilities,t.Vp=f.Vp,t.gp=f.gp,t.isDynamic=s,t.movieDuration=u,t.fragmentDuration=l,t.bandwidthSafetyFactor=z.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=I,t.bufferTarget=z.getStableBufferTime(),t.lastQuality=0,t.placeholderBuffer=0,t.throughputCount=s?x:R,O){for(var d="",p=0;p<c.length;++p){var h=f.utilities[p],y=c[p],g=0;if(p>0){var v=f.utilities[p-1],m=c[p-1];g=f.Vp*((v*y-h*m)/(y-m)+f.gp)}var _=f.Vp*(h+f.gp);d+="\n"+p+":"+(1e-6*c[p]).toFixed(3)+"Mbps "+g.toFixed(3)+"/"+_.toFixed(3)}L("BolaDebug "+n.type+" bitrates"+d)}return t}function s(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,r=o)}return r}function u(e,t){for(var n=j.getHttpRequests(e),r=[],i=n.length-1;i>=0&&r.length<t;--i){var o=n[i];o.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&r.push(o)}return r}function l(e,t,n){var r=u(e,t);if(0===r.length)return 0;for(var i=0,o="",a=0;a<r.length;++a){var s=.001*(r[a]._tfinish.getTime()-r[a].trequest.getTime()),l=8*r[a].trace.reduce(function(e,t){return e+t.b[0]},0);O&&(o+=" "+(1e-6*l).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*l/s).toFixed(3)+"Mbps"),i+=s/l}return O&&L("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*i)).toFixed(3)+"Mbps:"+o),r.length/i}function f(e,t){var n=0;return e.bitrates.some(function(e,r){return e>t||(n=r,!1)}),n}function h(e,t){var n=Date.now(),r=B[t],i=V[t],o=NaN;if(B[t]=n,V[t]=!1,!i){var a=u(e,1);a.length>0&&(o=a[0]._tfinish.getTime(),o>n&&(o=n))}var s=0;return s=i||r>o?n-r:n-o,isNaN(s)||s<=0?0:.001*s}function g(){O&&L("BolaDebug BUFFER_EMPTY"),q.forEach(function(e){var t=N.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===w&&(n.placeholderBuffer=0,N.updateBolaState(e,n))}})}function m(e){O&&L("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),q.forEach(function(e){var t=N.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==E&&(n.state=S),N.updateBolaState(e,n)}}),H={},V={}}function b(){}function A(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=e.chunk.mediaInfo.type,n=e.chunk.start;void 0===t||isNaN(n)||(n<=H[t]?V[t]=!0:(V[t]=!1,H[t]=n))}}function M(e){var t=e.getStreamProcessor();t.getScheduleController().setTimeToLoadDelay(0);var n=(0,a.default)(D).create(a.default.NO_CHANGE,{name:i.__dashjs_factory_name}),r=e.getMediaInfo(),u=r.type,c=N.getReadOnlyMetricsFor(u);if(0===c.BolaState.length){O&&L("BolaDebug "+u+"\nBolaDebug "+u+" BolaRule for state=- fragmentStart="+K.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var d=o(e);N.updateBolaState(u,d);var p=0;if(d.state!==E){q.push(u);var y=l(c,d.throughputCount,u);if(0===y)return O&&L("BolaDebug "+u+" BolaRule quality unchanged for INITIALIZE"),n;p=f(d,y*d.bandwidthSafetyFactor),d.lastQuality=p,n.value=p,n.reason.state=d.state,n.reason.throughput=y}return O&&L("BolaDebug "+u+" BolaRule quality "+p+" for INITIALIZE"),n}var g=c.BolaState[0]._s;if(g.state===E)return O&&L("BolaDebug "+u+" BolaRule quality 0 for ONE_BITRATE"),n;var v=g.bitrates,m=g.utilities;O&&L("BolaDebug "+u+"\nBolaDebug "+u+" EXECUTE BolaRule for state="+g.state+" fragmentStart="+K.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var _=j.getCurrentBufferLevel(c)?j.getCurrentBufferLevel(c):0,b=l(c,g.throughputCount,u);_<=.1&&(g.placeholderBuffer=0);var T=h(c,u);T>0&&(g.placeholderBuffer+=T),g.placeholderBuffer<0&&(g.placeholderBuffer=0);var C=_+g.placeholderBuffer,P=s(g,C);if(O&&L("BolaDebug "+u+" BolaRule bufferLevel="+_.toFixed(3)+"(+"+g.placeholderBuffer.toFixed(3)+"="+C.toFixed(3)+") recentThroughput="+(1e-6*b).toFixed(3)+" tentativeQuality="+P),g.state===S){var p=f(g,b*g.bandwidthSafetyFactor);if(_>g.fragmentDuration/I){g.state=w;for(var A=0,M=0;M<p;++M){var k=g.Vp*(g.gp+(v[p]*m[M]-v[M]*m[p])/(v[p]-v[M]));k>A&&(A=k)}A>_&&(g.placeholderBuffer=A-_)}return O&&L("BolaDebug "+u+" BolaRule quality "+p+" for STARTUP"),g.lastQuality=p,N.updateBolaState(u,g),n.value=p,n.reason.state=S,n.reason.throughput=b,n}if(P>g.lastQuality){var p=f(g,b);P>p&&(p<g.lastQuality&&(p=g.lastQuality),P=p)}if(b>0)for(var x=I*b*_/g.fragmentDuration;P>0&&v[P]>x;)--P;var R=0,F=g.Vp*(m[P]+g.gp);return R=C-F,R>0&&(R>g.placeholderBuffer?(R-=g.placeholderBuffer,g.placeholderBuffer=0):(g.placeholderBuffer-=R,R=0)),R>0?P===v.length-1?R=0:t.getScheduleController().setTimeToLoadDelay(1e3*R):R=0,g.lastQuality=P,N.updateBolaState(u,g),n.value=P,n.reason.state=g.state,n.reason.throughput=b,n.reason.bufferLevel=_,O&&L("BolaDebug "+u+" BolaRule quality "+P+" delay="+R.toFixed(3)+" for STEADY"),n}function k(){F.off(_.default.BUFFER_EMPTY,g,U),F.off(_.default.PLAYBACK_SEEKING,m,U),F.off(_.default.PERIOD_SWITCH_STARTED,b,U),F.off(_.default.MEDIA_FRAGMENT_LOADED,A,U),t()}var x=2,R=3,D=this.context,L=(0,T.default)(D).getInstance().log,j=e.dashMetrics,N=e.metricsModel,F=(0,v.default)(D).getInstance(),U=void 0,B=void 0,H=void 0,V=void 0,q=void 0,z=void 0,G=void 0,K=void 0;return U={getMaxIndex:M,reset:k},t(),U}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),s=n(0),u=r(s),l=n(10),c=r(l),f=n(20),d=r(f),p=n(15),h=n(37),y=r(h),g=n(5),v=r(g),m=n(3),_=r(m),b=n(6),T=r(b),E=0,S=1,w=2,O=!1,C=10,P=30,I=.5;i.__dashjs_factory_name="BolaRule";var A=u.default.getClassFactory(i);A.BOLA_STATE_ONE_BITRATE=E,A.BOLA_STATE_STARTUP=S,A.BOLA_STATE_STEADY=w,A.BOLA_DEBUG=O,t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function n(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function r(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return this.customTimeRangeArray[e].start}function o(e){return this.customTimeRangeArray[e].end}var a=[],s=0;return{customTimeRangeArray:a,length:s,add:e,clear:t,remove:n,mergeRanges:r,start:i,end:o}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="CustomTimeRanges",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var t=e.streamId,n=e.mediaInfo.type,i=e.quality;r[t]=r[t]||{},r[t][n]=r[t][n]||{},r[t][n][i]=e}function t(e,t,n){return r[e][t][n]}function n(){r={}}var r={},i={save:e,extract:t,reset:n};return i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="InitCache",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(33),u=r(s),l=function(e){function t(e,n){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){r(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",t.PlayList=i,t.PlayListTrace=o},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(138),o=r(i),a=n(139),s=r(a),u=n(327),l=r(u);e.exports={LineStream:o.default,ParseStream:s.default,Parser:l.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(87),l=r(u),c=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return a(t,e),s(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(87),c=r(l),f=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},d=function(e){for(var t=e.split(f()),n={},r=t.length,i=void 0;r--;)""!==t[r]&&(i=/([^=]*)=(.*)/.exec(t[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=d(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var i=r.BYTERANGE.split("@"),o=s(i,2),a=o[0],u=o[1];n.byterange={},a&&(n.byterange.length=parseInt(a,10)),u&&(n.byterange.offset=parseInt(u,10))}}return void this.trigger("data",n)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=d(t[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))?(n={type:"tag",tagType:"media"},t[1]&&(n.attributes=d(t[1])),void this.trigger("data",n)):(t=/^#EXT-X-ENDLIST/.exec(e))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n)):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:"tag",tagType:"key"},t[1]&&(n.attributes=d(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:e.slice(4)})}}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";var r,i=n(18),o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=function(){var e;r.prototype.init.call(this),this.push=function(t){var n,r,i,a,s,u,l=0,c=0;if("audio"===t.type)for(e?(a=e,e=new Uint8Array(a.byteLength+t.data.byteLength),e.set(a),e.set(t.data,a.byteLength)):e=t.data;l+5<e.length;)if(255===e[l]&&240===(246&e[l+1])){if(r=2*(1&~e[l+1]),n=(3&e[l+3])<<11|e[l+4]<<3|(224&e[l+5])>>5,s=1024*((3&e[l+6])+1),u=9e4*s/o[(60&e[l+2])>>>2],i=l+n,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+c*u,dts:t.dts+c*u,sampleCount:s,audioobjecttype:(e[l+2]>>>6&3)+1,channelcount:(1&e[l+2])<<2|(192&e[l+3])>>>6,samplerate:o[(60&e[l+2])>>>2],samplingfrequencyindex:(60&e[l+2])>>>2,samplesize:16,data:e.subarray(l+7+r,i)}),e.byteLength===i)return void(e=void 0);c++,e=e.subarray(i)}else l++},this.flush=function(){this.trigger("done")}},r.prototype=new i,e.exports=r},function(e,t,n){"use strict";var r,i,o,a=n(18),s=n(342);i=function(){var e,t,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(t?(i=new Uint8Array(t.byteLength+r.data.byteLength),i.set(t),i.set(r.data,t.byteLength),t=i):t=r.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}},i.prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},r=function(){var e,t,n,a,u,l,c,f=new i;r.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,a=e.dts,f.push(e))},f.on("data",function(r){var i={trackId:t,pts:n,dts:a,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=l(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)}),f.on("done",function(){e.trigger("done")}),this.flush=function(){f.flush()},c=function(e,t){var n,r,i=8,o=8;for(n=0;n<e;n++)0!==o&&(r=t.readExpGolomb(),o=(i+r+256)%256),i=0===o?i:o},u=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},l=function(e){var t,n,r,i,a,u,l,f,d,p,h,y,g,v,m=0,_=0,b=0,T=0,E=1;if(t=new s(e),n=t.readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),o[n]&&(a=t.readUnsignedExpGolomb(),3===a&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==a?8:12,v=0;v<h;v++)t.readBoolean()&&(v<6?c(16,t):c(64,t));if(t.skipUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===u)t.readUnsignedExpGolomb();else if(1===u)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),v=0;v<l;v++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),f=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),p=t.readBits(1),0===p&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),T=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(g=t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(E=y[0]/y[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(f+1)-2*m-2*_)*E),height:(2-p)*(d+1)*16-2*b-2*T}}},r.prototype=new a,e.exports={H264Stream:r,NalByteStream:i}},function(e,t,n){e.exports={tag:n(88),Transmuxer:n(334),getFlvHeader:n(332)}},function(e,t,n){"use strict";var r,i,o,a=n(18),s=n(335),u=n(43),l=n(144).TimestampRolloverStream,c=n(43),f=188,d=71;r=function(){var e=new Uint8Array(f),t=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,o=f;for(t?(r=new Uint8Array(n.byteLength+t),r.set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)r[i]!==d||r[o]!==d?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=f,o+=f);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===f&&e[0]===d&&(this.trigger("data",e),t=0),this.trigger("done")}},r.prototype=new a,i=function(){var e,t,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i,o,a;if(1&e[5]){for(r.programMapTable={},n=(15&e[1])<<8|e[2],i=3+n-4,o=(15&e[10])<<8|e[11],a=12+o;a<i;)r.programMapTable[(31&e[a+1])<<8|e[a+2]]=e[a],a+=((15&e[a+3])<<8|e[a+4])+5;for(t.programMapTable=r.programMapTable;r.packetsWaitingForPmt.length;)r.processPes_.apply(r,r.packetsWaitingForPmt.shift())}},this.push=function(t){var n={},r=4;n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid?(n.type="pat",e(t.subarray(r),n),this.trigger("data",n)):n.pid===this.pmtPid?(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},i.prototype=new a,i.STREAM_TYPES={h264:27,adts:15},o=function(){var e=this,t={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(e,t){var n;t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},a=function(t,n){var r,o=new Uint8Array(t.size),a={type:n},s=0;if(t.data.length){for(a.trackId=t.data[0].pid;t.data.length;)r=t.data.shift(),o.set(r.data,s),s+=r.data.byteLength;i(o,a),t.size=0,e.trigger("data",a)}};o.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,o;switch(i.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,o="video";break;case u.ADTS_STREAM_TYPE:e=n,o="audio";break;case u.METADATA_STREAM_TYPE:e=r,o="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&a(e,o),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var t,n,r={type:"metadata",tracks:[]},o=i.programMapTable;for(t in o)o.hasOwnProperty(t)&&(n={timelineStartInfo:{baseMediaDecodeTime:0}},n.id=+t,o[t]===c.H264_STREAM_TYPE?(n.codec="avc",n.type="video"):o[t]===c.ADTS_STREAM_TYPE&&(n.codec="adts",n.type="audio"),r.tracks.push(n));e.trigger("data",r)}})[i.type]()},this.flush=function(){a(t,"video"),a(n,"audio"),a(r,"timed-metadata"),this.trigger("done")}},o.prototype=new a;var p={PAT_PID:0,MP2T_PACKET_LENGTH:f,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:o,TimestampRolloverStream:l,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(336)};for(var h in u)u.hasOwnProperty(h)&&(p[h]=u[h]);e.exports=p},function(e,t,n){"use strict";var r=n(18),i=8589934592,o=4294967296,a=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>o;)e+=n*i;return e},s=function(e){var t,n;s.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=a(e.dts,n),e.pts=a(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")}};s.prototype=new r,e.exports={TimestampRolloverStream:s,handleRollover:a}},function(e,t,n){"use strict";var r,i,o,a,s,u,l,c,f,d,p,h,y,g,v,m,_,b,T,E,S,w,O,C,P,I,A,M,k,x,R,D,L,j,N,F,U=Math.pow(2,32)-1;!function(){var e;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in O)O.hasOwnProperty(e)&&(O[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),I=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),P=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:A,audio:M},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),j=L,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=L,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,n,r,i=[],o=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)o+=i[t].byteLength;for(n=new Uint8Array(o+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(e,4),t=0,o=8;t<i.length;t++)n.set(i[t],o),o+=i[t].byteLength;return n},i=function(){return r(O.dinf,r(O.dref,D))},o=function(e){return r(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return r(O.ftyp,C,P,C,I)},m=function(e){return r(O.hdlr,k[e])},s=function(e){return r(O.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(O.mdhd,t)},g=function(e){return r(O.mdia,v(e),m(e.type),l(e))},u=function(e){return r(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return r(O.minf,"video"===e.type?r(O.vmhd,x):r(O.smhd,R),i(),b(e))},c=function(e,t){for(var n=[],i=t.length;i--;)n[i]=E(t[i]);return r.apply(null,[O.moof,u(e)].concat(n))},f=function(e){for(var t=e.length,n=[];t--;)n[t]=h(e[t]);return r.apply(null,[O.moov,p(4294967295)].concat(n).concat(d(e)))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=S(e[t]);return r.apply(null,[O.mvex].concat(n))},p=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(O.mvhd,t)},_=function(e){var t,n,i=e.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,o[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(O.sdtp,o)},b=function(e){return r(O.stbl,T(e),r(O.stts,F),r(O.stsc,j),r(O.stsz,N),r(O.stco,L))},function(){var e,t;T=function(n){return r(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n=e.sps||[],i=e.pps||[],o=[],a=[];for(t=0;t<n.length;t++)o.push((65280&n[t].byteLength)>>>8),o.push(255&n[t].byteLength),o=o.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)a.push((65280&i[t].byteLength)>>>8),a.push(255&i[t].byteLength),a=a.concat(Array.prototype.slice.call(i[t]));return r(O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(O.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(o).concat([i.length]).concat(a))),r(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return r(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))}}(),y=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(O.tkhd,t)},E=function(e){var t,n,i,o,a,s,u;return t=r(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(U+1)),u=Math.floor(e.baseMediaDecodeTime%(U+1)),n=r(O.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===e.type?(i=w(e,a),r(O.traf,t,n,i)):(o=_(e),i=w(e,o.length+a),r(O.traf,t,n,i,o))},h=function(e){return e.duration=e.duration||4294967295,r(O.trak,y(e),g(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(O.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,o,a,s;for(o=e.samples||[],t+=20+16*o.length,i=n(o,t),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return r(O.trun,new Uint8Array(i))},e=function(e,t){var i,o,a,s;for(o=e.samples||[],t+=20+8*o.length,i=n(o,t),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return r(O.trun,new Uint8Array(i))},w=function(n,r){return"audio"===n.type?e(n,r):t(n,r)}}(),e.exports={ftyp:a,mdat:s,moof:c,moov:f,initSegment:function(e){var t,n=a(),r=f(e);return t=new Uint8Array(n.byteLength+r.byteLength),t.set(n),t.set(r,n.byteLength),t}}},function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(44),l=i(u),c=n(1),f=i(c),d=n(8),p=r(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"volumechange",i.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),i}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)p.removeElClass(this.el_,"vjs-vol-"+i);p.addElClass(this.el_,"vjs-vol-"+n)},t}(l.default);h.prototype.controlText_="Mute",f.default.registerComponent("MuteToggle",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(151),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=function(e){function t(n,r){o(this,t);var i=r.tracks,s=a(this,e.call(this,n,r));if(s.items.length<=1&&s.hide(),!i)return a(s);var u=p.bind(s,s.update);return i.addEventListener("removetrack",u),i.addEventListener("addtrack",u),s.player_.on("dispose",function(){i.removeEventListener("removetrack",u),i.removeEventListener("addtrack",u)}),s}return s(t,e),t}(l.default);f.default.registerComponent("TrackButton",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(155),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d);n(385);var h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"volumechange",i.updateARIAAttributes),n.ready(p.bind(i,i.updateARIAAttributes)),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(l.default);h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},h.prototype.playerEvent="volumechange",f.default.registerComponent("VolumeBar",h),t.default=h},function(e,t,n){"use strict";function r(e){return e instanceof r?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),void(this.message||(this.message=r.defaultMessages[this.code]||"")))}t.__esModule=!0;var i=n(12);r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<r.errorTypes.length;o++)r[r.errorTypes[o]]=o,r.prototype[r.errorTypes[o]]=o;
t.default=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(45),l=i(u),c=n(1),f=i(c),d=n(152),p=i(d),h=n(8),y=r(h),g=n(7),v=r(g),m=n(35),_=i(m),b=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=a(this,e.call(this,n,r));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return s(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new p.default(this.player_);if(this.hideThreshold_=0,this.options_.title){var t=y.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),y.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",v.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l.default);f.default.registerComponent("MenuButton",b),t.default=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(7),p=r(d),h=n(25),y=r(h),g=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),y.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l.default);l.default.registerComponent("Menu",g),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(8),l=i(u),c=n(7),f=i(c),d=n(1),p=r(d),h="vjs-modal-dialog",y=27,g=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=l.createEl("div",{className:h+"-content"},{role:"document"}),i.descEl_=l.createEl("p",{className:h+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),l.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return h+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===y&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function e(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(p.default);g.prototype.options_={pauseOnOpen:!0,temporary:!0},p.default.registerComponent("ModalDialog",g),t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(9),f=i(c),d=n(4),p=i(d),h=n(25),y=r(h),g=n(8),v=r(g),m=n(7),_=r(m),b=n(34),T=r(b),E=n(11),S=r(E),w=n(14),O=i(w),C=n(35),P=i(C),I=n(47),A=n(158),M=n(159),k=r(M),x=n(389),R=i(x),D=n(150),L=i(D),j=n(350),N=i(j),F=n(12),U=n(22),B=i(U),H=n(405),V=i(H),q=n(153),z=i(q),G=n(46),K=i(G),Y=n(156),W=i(Y),X=n(157),Q=i(X);n(399),n(397),n(394),n(404),n(390),n(355),n(356),n(359),n(387),n(407),n(398);var $=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],J=function(e){function t(n,r,i){if(o(this,t),n.id=n.id||"vjs_video_"+T.newGUID(),r=(0,F.assign)(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var u=n;u&&1===u.nodeType;){if(v.getElAttributes(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}var l=a(this,e.call(this,null,r,i));if(!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=n,l.tagAttributes=n&&v.getElAttributes(n),l.language(l.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(e){c[e.toLowerCase()]=r.languages[e]}),l.languages_=c}else l.languages_=t.prototype.options_.languages;l.cache_={},l.poster_=r.poster||"",l.controls_=!!r.controls,n.controls=!1,l.scrubbing_=!1,l.el_=l.createEl();var f=(0,B.default)(l.options_);if(r.plugins){var d=r.plugins;Object.getOwnPropertyNames(d).forEach(function(e){"function"==typeof this[e]?this[e](d[e]):O.default.error("Unable to find plugin:",e)},l)}return l.options_.playerOptions=f,l.initChildren(),l.isAudio("audio"===n.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label","audio player"):l.el_.setAttribute("aria-label","video player"),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),S.IS_IOS||l.addClass("vjs-workinghover"),t.players[l.id_]=l,l.userActive(!0),l.reportUserActivity(),l.listenForUserActivity_(),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l}return s(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=r?this.el_=t.parentNode:this.el_=e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=v.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),p.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=k.createStyleElement("vjs-styles-dimensions");var o=v.$(".vjs-styles-defaults"),a=v.$("head");a.insertBefore(this.styleEl_,o?o.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),u=0;u<s.length;u++){var l=s.item(u);v.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),v.insertElFirst(t,n),this.children_.unshift(t),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return O.default.error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p.default.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),u=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*u,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),k.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(K.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,F.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=K.default.getTech(e);i||(i=l.default.getComponent(e)),this.tech_=new i(r),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),V.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),$.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,P.default)(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||v.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=V.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p.default.alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,O.default)("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(O.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw(0,O.default)(e),e}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,O.default)("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,O.default)("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,O.default)(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function e(){var e=this.techGet_("buffered");return e&&e.length||(e=(0,I.createTimeRange)(0,0)),e},t.prototype.bufferedPercent=function(){return(0,A.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=R.default;return this.isFullscreen(!0),e.requestFullscreen?(y.on(f.default,e.fullscreenchange,_.bind(this,function t(n){this.isFullscreen(f.default[e.fullscreenElement]),this.isFullscreen()===!1&&y.off(f.default,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=R.default;return this.isFullscreen(!1),e.requestFullscreen?f.default[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f.default.documentElement.style.overflow,y.on(f.default,"keydown",_.bind(this,this.fullWindowOnEscKey)),f.default.documentElement.style.overflow="hidden",v.addElClass(f.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,y.off(f.default,"keydown",this.fullWindowOnEscKey),f.default.documentElement.style.overflow=this.docOrigOverflow,v.removeElClass(f.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=(0,P.default)(r[n]),o=K.default.getTech(i);if(o||(o=l.default.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else O.default.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(P.default).map(function(e){return[e,K.default.getTech(e)||l.default.getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(O.default.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=void 0,o=function(e){return function(t,n){return e(n,t)}},a=function(e,n){var r=e[0],i=e[1];if(i.canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return i=this.options_.sourceOrder?r(e,n,o(a)):r(n,e,a),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=K.default.getTech(this.techName_);return t||(t=l.default.getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,P.default)(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),
this):(this.error_=new L.default(e),this.addClass("vjs-error"),O.default.error("(CODE:"+this.error_.code+" "+L.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=_.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(t){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Q.default,this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new W.default,this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,B.default)(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,B.default)(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=(0,B.default)(r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new z.default(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=v.getElAttributes(e),r=n["data-setup"];if(v.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,N.default)(r||"{}"),o=i[0],a=i[1];o&&O.default.error(o),(0,F.assign)(n,a)}if((0,F.assign)(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],f=c.nodeName.toLowerCase();"source"===f?t.sources.push(v.getElAttributes(c)):"track"===f&&t.tracks.push(v.getElAttributes(c))}return t},t.prototype.flexNotSupported_=function(){var e=f.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(l.default);J.players={};var Z=p.default.navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){J.prototype[e]=function(){return this.techGet_(e)}}),$.forEach(function(e){J.prototype["handleTech"+(0,P.default)(e)+"_"]=function(){return this.trigger(e)}}),l.default.registerComponent("Player",J),t.default=J},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(12),p=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.on(n,i.playerEvent,i.update),i}return s(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,d.assign)({tabIndex:0},n),r=(0,d.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),f.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;f.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=f.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l.default);l.default.registerComponent("Slider",p),t.default=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(93),l=i(u),c=n(11),f=r(c),d=n(9),p=i(d),h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},y=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,u=i.length-1;u>=0;u--)if(i[u].enabled){h(i,i[u]);break}if(f.IS_IE8){s=p.default.createElement("custom");for(var c in l.default.prototype)"constructor"!==c&&(s[c]=l.default.prototype[c]);for(var d in t.prototype)"constructor"!==d&&(s[d]=t.prototype[d])}return s=n=a(this,e.call(this,i,s)),s.changing_=!1,r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&h(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,h(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l.default);t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(93),l=i(u),c=n(11),f=r(c),d=n(9),p=i(d),h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},y=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,u=i.length-1;u>=0;u--)if(i[u].selected){h(i,i[u]);break}if(f.IS_IE8){s=p.default.createElement("custom");for(var c in l.default.prototype)"constructor"!==c&&(s[c]=l.default.prototype[c]);for(var d in t.prototype)"constructor"!==d&&(s[d]=t.prototype[d])}return s=n=a(this,e.call(this,i,s)),s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&h(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,h(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l.default);t.default=y},function(e,t,n){"use strict";function r(e,t){var n=0,r=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var a=0;a<e.length;a++)r=e.start(a),o=e.end(a),o>t&&(o=t),n+=o-r;return n/t}t.__esModule=!0,t.bufferedPercent=r;var i=n(47)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.setTextContent=t.createStyleElement=void 0;var i=n(9),o=r(i);t.createStyleElement=function(e){var t=o.default.createElement("style");return t.className=e,t},t.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GOAL_BUFFER_LENGTH:30},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(419),o=r(i),a=n(2),s=n(49),u=n(421),l=r(u),c=n(137),f=r(c),d=n(4),p=r(d),h=function(e,t,n){var r=t.slice(),i=void 0,o=void 0;for(n=n||0,i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=(0,a.mergeOptions)(e[o],r[o-n]);return r},y=function(e,t){for(var n=!1,r=(0,a.mergeOptions)(e,{}),i=e.playlists.length,s=void 0,u=void 0,l=void 0;i--;)if(s=r.playlists[i],s.uri===t.uri){if(s.segments&&t.segments&&s.segments.length===t.segments.length&&s.mediaSequence===t.mediaSequence)continue;for(r.playlists[i]=(0,a.mergeOptions)(s,t),r.playlists[t.uri]=r.playlists[i],s.segments&&(r.playlists[i].segments=h(s.segments,t.segments,t.mediaSequence-s.mediaSequence)),l=0,r.playlists[i].segments&&(l=r.playlists[i].segments.length);l--;)u=r.playlists[i].segments[l],u.resolvedUri||(u.resolvedUri=(0,o.default)(s.resolvedUri,u.uri)),u.key&&!u.key.resolvedUri&&(u.key.resolvedUri=(0,o.default)(s.resolvedUri,u.key.uri)),u.map&&!u.map.resolvedUri&&(u.map.resolvedUri=(0,o.default)(s.resolvedUri,u.map.uri));n=!0}return n?r:null},g=function e(t,n,r){var i=this,a=this,u=void 0,l=void 0,c=void 0,d=void 0,h=void 0;if(e.prototype.constructor.call(this),this.hls_=n,!t)throw new Error("A non-empty playlist URL is required");d=function(e,t,n){a.setBandwidth(c||e),c=null,n&&(a.state=n),a.error={playlist:a.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},a.trigger("error")},h=function(e,t){var n=void 0,r=void 0,i=void 0;a.setBandwidth(c||e),c=null,a.state="HAVE_METADATA",n=new f.default.Parser,n.push(e.responseText),n.end(),n.manifest.uri=t,i=y(a.master,n.manifest),r=1e3*(n.manifest.targetDuration||10),a.targetDuration=n.manifest.targetDuration,i?(a.master=i,a.media_=a.master.playlists[n.manifest.uri]):(r/=2,a.trigger("playlistunchanged")),a.media().endList||(p.default.clearTimeout(l),l=p.default.setTimeout(function(){a.trigger("mediaupdatetimeout")},r)),a.trigger("loadedplaylist")},a.state="HAVE_NOTHING",u=this.dispose,a.dispose=function(){a.stopRequest(),p.default.clearTimeout(l),u.call(this)},a.stopRequest=function(){if(c){var e=c;c=null,e.onreadystatechange=null,e.abort()}},a.enabledPlaylists_=function(){return a.master.playlists.filter(s.isEnabled).length},a.isLowestEnabledRendition_=function(){if(1===a.master.playlists.length)return!0;var e=a.media(),t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===a.master.playlists.filter(function(e){var n=(0,s.isEnabled)(e);if(!n)return!1;var r=0;return e&&e.attributes&&(r=e.attributes.BANDWIDTH),r<t}).length},a.isFinalRendition_=function(){return 1===a.master.playlists.filter(s.isEnabled).length},a.media=function(e){var t=a.state,n=void 0;if(!e)return a.media_;if("HAVE_NOTHING"===a.state)throw new Error("Cannot switch media playlist from "+a.state);if("string"==typeof e){if(!a.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=a.master.playlists[e]}if(n=!a.media_||e.uri!==a.media_.uri,a.master.playlists[e.uri].endList)return c&&(c.onreadystatechange=null,c.abort(),c=null),a.state="HAVE_METADATA",a.media_=e,void(n&&(a.trigger("mediachanging"),a.trigger("mediachange")));if(n){if(a.state="SWITCHING_MEDIA",c){if((0,o.default)(a.master.uri,e.uri)===c.url)return;c.onreadystatechange=null,c.abort(),c=null}this.media_&&this.trigger("mediachanging"),c=this.hls_.xhr({uri:(0,o.default)(a.master.uri,e.uri),withCredentials:r},function(n,r){if(c){if(n)return d(c,e.uri,t);h(r,e.uri),"HAVE_MASTER"===t?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},a.setBandwidth=function(e){a.bandwidth=e.bandwidth},a.on("mediaupdatetimeout",function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",c=this.hls_.xhr({uri:(0,o.default)(a.master.uri,a.media().uri),withCredentials:r},function(e,t){if(c)return e?d(c,a.media().uri,"HAVE_METADATA"):void h(c,a.media().uri)}))}),a.on("firstplay",function(){var e=a.media();e&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0})}),a.pause=function(){a.stopRequest(),p.default.clearTimeout(l),"HAVE_NOTHING"===a.state&&(a.started=!1)},a.load=function(e){var t=a.media();if(p.default.clearTimeout(l),e){var n=t?t.targetDuration/2*1e3:5e3;return void(l=p.default.setTimeout(a.load.bind(null,!1),n))}return a.started?void(t&&!t.endList?a.trigger("mediaupdatetimeout"):a.trigger("loadedplaylist")):void a.start()},a.start=function(){a.started=!0,c=i.hls_.xhr({uri:t,withCredentials:r},function(e,n){var r=void 0,i=void 0,s=void 0;if(c){if(c=null,e)return a.error={status:n.status,message:"HLS playlist request error at URL: "+t,responseText:n.responseText,code:2},"HAVE_NOTHING"===a.state&&(a.started=!1),a.trigger("error");if(r=new f.default.Parser,r.push(n.responseText),r.end(),a.state="HAVE_MASTER",r.manifest.uri=t,r.manifest.playlists){for(a.master=r.manifest,s=a.master.playlists.length;s--;)i=a.master.playlists[s],a.master.playlists[i.uri]=i,i.resolvedUri=(0,o.default)(a.master.uri,i.uri);return["AUDIO","SUBTITLES"].forEach(function(e){for(var t in a.master.mediaGroups[e])for(var n in a.master.mediaGroups[e][t]){var r=a.master.mediaGroups[e][t][n];r.uri&&(r.resolvedUri=(0,o.default)(a.master.uri,r.uri))}}),a.trigger("loadedplaylist"),void(c||a.media(r.manifest.playlists[0]))}return a.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:p.default.location.href,playlists:[{uri:t}]},a.master.playlists[t]=a.master.playlists[0],a.master.playlists[0].resolvedUri=t,h(n,t),a.trigger("loadedmetadata")}})}};g.prototype=new l.default,t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(2),a=r(o),s=1/30,u=function(e,t){var n=i(t,2),r=n[0],o=n[1];return Math.min(Math.max(r,e),o)},l=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return a.default.createTimeRanges(n)},c=function(e,t){return l(e,function(e,n){return e-s<=t&&n+s>=t})},f=function(e,t){return l(e,function(e){return e-s>=t})},d=function(e){if(e.length<2)return a.default.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return a.default.createTimeRanges(t)},p=function(e,t){var n=void 0,r=void 0,i=void 0,o=[],a=[],s=function(e){return e[0]<=i&&e[1]>=i};if(e)for(n=0;n<e.length;n++)r=e.start(n),i=e.end(n),a.push([r,i]);if(t)for(n=0;n<t.length;n++)r=t.start(n),i=t.end(n),a.some(s)||o.push(i);return 1!==o.length?null:o[0]},h=function(e,t){var n=null,r=null,i=0,o=[],s=[];if(!(e&&e.length&&t&&t.length))return a.default.createTimeRange();for(var u=e.length;u--;)o.push({time:e.start(u),type:"start"}),o.push({time:e.end(u),type:"end"});for(u=t.length;u--;)o.push({time:t.start(u),type:"start"}),o.push({time:t.end(u),type:"end"});for(o.sort(function(e,t){return e.time-t.time}),u=0;u<o.length;u++)"start"===o[u].type?(i++,2===i&&(n=o[u].time)):"end"===o[u].type&&(i--,1===i&&(r=o[u].time)),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return a.default.createTimeRanges(s)},y=function(e,t,n,r){for(var i=t.end(0)-t.start(0),o=e.end(0)-e.start(0),a=i-o,s=h(e,r),u=h(t,r),l=0,c=0,f=s.length;f--;)l+=s.end(f)-s.start(f),s.start(f)===n&&(l+=a);for(f=u.length;f--;)c+=u.end(f)-u.start(f);return Math.max(l,c)/i*100},g=function(e,t,n,r){var i=e+t,o=a.default.createTimeRanges([[e,i]]),s=a.default.createTimeRanges([[u(e,[n,i]),i]]);if(s.start(0)===s.end(0))return 0;var l=y(s,o,n,r);return isNaN(l)||l===1/0||l===-(1/0)?0:l},v=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")};t.default={findRange:c,findNextRange:f,findGaps:d,findSoleUncommonTimeRangesEnd:p,getSegmentBufferedPercent:g,TIME_FUDGE_FACTOR:s,printableRange:v},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(49),l=n(2),c=r(l),f=n(420),d=r(f),p=n(160),h=r(p),y=n(4),g=r(y),v=n(66),m=r(v),_=n(48),b=n(415),T=500,E=function(e,t,n){if(!e||!t)return!1;var r=e.segments,i=n===r.length;return e.endList&&"open"===t.readyState&&i},S=function(e){function t(e){var n=this;if(i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization options are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");var r=c.default.mergeOptions(c.default.options.hls,e);this.state="INIT",this.bandwidth=r.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=r.hasPlayed,this.currentTime_=r.currentTime,this.seekable_=r.seekable,this.seeking_=r.seeking,this.duration_=r.duration,this.mediaSource_=r.mediaSource,this.hls_=r.hls,this.loaderType_=r.loaderType,this.segmentMetadataTrack_=r.segmentMetadataTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=r.decrypter,this.syncController_=r.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),this.fetchAtBuffer_=!1,r.debug&&(this.logger_=c.default.log.bind(c.default,"segment-loader",this.loaderType_,"->"))}return o(t,e),a(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),void(this.paused()||(this.state="READY",this.monitorBuffer_())))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():c.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,_.initSegmentId)(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new d.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var i=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",i),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(g.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.resetLoader(),this.remove(0,1/0)}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,m.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&g.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=g.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&g.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=g.default.setTimeout(this.monitorBufferTick_.bind(this),T)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){var t=E(this.playlist_,this.mediaSource_,e.mediaIndex);return t?void this.mediaSource_.endOfStream():void((e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e)))}}}},{key:"checkBuffer_",value:function(e,t,n,r,i,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-i);if(!t.segments.length)return null;if(l>=h.default.GOAL_BUFFER_LENGTH)return null;if(!r&&l>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",i,"syncPoint:",o,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l),null===o)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var c=t.segments[n];return s=c&&c.end?c.end:a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var f=(0,u.getMediaInfoForTime_)(t,a,o.segmentIndex,o.time);n=f.mediaIndex,s=f.startTime}else{var f=(0,u.getMediaInfoForTime_)(t,i,o.segmentIndex,o.time);n=f.mediaIndex,s=f.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(this.currentTimeline_===-1)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"loadSegment_",value:function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,b.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),function(e,n){t.pendingSegment_&&n.requestId===t.pendingSegment_.requestId&&t.trigger("progress")},this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=this.seekable_(),n=this.currentTime_(),r=0;r=t.length&&t.start(0)>0&&t.start(0)<n?t.start(0):n-60,r>0&&this.remove(0,r)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,e.code===b.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.state="READY",this.pause(),e.code===b.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;return this.syncController_.probeSegmentInfo(t),t.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,
void(this.state="READY")):(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(t.timestampOffset),n.map&&!function(){var t=(0,_.initSegmentId)(n.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var r=e.initSegment(n.map);e.sourceUpdater_.appendBuffer(r.bytes,function(){e.activeInitSegmentId_=t})}}(),t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,void this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this)))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress");var r=E(e.playlist,this.mediaSource_,e.mediaIndex+1);r&&this.mediaSource_.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;(0,m.default)(n,r,this.segmentMetadataTrack_);var i=g.default.WebKitDataCue||g.default.VTTCue,o={uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},a=JSON.stringify(o),s=new i(n,r,a);s.value=o,this.segmentMetadataTrack_.addCue(s)}}}]),t}(c.default.EventTarget);t.default=S,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),i=function(e,t,n){var i=t.player_;n.captions&&n.captions.length&&!e.inbandTextTrack_&&((0,r.removeExistingTrack)(i,"captions","cc1"),e.inbandTextTrack_=i.addRemoteTextTrack({kind:"captions",label:"cc1"},!1).track),n.metadata&&n.metadata.length&&!e.metadataTrack_&&((0,r.removeExistingTrack)(i,"metadata","Timed Metadata",!0),e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.setup=t.reset=void 0;var i=n(4),o=r(i),a=function(e){return"number"==typeof e&&!isNaN(e)&&e>=0&&e<1/0},s=function(e){e.playlist.autoadvance_.timeout&&o.default.clearTimeout(e.playlist.autoadvance_.timeout),e.playlist.autoadvance_.trigger&&e.off("ended",e.playlist.autoadvance_.trigger),e.playlist.autoadvance_.timeout=null,e.playlist.autoadvance_.trigger=null},u=function(e,t){s(e),a(t)&&(e.playlist.autoadvance_.trigger=function(){e.playlist.autoadvance_.timeout=o.default.setTimeout(function(){s(e),e.playlist.next()},1e3*t)},e.one("ended",e.playlist.autoadvance_.trigger))};t.reset=s,t.setup=u},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return f(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=p(t,{uri:e}),r.callback=n,r}function a(e,t,n){return t=o(e,t,n),s(t)}function s(e){function t(){4===f.readyState&&o()}function n(){var e=void 0;if(e=f.response?f.response:f.responseText||u(f),T)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(y),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,l(e,c)}function o(){if(!h){var t;clearTimeout(y),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=c,i=null;return 0!==t?(r={body:n(),statusCode:t,method:v,headers:{},url:g,rawRequest:f},f.getAllResponseHeaders&&(r.headers=d(f.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),l(i,r,r.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var s=!1,l=function(t,n,r){s||(s=!0,e.callback(t,n,r))},c={body:void 0,headers:{},statusCode:0,method:v,url:g,rawRequest:f},f=e.xhr||null;f||(f=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var p,h,y,g=f.url=e.uri||e.url,v=f.method=e.method||"GET",m=e.body||e.data||null,_=f.headers=e.headers||{},b=!!e.sync,T=!1;if("json"in e&&(T=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),m=JSON.stringify(e.json))),f.onreadystatechange=t,f.onload=o,f.onerror=r,f.onprogress=function(){},f.ontimeout=r,f.open(v,g,!b,e.username,e.password),b||(f.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(y=setTimeout(function(){h=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)},e.timeout)),f.setRequestHeader)for(p in _)_.hasOwnProperty(p)&&f.setRequestHeader(p,_[p]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(m),f}function u(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function l(){}var c=n(4),f=n(136),d=n(343),p=n(443);e.exports=a,a.XMLHttpRequest=c.XMLHttpRequest||l,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:c.XDomainRequest,r(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),s(n)}})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=i(f);n(174);var p=n(201),h=r(p),y=n(109),g=r(y),v=n(13),m=i(v),_=n(108),b=n(185),T=i(b),E=n(186),S=i(E),w=n(103),O=i(w),C=n(173),P=i(C),I=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations"],A=I.concat(["publicId","source","autoplayMode","playedEventPercents","playedEventTimes","analytics","fluid"]),M=["dark","light"],k="cld-video-player",x=d.default.plugin;Object.keys(h).forEach(function(e){x(e,h[e])});var R=function(e){var t=e.autoplayMode;if(t)switch(t){case"always":e.autoplay=!0;break;case"on-scroll":case"never":default:e.autoplay=!1}},D=function(e){if("string"==typeof e){var t=e;if(0===t.indexOf("#")&&(t=t.slice(1)),e=document.querySelector("#"+t),!e)throw new Error("Could not find element with id "+t)}if(!e.tagName)throw new Error("Must specify either an element or an element id.");if("VIDEO"!==e.tagName)throw new Error("Element is not a video tag.");return e},L=function(e,t){var n=(0,P.default)(e);d.default.hasClass(e,"cld-fluid")&&(t.fluid=!0),t=(0,m.default)({},T.default,n,t),R(t);var r=g.sliceAndUnsetProperties.apply(g,[t].concat(u(A)));return r.cloudinary=g.sliceAndUnsetProperties.apply(g,[r].concat(I)),t.videojs&&((0,m.default)(t,t.videojs),delete t.videojs),{playerOptions:r,videojsOptions:t}},j=function(e){return k+"-skin-"+e},N=function(){var e=d.default.getComponent("Player"),t=e.prototype.options_.children;t.push("titleBar"),t.push("upcomingVideoOverlay"),t.push("recommendationsOverlay");var n=d.default.getComponent("ControlBar");t=n.prototype.options_.children,t[t.indexOf("volumeMenuButton")]="triangleVolumeMenuButton",t.splice(t.indexOf("progressControl"),0,"spacer"),t.splice(t.indexOf("playToggle"),1,"playlistPreviousButton","playToggle","playlistNextButton")};N();var F=function(e){function t(e,n,r){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e=D(e),n=L(e,n);var s=function(){u(),c(),i.fluid(b.fluid);var e=b.source||b.publicId;e&&i.source(e)},u=function(){var e=[];if(b.playedEventPercents){var t={type:"percentsplayed",percents:b.playedEventPercents};e.push(t)}if(b.playedEventTimes){var n={type:"timeplayed",times:b.playedEventTimes};e.push(n)}e.push.apply(e,["seek","mute","unmute"]);var r=new O.default(i.videojs,{events:e}),o=r.events;Object.keys(o).forEach(function(e){var t=function(t,n){i.videojs.trigger({type:e,eventData:n})};r.on(e,t)})},c=function(){i.videojs.addClass(k);var e=(0,_.find)(M,function(e){return i.videojs.hasClass(j(e))});e||i.videojs.addClass(j(T.default.skin))},f=function(){p(),h(),y(),v(),m()},p=function(){var e=b.autoplayMode;"on-scroll"===e&&i.videojs.autoplayOnScroll()},h=function(){i.videojs.contextMenu(T.default.contextMenu)},y=function(){i.videojs.perSourceBehaviors()},v=function(){var e=b.cloudinary;e.chainTarget=i,i.videojs.cloudinary(b.cloudinary)},m=function(){var e=b.analytics;if(e){var t="object"===("undefined"==typeof e?"undefined":l(e))?e:{};i.videojs.analytics(t)}},b=n.playerOptions,E=n.videojsOptions;return console.log(b,E),g.addClass(e,"video-js"),i.videojs=(0,d.default)(e,E),f(),i.videojs.ready(function(){s(),r&&r(i)}),i}return s(t,e),c(t,[{key:"cloudinaryConfig",value:function(e){return this.videojs.cloudinary.cloudinaryConfig(e)}},{key:"currentPublicId",value:function(){return this.videojs.cloudinary.currentPublicId()}},{key:"currentSourceUrl",value:function(){return this.videojs.currentSource().src}},{key:"currentPoster",value:function(){return this.videojs.cloudinary.currentPoster()}},{key:"source",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.source(e,t)}},{key:"posterOptions",value:function(e){return this.videojs.cloudinary.posterOptions(e)}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.playlist(e,t)}},{key:"playlistByTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.playlistByTag(e,t)}},{key:"sourcesByTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.sourcesByTag(e,t)}},{key:"fluid",value:function(e){return void 0===e?this.videojs.fluid():(e?this.videojs.addClass("cld-fluid"):this.videojs.removeClass("cld-fluid"),this.videojs.fluid(e),this)}},{key:"play",value:function(){return this.videojs.play(),this}},{key:"stop",value:function(){return this.pause(),this.currentTime(0),this}},{key:"playPrevious",value:function(){return this.playlist().playPrevious(),this}},{key:"playNext",value:function(){return this.playlist().playNext(),this}},{key:"transformation",value:function(e){return this.videojs.cloudinary.transformation(e)}},{key:"sourceTypes",value:function(e){return this.videojs.cloudinary.sourceTypes(e)}},{key:"sourceTransformation",value:function(e){return this.videojs.cloudinary.sourceTransformation(e)}},{key:"autoShowRecommendations",value:function(e){return this.videojs.cloudinary.autoShowRecommendations(e)}},{key:"duration",value:function(){return this.videojs.duration()}},{key:"height",value:function(e){return e?(this.videojs.height(e),this):this.videojs.height()}},{key:"width",value:function(e){return e?(this.videojs.width(e),this):this.videojs.width()}},{key:"volume",value:function(e){return e?(this.videojs.volume(e),this):this.videojs.volume()}},{key:"mute",value:function(){return this.isMuted()||this.videojs.muted(!0),this}},{key:"unmute",value:function(){return this.isMuted()&&this.videojs.muted(!1),this}},{key:"isMuted",value:function(){return this.videojs.muted()}},{key:"pause",value:function(){return this.videojs.pause(),this}},{key:"currentTime",value:function(e){return e||0===e?(this.videojs.currentTime(e),this):this.videojs.currentTime()}},{key:"maximize",value:function(){return this.isMaximized()||this.videojs.requestFullscreen(),this}},{key:"exitMaximize",value:function(){return this.isMaximized()&&this.videojs.exitFullscreen(),this}},{key:"isMaximized",value:function(){return this.videojs.isFullscreen()}},{key:"dispose",value:function(){this.videojs.dispose()}},{key:"controls",value:function(e){return void 0===e?this.videojs.controls():(this.videojs.controls(e),this)}},{key:"loop",value:function(e){return void 0===e?this.videojs.loop():(this.videojs.controls(e),this)}},{key:"el",value:function(){return this.videojs.el()}}],[{key:"all",value:function(e){for(var n=document.querySelectorAll(e),r=[],i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(var s=0;s<n.length;s++)r.push(new(Function.prototype.bind.apply(t,[null].concat([n[s]],o))));return r}}]),t}(g.mixin(S.default));t.default=F},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,y=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,r[a]=p,i[p]=a,d=u[f=u[c=u[a]]],y=16843009*d^65537*f^257*c^16843008*a,h=257*u[p]^16843008*p,o=0;o<4;o++)t[o][a]=h=h<<24^h>>>8,n[o][p]=y=y<<24^y>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},a=null,s=function(){function e(t){r(this,e),a||(a=o()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=void 0,i=void 0,s=void 0,u=void 0,l=void 0,c=this._tables[0][4],f=this._tables[1],d=t.length,p=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=t.slice(0),l=[],this._key=[u,l],n=d;n<4*d+28;n++)s=u[n-1],(n%d===0||8===d&&n%d===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],n%d===0&&(s=s<<8^s>>>24^p<<24,p=p<<1^283*(p>>7))),u[n]=u[n-d]^s;for(i=0;n;i++,n--)s=u[3&i?n:n-4],n<=4||i<4?l[i]=s:l[i]=f[0][c[s>>>24]]^f[1][c[s>>16&255]]^f[2][c[s>>8&255]]^f[3][c[255&s]]}return i(e,[{key:"decrypt",value:function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=n^a[2],c=t^a[3],f=void 0,d=void 0,p=void 0,h=a.length/4-2,y=void 0,g=4,v=this._tables[1],m=v[0],_=v[1],b=v[2],T=v[3],E=v[4];for(y=0;y<h;y++)f=m[s>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^a[g],d=m[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&s]^a[g+1],p=m[l>>>24]^_[c>>16&255]^b[s>>8&255]^T[255&u]^a[g+2],c=m[c>>>24]^_[s>>16&255]^b[u>>8&255]^T[255&l]^a[g+3],g+=4,s=f,u=d,l=p;for(y=0;y<4;y++)i[(3&-y)+o]=E[s>>>24]<<24^E[u>>16&255]<<16^E[l>>8&255]<<8^E[255&c]^a[g++],f=s,s=u,u=l,l=c,c=f}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(170),s=r(a),u=n(99),l=r(u),c=n(345),f=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},d=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new s.default(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),u=void 0,l=void 0,c=void 0,d=void 0,p=void 0,h=void 0,y=void 0,g=void 0,v=void 0;for(u=n[0],l=n[1],c=n[2],d=n[3],v=0;v<r.length;v+=4)p=f(r[v]),h=f(r[v+1]),y=f(r[v+2]),g=f(r[v+3]),i.decrypt(p,h,y,g,a,v),a[v]=f(a[v]^u),a[v+1]=f(a[v+1]^l),a[v+2]=f(a[v+2]^c),a[v+3]=f(a[v+3]^d),u=p,l=h,c=y,d=g;return o};t.decrypt=d;var p=function(){function e(t,n,r,o){i(this,e);var a=e.STEP,s=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new l.default,this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+a),n,r,u)),d=a;d<s.length;d+=a)r=new Uint32Array([f(s[d-4]),f(s[d-3]),f(s[d-2]),f(s[d-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+a),n,r,u));this.asyncStream_.push(function(){o(null,(0,c.unpad)(u))})}return o(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var i=d(e,t,n);r.set(i,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();t.Decrypter=p,t.default={Decrypter:p,decrypt:d}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=void 0;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=null;if(""===e)return!0;try{t=JSON.parse(e)}catch(e){}return t?t:(t=Number(e),t?t:e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=r(o),s=/^(data-cld-)(\w+)/,u={},l=function(e){return i(e)},c=function(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;if(i.match(s)&&(i=a.default.camelCase(i.replace(s,"$2"))),"boolean"==typeof e[i])o=null!==o;else{var c=u[i]||l;o=c(o)}t[i]=o}return t};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendationsOverlay=t.TriangleVolumeMenuButton=t.TriangleVolumeBar=t.TitleBar=void 0;var i=n(182),o=r(i),a=n(183),s=r(a),u=n(184),l=r(u),c=n(175),f=r(c);t.TitleBar=o.default,t.TriangleVolumeBar=s.default,t.TriangleVolumeMenuButton=l.default,t.RecommendationsOverlay=f.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(181),o=r(i);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=n(178),d=r(f),p=n(180),h=r(p),y=c.default.getComponent("Component"),g=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)));return u._content=new v(e),u.addChild(u._content),u}return a(t,e),s(t,[{key:"setItems",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._content).setItems.apply(t,[e].concat(r))}},{key:"clearItems",value:function(){this._content._primary.clearItem(),this._content._secondaryContainer.clearItems()}},{key:"resizeToFit",value:function(e,t){var n=e,r=9*e/16;r>t&&(r=t,n=16*r/9),this.el().style.width=n+"px"}},{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-content"})}}]),t}(y),v=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)));return u._primary=new d.default(e),u._secondaryContainer=new h.default(e),u.addChild(u._primary),u.addChild(u._secondaryContainer),u}return a(t,e),s(t,[{key:"setItems",value:function(e){var t;this._primary.setItem(e);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._secondaryContainer).setItems.apply(t,r)}},{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"aspect-ratio-content"})}}]),t}(y);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=c.default.getComponent("ClickableComponent"),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-recommendations-overlay-hide vjs-icon-close"});return e}},{key:"handleClick",value:function(){this.options_.clickHandler()}}]),t}(f);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=n(69),d=r(f),p=n(102),h=r(p),y=n(101),g=r(y),v=c.default.dom||c.default,m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"setItem",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setItem",this).call(this,e);var n=this.source.info();this.setTitle(n.title),this.setSubtitle(n.subtitle),this.setDescription(n.description)}},{key:"setPoster",value:function(e){this.poster.style.backgroundImage="url('"+e+"')"}},{key:"setTitle",value:function(e){g.default.setText(this.title,e)}},{key:"setSubtitle",value:function(e){g.default.setText(this.subtitle,e)}},{key:"setDescription",value:function(e){g.default.setText(this.description,e)}},{key:"clearItem",value:function(){this.setTitle(""),this.setSubtitle(""),this.setDescription(""),this.poster.style.backgroundImage=null}},{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-primary"});return this.poster=v.createEl("div",{className:"vjs-recommendations-overlay-item-primary-image"}),this.title=v.createEl("h2"),this.title.innerHTML="",this.subtitle=v.createEl("h3"),this.subtitle.innerHTML="",this.description=v.createEl("p"),this.description.innerHTML="",this.content=v.createEl("div",{className:"vjs-recommendations-overlay-item-info vjs-recommendations-overlay-item-primary-content"}),this.content.appendChild(this.title),this.content.appendChild(this.subtitle),this.content.appendChild(this.description),e.appendChild(this.poster),e.appendChild(this.content),(0,d.default)(this.content,{minFont:8}),e}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=n(102),d=r(f),p=c.default.dom||c.default,h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"setItem",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setItem",this).call(this,e),this.setDuration("")}},{key:"setPoster",value:function(e){this.el().style.backgroundImage="url('"+e+"')"}},{key:"setDuration",value:function(e){this.duration.innerText=e}},{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-secondary"});this.title=p.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-title"}),this.title.innerHTML="",this.duration=p.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-duration"}),this.duration.innerHTML="";var n=p.createEl("div",{className:"vjs-recommendations-overlay-item-info"});return n.appendChild(this.title),n.appendChild(this.duration),e.appendChild(n),e}},{key:"handleClick",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.action()}}]),t}(d.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=n(69),d=r(f),p=n(179),h=r(p),y=c.default.getComponent("Component"),g=function(e){
function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"setItems",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.clearItems(),n&&n.forEach(function(t){var n=new h.default(e.player());n.setItem(t),e.addChild(n),(0,d.default)(n.el(),{minFont:10,fontRatio:25})})}},{key:"clearItems",value:function(){for(var e=this.children().length,t=0;t<e;++t)this.removeChild(this.children()[0])}},{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item-secondary-container"})}}]),t}(y);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(2),f=r(c),d=n(69),p=r(d),h=n(111),y=n(176),g=r(y),v=n(177),m=r(v);n(320);var _=.85,b=4,T=f.default.getComponent("Component"),E=function(e){function t(e,n){var r;o(this,t);for(var s=arguments.length,u=Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];var c=a(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(u)));return c._content=new g.default(e),c.addChild(c._content),c.addChild(new(Function.prototype.bind.apply(m.default,[null].concat([e,{clickHandler:function(){c.close()}}],u)))),c._resizeHandler=null,c.on(e,"recommendationschanged",function(e,t){c.setItems.apply(c,i(t.items))}),c.on(e,"recommendationsshow",c.open),c.on(e,"recommendationshide",c.close),c.on(e,"sourcechanged",function(){c.clearItems(),c.close()}),c}return s(t,e),u(t,[{key:"open",value:function(){this.player().controls(!1),this.el().style.visibility="visible"}},{key:"clearItems",value:function(){this._content.clearItems()}},{key:"close",value:function(){this.el().style.visibility="hidden",this.player().controls(!0)}},{key:"createEl",value:function(){var e=this,n=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay"});return f.default.addClass(n,"vjs-recommendations-overlay"),this._resizeHandler=function(){e._content.resizeToFit(e.width()*_,e.height()*_)},(0,h.addResizeListener)(n,this._resizeHandler),(0,p.default)(n,{minFont:14,fontRatio:60}),n}},{key:"setItems",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r=r.slice(0,b-1),(t=this._content).setItems.apply(t,[e].concat(i(r)))}},{key:"handleClick",value:function(){this.stopPropagation()}},{key:"dispose",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this),(0,h.removeResizeListener)(this.el(),this._resizeHandler)}}]),t}(T);f.default.registerComponent("recommendationsOverlay",E),t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l);n(318);var f=n(101),d=r(f),p=c.default.dom||c.default,h=c.default.getComponent("Component"),y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.on(e,"cldsourcechanged",function(e,t){var n=t.source;return r.setItem(n)}),r.setItem=function(e){var t=e.info();r.setTitle(t.title),r.setSubtitle(t.subtitle)},r.setTitle=function(e){return d.default.setText(r.titleEl,e),u(),e},r.setSubtitle=function(e){return d.default.setText(r.subtitleEl,e),u(),e};var a=function(){return r.titleEl.innerText},s=function(){return r.subtitleEl.innerText},u=function(){return a()||s()?void r.show():void r.hide()};return r}return a(t,e),s(t,[{key:"createEl",value:function(){this.titleEl=p.createEl("div",{className:"vjs-title-bar-title"}),this.subtitleEl=p.createEl("div",{className:"vjs-title-bar-subtitle"});var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{append:this.titleEl,className:"vjs-title-bar"});return e.appendChild(this.titleEl),e.appendChild(this.subtitleEl),e}}]),t}(h);c.default.registerComponent("titleBar",y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u);n(319);var c=l.default.dom||l.default,f=l.default.getComponent("VolumeBar"),d=l.default.getComponent("Slider"),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"createEl",value:function(){var e=c.createEl("div",{className:"vjs-triangle-volume-bar-background"});this.level=c.createEl("div",{className:"vjs-triangle-volume-bar-level"});var t=c.createEl("div",{className:"vjs-triangle-volume-bar-container"});this.bar=this,t.appendChild(e),t.appendChild(this.level);var n=d.prototype.createEl.call(this,"div",{className:"vjs-triangle-volume-bar vjs-control"});return l.default.removeClass(n,"vjs-slider"),n.appendChild(t),n}},{key:"width",value:function(){return this.el().offsetWidth}},{key:"height",value:function(){return this.el().offsetHeight}},{key:"update",value:function(){var e=this.getPercent();("number"!=typeof e||e<0||e===1/0)&&(e=0),this.level.style.clip="rect(0px, "+e*this.width()+"px, "+this.height()+"px, 0px)"}},{key:"vertical",value:function(){return!1}}]),t}(f);l.default.registerComponent("TriangleVolumeBar",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=l.default.getComponent("VolumeMenuButton"),f=l.default.getComponent("TriangleVolumeBar"),d=l.default.getComponent("Popup"),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"createPopup",value:function(){var e=new d(this.player_,{contentElType:"div"}),t=new f(this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e}}]),t}(c);l.default.registerComponent("TriangleVolumeMenuButton",p),t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={label:"About this player",href:"http://cloudinary.com/documentation/cloudinary_video_player"},i=function(e){var t=e.loop(),n=e.paused(),i=e.muted(),o=e.isFullscreen();return e.controls()?[{label:t?"Unloop":"Loop",listener:function(){e.loop(!t)}},{label:n?"Play":"Pause",listener:function(){n?e.play():e.pause()}},{label:i?"Unmute":"Mute",listener:function(){e.muted(!i)}},{label:o?"Exit Fullscreen":"Fullscreen",listener:function(){o?e.exitFullscreen():e.requestFullscreen()}},r]:[r]};t.default={skin:"dark",controls:!1,preload:!1,loop:!1,muted:!1,posterOptions:{},sourceTypes:["webm","mp4","ogv"],contextMenu:{content:i},analytics:!1,playedEventPercents:[25,50,75,100]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n={data:{},handlers:{}};return e.on=function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];return n.handlers[s]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.Player=e,s.apply(void 0,[t].concat(r))},i[a]=n.handlers[s],(t=e.videojs).on.apply(t,i)},e.one=function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];return n.handlers[s]=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.Player=e,s.apply(void 0,[t].concat(i)),delete n.handlers[s]},i[a]=n.handlers[s],(t=e.videojs).one.apply(t,i)},e.off=function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];i[a]=n.handlers[s];var u=(t=e.videojs).off.apply(t,i);return delete n.handlers[s],u},e.trigger=function(){var t;(t=e.videojs).trigger.apply(t,arguments)},e}return o(t,e),t}(e)};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new p(this,e).init()};var o=n(2),a=r(o),s=n(19),u=n(103),l=r(u),c=["play","pause","ended","volumechange","resize","error","fullscreenchange","start","videoload","percentsplayed","seek","playerload"],f={percentsplayed:{percents:[25,50,75,100]}},d={events:c,category:"Video",defaultLabel:function(e){return e.cloudinary&&e.cloudinary.currentPublicId()||e.currentSource().src}},p=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.player=t,r=a.default.mergeOptions(d,r),this.events=(0,u.normalizeEventsParam)(r.events,f);var o=(0,s.sliceProperties)(this.events,"percentsplayed","timeplayed","pause","seek");o.pause&&(delete o.pause,o.pausenoseek={});var c=new l.default(t,{events:o}),p=r.defaultLabel,h=r.category,y=null,g=null,v=null;this.init=function(){var e=function(){n.track({action:"Player Load",label:window.location.href,nonInteraction:!0})},t=function(){n.track({action:"Video Load",nonInteraction:!0})},r=function(){n.track({action:"Play"})},i=function(){g&&(n.track({action:"Start"}),g=!0)},o=function(){n.track({action:"Pause"})},a=function(){v||(n.track({action:"Ended",nonInteraction:!0}),v=!0)},s=function(){n.track({action:"Error",nonInteraction:!0})},u=function(){var e=n.player.muted()?0:n.player.volume();n.track({action:"Volume Change",value:e})},l=function(){var e="Resize - "+n.player.width()+"x"+n.player.height()+"}";n.track({action:e})},f=function(){var e=n.player.isFullscreen()?"Enter Fullscreen":"Exit Fullscreen";n.track({action:e})},d=function(e,t){var r=t.percent;n.track({action:r+" Percents Played",nonInteraction:!0})},p=function(e,t){var r=t.time;n.track({action:r+" Seconds Played",value:r,nonInteraction:!0})},h=function(e,t){var r=t.seekStart,i=t.seekEnd;n.track({action:"Seek Start",value:r}),n.track({action:"Seek End",value:i})},_=function(){n.player.currentSource().src!==y&&(m(),y=n.player.currentSource().src,n.events.videoload&&t())};n.events.play&&n.player.on("play",r.bind(n)),n.events.ended&&n.player.on("ended",a.bind(n)),n.events.volumechange&&n.player.on("volumechange",u.bind(n)),n.events.resize&&n.player.on("resize",l.bind(n)),n.events.error&&n.player.on("error",s.bind(n)),n.events.start&&n.player.on("playing",i.bind(n)),n.events.fullscreenchange&&n.player.on("fullscreenchange",f.bind(n)),n.events.percentsplayed&&c.on("percentsplayed",d.bind(n)),n.events.timeplayed&&c.on("timeplayed",p.bind(n)),n.events.pause&&c.on("pausenoseek",o.bind(n)),n.events.seek&&c.on("seek",h.bind(n)),n.events.playerload&&e(),n.player.on("loadedmetadata",_.bind(n))},this.track=function(e){var t=e.action,r=e.label,i=e.value,o=void 0===i?null:i,a=e.nonInteraction,s=void 0!==a&&a,u={eventCategory:h,eventAction:t,eventLabel:r||p(n.player),eventValue:o||Math.round(n.player.currentTime()),nonInteraction:s};window.ga("send","event",u)};var m=function(){y="",g=!1,v=!1};m()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new c(this,e).init()};var o=n(70),a=n(19),s=n(13),u=r(s),l={fraction:.5,isMuted:!0},c=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),r=(0,u.default)({},l,r),this.player=t;var s=(0,a.sliceProperties)(r,"fraction"),c=!1,f=!1,d=null,p=null;this.init=function(){m(),v()};var h=function(){window.removeEventListener("DOMContentLoaded",v,!1),window.removeEventListener("load",v,!1),window.removeEventListener("scroll",v,!1),window.removeEventListener("resize",v,!1),n.player.off("pause",d),n.player.off("play",p)},y=function(){c=!0,f=!1,n.player.pause()},g=function(){c=!1,f=!0,n.player.play()},v=function(){var e=(0,o.isElementInViewport)(n.player.el(),{fraction:s.fraction});e?n.player.paused()&&g():n.player.paused()||y()},m=function(){d=function(){n.player.waiting||c||h()},p=function(){f||h()},window.addEventListener("DOMContentLoaded",v,!1),window.addEventListener("load",v,!1),window.addEventListener("scroll",v,!1),window.addEventListener("resize",v,!1),n.player.on("pause",d),n.player.on("play",p)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(104),c=r(l),f=n(2),d=r(f),p=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{type:"next"}))}return a(t,e),s(t,[{key:"handleClick",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),this.player().cloudinary.playlist().playNext()}}]),t}(c.default);d.default.registerComponent("PlaylistNextButton",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(104),c=r(l),f=n(2),d=r(f),p=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{type:"previous"}))}return a(t,e),s(t,[{key:"handleClick",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),this.player().cloudinary.playlist().playPrevious()}}]),t}(c.default);d.default.registerComponent("PlaylistPreviousButton",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistPreviousButton=t.PlaylistNextButton=void 0;var i=n(189),o=r(i),a=n(190),s=r(a);n(321),t.PlaylistNextButton=o.default,t.PlaylistPreviousButton=s.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l);n(322);var f=c.default.dom||c.default,d=c.default.getComponent("Component"),p=c.default.getComponent("ClickableComponent"),h=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a))),l=function(){u.addClass("vjs-upcoming-video-show")},c=function(){u.removeClass("vjs-upcoming-video-show")},f=function(e){u.addClass("disable-transition"),e(),u.removeClass("disable-transition")},d=function(e,t){c(),f(function(){t.next&&u.setItem(t.next)})};return e.on("upcomingvideoshow",l),e.on("upcomingvideohide",c),e.on("playlistitemchanged",d),u}return a(t,e),s(t,[{key:"setTitle",value:function(e){var t=this.getChild("upcomingVideoOverlayContent").getChild("upcomingVideoOverlayBar").getChild("upcomingVideoOverlayTitle");t.setContent(e.info().title||e.publicId())}},{key:"setItem",value:function(e){this._source=e;var t=parseInt(window.getComputedStyle(this.el(),null).getPropertyValue("max-width"),10),n=Math.round(t*(9/16)),r={crop:"pad",background:"auto:predominant",width:t,height:n},i=this.getChild("upcomingVideoOverlayContent");this.setTitle(e),i.el().style.backgroundImage="url("+this._source.poster().url({transformation:r})+")"}},{key:"handleClick",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,event),this.player().cloudinary.playlist().playNext()}},{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video"});return e}}]),t}(p),y=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"aspect-ratio-content"})}}]),t}(d),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"setContent",value:function(e){this._contentSpan.innerText=e}},{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-control vjs-upcoming-video-title"}),n=f.createEl("div",{className:"vjs-upcoming-video-title-display",innerHTML:'<span class="vjs-control-text">Next up</span>Next up: '});return this._contentSpan=f.createEl("span",{className:"vjs-upcoming-video-title-display-label"}),n.appendChild(this._contentSpan),e.appendChild(n),e}}]),t}(d),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video-bar"});return e}}]),t}(d);h.prototype.options_={children:["upcomingVideoOverlayContent"]},c.default.registerComponent("upcomingVideoOverlay",h),y.prototype.options_={children:["upcomingVideoOverlayBar"]},c.default.registerComponent("upcomingVideoOverlayContent",y),v.prototype.options_={children:["upcomingVideoOverlayTitle","playlistNextButton"]},c.default.registerComponent("upcomingVideoOverlayBar",v),c.default.registerComponent("upcomingVideoOverlayTitle",g),t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(108),a=function(){function e(t){r(this,e),this._emitter=t,this._eventHandlers=[]}return i(e,[{key:"on",value:function(e,t){this._eventHandlers.push({type:e,handler:t}),this._emitter.on(e,t)}},{key:"one",value:function(e,t){var n=this,r=function(){t.apply(void 0,arguments),n.off(e,t)};this._eventHandlers.push({type:e,handler:t,wrapper:r}),this._emitter.one(e,t)}},{key:"off",value:function(e,t){var n=(0,o.findIndex)(this._eventHandlers,function(n){return n.type===e&&n.handler===t});if(n!==-1){var r=this._eventHandlers[n];this._emitter.off(e,r.wrapper||r.handler),this._eventHandlers.splice(n,1)}}},{key:"removeAllListeners",value:function(){var e=this;this._eventHandlers.forEach(function(t){e.off(t)})}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTRUCTOR_PARAMS=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.chainTarget=e.chainTarget||this,this.cloudinary=new P(this,e)};var u=n(36),l=r(u),c=n(110),f=r(c),d=n(107),p=r(d),h=n(19),y=n(68),g=n(13),v=r(g),m=n(50),_=n(195),b=r(_),T=n(106),E=r(T),S=n(193),w=r(S),O={transformation:{},sourceTypes:[],sourceTransformation:[],posterOptions:{}},C=t.CONSTRUCTOR_PARAMS=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations"],P=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.player=e,n=(0,v.default)({},O,n);var a=null,s=null,u=null,c=null,f=null,d=null,g=n.chainTarget,_=null,b=null,T=!1;r.source=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=(0,v.default)({},t),!e)return a;var n=null;if(e instanceof E.default)n=e;else{var i=(0,m.normalizeOptions)(e,t),o=i.publicId,s=i.options;n=r.buildSource(o,s)}if(n.recommendations()){var u=n.recommendations(),l=null,c=!1;if(t.recommendationOptions){var f=(0,h.sliceAndUnsetProperties)(t.recommendationOptions,"disableAutoShow","itemBuilder");c=f.disableAutoShow,l=f.itemBuilder}S(u,{disableAutoShow:c,itemBuilder:l})}else P();return a=n,I(),r.player.trigger("cldsourcechanged",{source:n}),g},r.buildSource=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,m.normalizeOptions)(e,t);e=n.publicId,t=n.options,t.cloudinaryConfig=(0,m.mergeCloudinaryConfig)(r.cloudinaryConfig(),t.cloudinaryConfig||{}),t.transformation=(0,m.mergeTransformation)(r.transformation(),t.transformation||{}),t.sourceTransformation=t.sourceTransformation||r.sourceTransformation(),t.sourceTypes=t.sourceTypes||r.sourceTypes(),t.poster=t.poster||A();var i=new E.default(e,t);return i},r.posterOptions=function(e){return e?(s=e,g):s},r.cloudinaryConfig=function(e){return e?(u=(0,y.getCloudinaryInstanceOf)(l.default.Cloudinary,e),console.log("conf",u.config()),g):u},r.transformation=function(e){return e?(c=(0,y.getCloudinaryInstanceOf)(l.default.Transformation,e),g):c},r.sourceTypes=function(e){return e?(f=e,g):f},r.sourceTransformation=function(e){return e?(d=e,g):d},r.on=function(){var e;return(e=_).on.apply(e,arguments)},r.one=function(){var e;return(e=_).one.apply(e,arguments)},r.off=function(){var e;return(e=_).off.apply(e,arguments)},r.autoShowRecommendations=function(e){return void 0===e?T:(T=e,g)};var S=function(e,t){var n=t.disableAutoShow,i=void 0!==n&&n,o=t.itemBuilder,a=void 0===o?null:o;if(P(),!Array.isArray(e)&&"function"!=typeof e&&!e.then)throw new Error('"recommendations" must be either an array or a function');b={},a=a||function(e){return{source:e instanceof E.default?e:r.buildSource(e),action:function(){return r.source(e)}}},b.sourceChangedHandler=function(t,n){if(M(n)){var i=function(e){if(e.length>0){var t=e.map(function(e){return a(e)});r.player.trigger("recommendationschanged",{items:t})}b.sources=e};"function"==typeof e?i(e()):e.then?e.then(i):i(e)}},r.one("sourcechanged",b.sourceChangedHandler),b.endedHandler=function(){!i&&r.autoShowRecommendations()&&r.player.trigger("recommendationsshow")},r.on("ended",b.endedHandler)},P=function(){b&&(r.off("sourcechanged",b.sourceChangedHandler),r.off("ended",b.endedHandler),delete b.endedHandler,delete b.sourceChangedHandler),b=null},I=function(){var e=r.source();e.poster()&&r.player.poster(e.poster().url()),r.player.src(e.generateSources())},A=function(){var e=(0,v.default)({},r.posterOptions());return e.transformation=(0,y.getCloudinaryInstanceOf)(l.default.Transformation,e.transformation||{}),r.player.width()>0&&r.player.height()>0&&e.transformation.width(r.player.width()).height(r.player.height()).crop("limit"),e},M=function(e){return r.source()&&r.source().contains(e.to)},k=function(){var e=function(e,t){M(t)||(r._source=void 0)};r.on("sourcechanged",e)};_=new w.default(r.player);var x=h.sliceAndUnsetProperties.apply(void 0,[n].concat(C));return(0,p.default)(r,x),k(),r}return a(t,e),s(t,[{key:"currentPublicId",value:function(){return this.source()&&this.source().publicId()}},{key:"currentPoster",value:function(){return this.source()&&this.source().poster()}},{key:"dispose",value:function(){this._playerEvents.removeAllListeners()}}]),t}((0,f.default)(b.default))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(197),l=r(u),c=n(348),f=r(c),d=n(324),p=r(d),h=n(19),y=n(202),g=n(13),v=r(g);n(191),n(192);var m=(0,p.default)(f.default),_=m.fetch,b={format:"json",resource_type:"video",type:"list"},T=function(e){return function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=(0,h.sliceProperties)(n,"chainTarget").chainTarget,s=null,u=null;r.playlist=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?s:(r.playlist()&&f(),c(e,t),a)};var c=function(t,n){s=new l.default(r,t,n),u=d(),e.addClass("vjs-playlist")},f=function(){e.removeClass("vjs-playlist");var t=r.playlist();s=void 0,t.dispose(),r.off("sourcechanged",u)},d=function(){var e=function(e,t){r.playlist().currentSource().contains(t.to)||f()};return r.on("sourcechanged",e),e};return r}return a(t,e),s(t,[{key:"playlistByTag",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.sourcesByTag(e,n).then(function(e){return t.playlist(e,n)})}},{key:"sourcesByTag",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.cloudinaryConfig().url(e,b);return _(r).then(function(e){return e.json()}).then(function(e){var r=(0,y.normalizeJsonResponse)(e.resources);n.sorter&&r.sort(n.sorter);var i=r.map(function(e){var r=n.sourceParams||{};"function"==typeof r&&(r=r(e));var i=e.context&&e.context.custom||{},o=(0,v.default)({info:i},r,{publicId:e.publicId});return t.buildSource(o)});return i})}}]),t}(e)};t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(105),u=r(s),l=n(50),c=n(13),f=r(c),d=["jpg","png","gif","webp"],p=RegExp(".("+d.join("|")+")$$"),h={resource_type:"image",type:"upload",transformation:[]},y=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=(0,l.normalizeOptions)(e,n);return e=r.publicId,n=r.options,e=e.replace(p,""),n=(0,f.default)({},h,n),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),t}(u.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(106),s=r(a),u=n(51),l=0,c=10,f=1,d=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.repeat,d=void 0!==a&&a,p=o.autoAdvance,h=void 0!==p&&p,y=o.presentUpcoming,g=void 0!==y&&y;i(this,e);var v=t,m=[],_=null,b=null,T=null,E={},S=null;this.enqueue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof s.default?e:x(e,t);return m.push(n),n},this.currentIndex=function(e){if(void 0===e)return _;if(e>=n.length()||e<0)throw new Error("Invalid playlist index.");_=e;var t=n.currentSource(),r=M(t);t.recommendations()||t.recommendations(k(t)),v.source(t,{recommendationOptions:{disableAutoShow:!0,itemBuilder:r}});var i={playlist:n,current:t,next:n.next()};return n.player().trigger("playlistitemchanged",i),A(),t},this.presentUpcoming=function(e){if(T=T||{},void 0===e)return T.delay;if(e===!0)e=c;else if(e===!1)e=!1;else if(!(0,u.isInteger)(e)||e<0)throw new Error("presentUpcoming 'delay' must be either a boolean or a positive integer.");return T.delay=e,C(),T.delay},this.autoAdvance=function(e){if(b=b||{},void 0===e)return b.delay;if(e===!0)e=l;else if(e===!1)e=!1;else if(!(0,u.isInteger)(e)||e<0)throw new Error("Auto advance 'delay' must be either a boolean or a positive integer.");return b.delay=e,w(),b.delay},this.list=function(){return m},this.player=function(){return v.player},this.dispose=function(){n.player().trigger("upcomingvideohide"),O(),P(),I()};var w=function(){O();var e=b.delay;if(e!==!1){var t=function(){b.timeout=setTimeout(function(){n.playNext()},1e3*e)};b={delay:e,trigger:t},v.on("ended",b.trigger)}},O=function(){b||(b={}),b.timeout&&clearTimeout(b.timeout),b.trigger&&v.off("ended",b.trigger),b.timeout=null,b.trigger=null},C=function(){P();var e=T.delay;e!==!1&&(T.trigger=function(){var e=n.player().currentTime(),t=n.player().duration(),r=t-e;r<f+.5?T.showTriggered&&(n.player().trigger("upcomingvideohide"),T.showTriggered=!1):r<=T.delay&&!T.showTriggered?(n.player().trigger("upcomingvideoshow"),T.showTriggered=!0):r>T.delay&&T.showTriggered&&(n.player().trigger("upcomingvideohide"),T.showTriggered=!1)},v.on("timeupdate",T.trigger))},P=function(){T||(T={}),T.trigger&&v.off("timeupdate",T.trigger),T.trigger=null,T.showTriggered=!1},I=function(){S&&v.off("ended",S)},A=function(){I(),S=function(){n.autoAdvance()===!1&&v.autoShowRecommendations()&&n.player().trigger("recommendationsshow")},v.on("ended",S)},M=function(e){var t=E[e.objectId];if(!e.recommendations()||t&&e.recommendations()===t)return function(e){return{source:e,action:function(){return n.playItem(e)}}}},k=function(e){var t=E[e.objectId];return t?t:(E[e.objectId]=function(){for(var t=n.list().indexOf(e),r=[],i=Math.min(4,n.length()-1);r.length<i&&(t=n.nextIndex(t),t!==-1);){var o=n.list()[t];r.push(o)}return r},E[e.objectId])},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.buildSource(e,t)};r.forEach(function(e){return n.enqueue(e)}),this.repeat(d),this.autoAdvance(h),this.presentUpcoming(g),this.currentIndex(0)}return o(e,[{key:"playItem",value:function(e){var t=this.list().indexOf(e);if(t===-1)throw new Error("Invalid playlist item.");this.playAtIndex(t)}},{key:"playAtIndex",value:function(e){return this.currentIndex(e),this.player().play(),this.currentSource()}},{key:"currentSource",value:function(){return this.list()[this.currentIndex()]}},{key:"removeAt",value:function(e){if(e>=this.length()||e<0)throw new Error("Invalid playlist index.");return this._sources.splice(e,1),this}},{key:"repeat",value:function(e){return void 0===e?this._repeat:(this._repeat=!!e,this._repeat)}},{key:"first",value:function(){return this.list()[0]}},{key:"last",value:function(){return this.list()[this.length()-1]}},{key:"next",value:function(){var e=this.nextIndex();return e===-1?null:this.list()[e]}},{key:"nextIndex",value:function e(t){if(t=void 0!==t?t:this.currentIndex(),t>=this.length()||t<0)throw new Error("Invalid playlist index.");var n=t===this.length()-1,e=t+1;if(n){if(!this.repeat())return-1;e=0}return e}},{key:"previousIndex",value:function(){return this.isFirst()?-1:this.currentIndex()-1}},{key:"playFirst",value:function(){return this.playAtIndex(0)}},{key:"playLast",value:function(){var e=this.list().length-1;return this.playAtIndex(e)}},{key:"isLast",value:function(){return this.currentIndex()>=this.length()-1}},{key:"isFirst",value:function(){return 0===this.currentIndex()}},{key:"length",value:function(){return this.list().length}},{key:"playNext",value:function(){var e=this.nextIndex();return e===-1?null:this.playAtIndex(e)}},{key:"playPrevious",value:function(){var e=this.previousIndex();return e===-1?null:this.playAtIndex(e)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=c.default.getComponent("MenuItem"),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"handleClick",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.options_.listener()}}]),t}(f);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(2),c=r(l),f=n(198),d=r(f),p=c.default.getComponent("Menu"),h=c.default.dom||c.default,y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.dispose=c.default.bind(r,r.dispose),n.content.forEach(function(t){var n=null;n="function"==typeof t.listener?t.listener:"string"==typeof t.href?function(){return window.open(t.href)}:function(){return!0};var i=r;r.addItem(new d.default(e,{label:t.label,listener:c.default.bind(e,function(){n(this),window.setTimeout(function(){i.dispose()},1)})}))}),r}return a(t,e),s(t,[{key:"createEl",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this);return h.addClass(e,"vjs-context-menu-ui"),e.style.left=this.options_.position.left+"px",e.style.top=this.options_.position.top+"px",e}}]),t}(p);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new h(this,e).init()};var o=n(2),a=r(o);n(323),n(409);var s=n(199),u=r(s),l=n(70),c=n(19),f=n(13),d=r(f),p={showNativeOnRecurringEvent:!1},h=function e(t,n){var r=this;if(i(this,e),!Array.isArray(n.content)&&"function"!=typeof n.content)throw new Error('"content" required');n=(0,d.default)({},p,n),this.player=t;var o=(0,c.sliceProperties)(n,"content","showNativeOnRecurringEvent");this.init=function(){r.player.contextmenu(),r.player.on("vjs-contextmenu",f),r.player.ready(function(){return r.player.addClass("vjs-context-menu")})};var s=function(e){var t=(0,l.getPointerPosition)(r.player.el(),e),n=r.player.el().getBoundingClientRect();return{left:Math.round(n.width*t.x),top:Math.round(n.height-n.height*t.y)}},f=function(e){if(!r.menu||(r.menu.dispose(),!o.showNativeOnRecurringEvent)){o.showNativeOnRecurringEvent&&(r.player.contextmenu.options.cancel=!1),e.preventDefault();var t=o.content;"function"==typeof t&&(t=t(r.player)),r.menu=new u.default(r.player,{content:t,position:s(e)});var n=function(e){("click"!==e.type||3!==e.which&&2!==e.button)&&r.menu.dispose()};r.menu.on("dispose",function(){r.player.contextmenu.options.cancel=!0,r.player.removeChild(r.menu),a.default.off(document,["click","tap"],n),delete r.menu}),r.player.addChild(r.menu),a.default.on(document,["click","tap"],n)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.analytics=t.cloudinary=t.contextMenu=t.autoplayOnScroll=void 0,n(73),n(411),n(423),n(436),n(433);var i=n(188),o=r(i),a=n(200),s=r(a),u=n(194),l=r(u),c=n(187),f=r(c);t.autoplayOnScroll=o.default,t.contextMenu=s.default,t.cloudinary=l.default,t.analytics=f.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeJsonResponse=void 0;var r=n(51),i=n(112),o=n(204),a=["created_at","updated_at"],s=function e(t){var n={};return(0,r.isPlainObject)(t)?(Object.keys(t).reduce(function(n,r){var s=(0,i.camelize)(r);return a.includes(r)?n[s]=new Date((0,o.parseISO8601)(t[r])):n[s]=e(t[r]),n},n),n):Array.isArray(t)?t.map(function(t){return e(t)}):t};t.normalizeJsonResponse=s},function(e,t,n){"use strict";function r(e,t){t||(t=Object.getPrototypeOf(e));var n=Object.getOwnPropertyNames(t),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=t[u];"function"==typeof l&&(e[u]=t[u].bind(e))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[1,4,5,6,7,10,11],i=function(e){var t=0,n=0,i=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e)){for(var o,a=0;o=r[a];++a)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])}else t=NaN;return t};t.parseISO8601=i},function(e,t,n){"use strict";function r(e){var t,n,r;for(t=[],r=0,n=e.length;r<n;r+=1)e[r].isRoot?t.push("root"):t.push(e[r].name);var i=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},o=function(e,t,n){var r,o,a,s,u;if(null!==e&&0!==e.length)for(r=0,o=e.length;r<o;r+=1)a=e[r],t.hasOwnProperty(a.name)&&(n.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],u=n[a.name],"object"==typeof s&&"object"==typeof u?i(s,u):null!=a.mergeFunction?n[a.name]=a.mergeFunction(s,u):n[a.name]=s+u):n[a.name]=t[a.name])},a=function e(t,n){var r,i,a,s,u,l,c,f=t;if(null!==f.children&&0!==f.children.length)for(r=0,i=f.children.length;r<i;r+=1)if(l=f.children[r],n.hasOwnProperty(l.name))if(l.isArray)for(u=n[l.name+"_asArray"],a=0,s=u.length;a<s;a+=1)c=u[a],o(f.properties,n,c),e(l,c);else c=n[l.name],o(f.properties,n,c),e(l,c)},s=function n(r){var i,o,s,u,l,c,f;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,o=t.length;i<o;i+=1)"root"===t[i]&&(l=e[i],c=r,a(l,c));for(u in r)if(r.hasOwnProperty(u)&&"__children"!=u){if(s=t.indexOf(u),s!==-1)if(l=e[s],l.isArray)for(f=r[u+"_asArray"],i=0,o=f.length;i<o;i+=1)c=f[i],a(l,c);else c=r[u],a(l,c);n(r[u])}return r};return{run:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(52),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){Y=-1,$=0,J=NaN,U.on(f.default.INITIALIZATION_LOADED,L,K),U.on(f.default.SEGMENTS_LOADED,j,K)}function n(t){Z=t,Q=Z.getType(),X=Z.isDynamic(),ee=(0,w.default)(N).create(e,X)}function r(){return Z}function i(e){$=e}function o(){return $}function s(){return Y}function c(){return J}function d(){ee=null,$=0,J=NaN,W=NaN,Y=-1,X=null,Q=null,Z=null,U.off(f.default.INITIALIZATION_LOADED,L,K),U.off(f.default.SEGMENTS_LOADED,j,K)}function h(e){return e?e.split("$$").join("$"):e}function y(e,t){if(null===t||null===e||e.indexOf("$RepresentationID$")===-1)return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function g(e,t,n){var r,i,o=G.resolve(n.path);return o&&t!==o.url&&B.isRelative(t)?(r=o.url,i=o.serviceLocation,t&&(r=B.resolve(t,r))):r=t,!B.isRelative(r)&&(e.url=r,e.serviceLocation=i,!0)}function m(e,t){var n=new a.default,r=e.adaptation.period,i=r.start;if(n.mediaType=t,n.type=l.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,n.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(i,r.mpd,X),n.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(i+r.duration,r.mpd,X),n.quality=e.index,n.mediaInfo=Z.getMediaInfo(),g(n,e.initialization,e))return n}function b(e){if(!e)return null;var t=m(e,Q);return t}function S(e){var t=!1;if(X||Y!==e.availableSegmentsNumber){var n=(0,E.getSegmentByIndex)(Y,e);if(n){var r=n.presentationStartTime-e.adaptation.period.start,i=e.adaptation.period.duration;F(e.segmentInfoType+": "+r+" / "+i),t=("SegmentTimeline"!==e.segmentInfoType||!X)&&r>=i}}else t=!0;return t}function C(e){return ee.getSegments(e,W,Y,P)}function P(e,t){if(e.segments=t,t&&t.length>0&&(J=isNaN(J)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,J)),X&&isNaN(V.getExpectedLiveEdge())){var n=t[t.length-1],r=n.presentationStartTime,i=z.getMetricsFor("stream");V.setExpectedLiveEdge(r),z.updateManifestUpdateInfo(q.getCurrentManifestUpdate(i),{presentationStartTime:r})}}function I(e){if(!e)throw new u.default("no representation");return e.segments=null,C(e),e}function A(e,t){var n,r=T.default.hasInitialization(e),i=T.default.hasSegments(e);return e.segmentDuration||e.segments||I(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=V.calcSegmentAvailabilityRange(e,X),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(n=new u.default(O,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void U.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:n})):(t||(Y=-1),e.segmentDuration&&I(e),r||H.loadInitialization(e),i||H.loadSegments(e,Q,e.indexRange),void(r&&i&&U.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e})))}function M(e,t,n){var r,i,o,a,s,u=t.segments,l=u?u.length:null,c=-1;if(u&&l>0)for(s=0;s<l;s++)if(i=u[s],o=i.presentationStartTime,a=i.duration,r=void 0===n||null===n?a/2:n,e+r>=o&&e-r<o+a){c=i.availabilityIdx;break}return c}function k(e){if(null===e||void 0===e)return null;var t=new a.default,n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,E.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,E.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,E.replaceTokenForTemplate)(i,"Bandwidth",r),i=y(i,n.id),i=h(i),t.mediaType=Q,t.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=Z.getMediaInfo(),t.adaptationIndex=n.adaptation.index,g(t,i,n)?t:void 0}function x(e,t,n){var r,i,o,s=Y,u=!!n&&n.keepIdx,l=n?n.timeThreshold:null,c=!(!n||!n.ignoreIsFinished);return e?(W!==t&&(W=t,F("Getting the request for "+Q+" time : "+t)),C(e),Y=M(t,e,l),Y<0&&(C(e),Y=M(t,e,l)),Y>0&&F("Index for "+Q+" time "+t+" is "+Y),o=!c&&S(e),o?(r=new a.default,r.action=a.default.ACTION_COMPLETE,r.index=Y,r.mediaType=Q,r.mediaInfo=Z.getMediaInfo(),F("Signal complete.",r)):(i=(0,E.getSegmentByIndex)(Y,e),r=k(i)),u&&s>=0&&(Y="SegmentTimeline"===e.segmentInfoType&&X?Y:s),r):null}function R(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},x(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function D(e){var t,n,r;return e&&Y!==-1?(W=null,Y++,F("Getting the next request at index: "+Y),r=S(e),r?(t=new a.default,t.action=a.default.ACTION_COMPLETE,t.index=Y,t.mediaType=Q,t.mediaInfo=Z.getMediaInfo(),F("Signal complete.")):(C(e),n=(0,E.getSegmentByIndex)(Y,e),t=k(n),!n&&X&&Y--),t):null}function L(e){var t=e.representation;t.segments&&U.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function j(e){if(!e.error&&Q===e.mediaType){var t,n,r,i,o=e.segments,a=e.representation,s=[],u=0;for(t=0,n=o.length;t<n;t++)r=o[t],i=(0,E.getTimeBasedSegment)(V,X,a,r.startTime,r.duration,r.timescale,r.media,r.mediaRange,u),s.push(i),i=null,u++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},a.availableSegmentsNumber=n,P(a,s),T.default.hasInitialization(a)&&U.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:a})}}var N=this.context,F=(0,v.default)(N).getInstance().log,U=(0,p.default)(N).getInstance(),B=(0,_.default)(N).getInstance(),H=e.segmentBaseLoader,V=e.timelineConverter,q=e.dashMetrics,z=e.metricsModel,G=e.baseURLController,K=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0;return K={initialize:n,getStreamProcessor:r,getInitRequest:b,getSegmentRequestForTime:x,getNextSegmentRequest:D,generateSegmentRequestForTime:R,updateRepresentation:A,setCurrentTime:i,getCurrentTime:o,getCurrentIndex:s,getEarliestTime:c,reset:d},t(),K}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),s=n(17),u=r(s),l=n(15),c=n(3),f=r(c),d=n(5),p=r(d),h=n(0),y=r(h),g=n(6),v=r(g),m=n(42),_=r(m),b=n(75),T=r(b),E=n(54),S=n(221),w=r(S),O=1;i.__dashjs_factory_name="DashHandler";var C=y.default.getClassFactory(i);C.SEGMENTS_UNAVAILABLE_ERROR_CODE=O,t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){b=(0,d.default)(p).getInstance(),T=(0,m.default)(p).getInstance(),w=(0,a.default)(p).getInstance(),I=(0,P.default)(p).create({errHandler:b,metricsModel:C,requestModifier:w})}function t(e){e.baseURLController&&(A=e.baseURLController),e.metricsModel&&(C=e.metricsModel)}function n(e,t){var r=null,i=null,o=A.resolve(e.path),a=t||{init:!0,url:o?o.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};y("Start searching for initialization.");var u=l(a),c=function(t){a.bytesLoaded=a.range.end,i=T.parse(t),r=s(i),r?(e.range=r,v.trigger(h.default.INITIALIZATION_LOADED,{representation:e})):(a.range.end=a.bytesLoaded+a.bytesToLoad,n(e,a))},f=function(){v.trigger(h.default.INITIALIZATION_LOADED,{representation:e})};I.load({request:u,success:c,error:f}),y("Perform init search: "+a.url)}function r(e,t,n,i,a){if(n&&(void 0===n.start||void 0===n.end)){var s=n?n.toString().split("-"):null;n=s?{start:parseFloat(s[0]),end:parseFloat(s[1])}:null}a=a?a:f;var u=null,c=null,d=!!n,p=A.resolve(e.path),h={init:!1,url:p?p.url:void 0,range:d?n:{start:0,end:1500},searching:!d,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500},g=l(h),v=function(n){var i=h.bytesToLoad,s=n.byteLength;if(h.bytesLoaded=h.range.end-h.range.start,u=T.parse(n),c=u.getBox("sidx"),c&&c.isComplete){var l,f,d=c.references;if(null!==d&&void 0!==d&&d.length>0&&(l=1===d[0].reference_type),l){y("Initiate multiple SIDX load."),h.range.end=h.range.start+c.size;var p,g,v,m,_,b=[],E=0,S=(c.offset||h.range.start)+c.size,w=function(n){n?(b=b.concat(n),E++,E>=g&&a(b,e,t)):a(null,e,t)};for(p=0,g=d.length;p<g;p++)v=S,m=S+d[p].referenced_size-1,S+=d[p].referenced_size,_={start:v,end:m},r(e,null,_,h,w)}else y("Parsing segments from SIDX."),f=o(c,h),a(f,e,t)}else{if(c)h.range.start=c.offset||h.range.start,h.range.end=h.range.start+(c.size||i);else{if(s<h.bytesLoaded)return void a(null,e,t);var O=u.getLastBox();O&&O.size?(h.range.start=O.offset+O.size,h.range.end=h.range.start+i):h.range.end+=i}r(e,t,h.range,h,a)}},m=function(){a(null,e,t)};I.load({request:g,success:v,error:m}),y("Perform SIDX load: "+h.url)}function i(){I.abort(),I=null,b=null,T=null,w=null}function o(e,t){for(var n,r,i,o,a=e.references,s=a.length,l=e.timescale,c=e.earliest_presentation_time,f=t.range.start+e.offset+e.first_offset+e.size,d=[],p=0;p<s;p++)i=a[p].subsegment_duration,o=a[p].referenced_size,n=new u.default,n.duration=i,n.startTime=c,n.timescale=l,r=f+o-1,n.mediaRange=f+"-"+r,d.push(n),c+=i,f+=o;return d}function s(e){var t,n,r=e.getBox("ftyp"),i=e.getBox("moov"),o=null;return y("Searching for initialization."),i&&i.isComplete&&(t=r?r.offset:i.offset,n=i.offset+i.size-1,o=t+"-"+n,y("Found the initialization.  Range: "+o)),o}function l(e){if(e.url){var t=new O.default;return t.type=e.init?S.HTTPRequest.INIT_SEGMENT_TYPE:S.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}}function f(e,t,n){e?v.trigger(h.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):v.trigger(h.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new c.default(null,"error loading segments",null)})}var p=this.context,y=(0,E.default)(p).getInstance().log,v=(0,g.default)(p).getInstance(),_=void 0,b=void 0,T=void 0,w=void 0,C=void 0,I=void 0,A=void 0;return _={setConfig:t,initialize:e,loadInitialization:n,loadSegments:r,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),a=r(o),s=n(76),u=r(s),l=n(17),c=r(l),f=n(24),d=r(f),p=n(3),h=r(p),y=n(5),g=r(y),v=n(84),m=r(v),_=n(0),b=r(_),T=n(6),E=r(T),S=n(15),w=n(33),O=r(w),C=n(39),P=r(C);i.__dashjs_factory_name="SegmentBaseLoader",t.default=b.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){w={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function t(){C=(0,g.default)(y).getInstance(),P=(0,m.default)(y).getInstance(),A=(0,O.default)(y).create({errHandler:C,metricsModel:I,requestModifier:P})}function n(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");M=e.baseURLController,I=e.metricsModel}function r(e){var t=[],n=void 0,r=void 0,i=void 0,o=(0,c.default)(y).create({data:e}),a=void 0;for(o.consumeTag(w.Segment.Cues),r=o.getMatroskaCodedNum();o.moreData()&&o.consumeTagAndSize(w.Segment.Cues.CuePoint,!0);){for(n={},n.CueTime=o.parseTag(w.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTagAndSize(w.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(i={},i.Track=o.parseTag(w.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(w.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.getPos()+4>r||!o.consumeTag(w.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?n.CueTracks.push(i):(a=o.getMatroskaCodedNum(),i.BlockNumber=o.getMatroskaUint(a),n.CueTracks.push(i))}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function i(e,t,n,i){var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0;for(a=r(e),s=[],l=0,c=a.length;l<c;l+=1)u=new b.default,
o=0,o=l<a.length-1?a[l+1].CueTime-a[l].CueTime:i-a[l].CueTime,u.duration=o,u.startTime=a[l].CueTime,u.timescale=1e3,f=a[l].CueTracks[0].ClusterPosition+t,d=l<a.length-1?a[l+1].CueTracks[0].ClusterPosition+t-1:n-1,u.mediaRange=f+"-"+d,s.push(u);return v("Parsed cues: "+s.length+" cues."),s}function o(e,t,n,r){var o=(0,c.default)(y).create({data:e}),a=void 0,s=void 0,u=n.split("-"),l=null,f={url:t,range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:l},p=void 0,h=void 0;for(v("Parse EBML header: "+f.url),o.skipOverElement(w.EBML),o.consumeTag(w.Segment),p=o.getMatroskaCodedNum(),p+=o.getPos(),h=o.getPos();o.moreData()&&!o.consumeTagAndSize(w.Segment.Info,!0);)if(!(o.skipOverElement(w.Segment.SeekHead,!0)||o.skipOverElement(w.Segment.Tracks,!0)||o.skipOverElement(w.Segment.Cues,!0)||o.skipOverElement(w.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){var g=o.getMatroskaCodedNum(!0),m=o.getMatroskaCodedNum();switch(g){case w.Segment.Info.Duration.tag:a=o[w.Segment.Info.Duration.parse](m);break;default:o.setPos(o.getPos()+m)}}l=d(f);var _=function(e){s=i(e,h,p,a),r(s)},b=function(){v("Download Error: Cues "+f.url),r(null)};A.load({request:l,success:_,error:b}),v("Perform cues load: "+f.url+" bytes="+f.range.start+"-"+f.range.end)}function s(e,t){var n=null,r=M.resolve(e.path),i=r?r.url:void 0,o=e.range.split("-"),s=t||{range:{start:parseFloat(o[0]),end:parseFloat(o[1])},request:n,url:i,init:!0};v("Start loading initialization."),n=d(s);var u=function(){_.trigger(a.default.INITIALIZATION_LOADED,{representation:e})},l=function(){_.trigger(a.default.INITIALIZATION_LOADED,{representation:e})};A.load({request:n,success:u,error:l}),v("Perform init load: "+s.url)}function l(e,t,n,r){var i=null,a=M.resolve(e.path),s=a?a.url:void 0,u=8192,l={bytesLoaded:0,bytesToLoad:u,range:{start:0,end:u},request:i,url:s,init:!1};r=r?r:f,i=d(l),v("Parsing ebml header");var c=function(i){o(i,s,n,function(n){r(n,e,t)})},p=function(){r(null,e,t)};A.load({request:i,success:c,error:p})}function f(e,t,n){e?_.trigger(a.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):_.trigger(a.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function d(e){var t=new S.default;return t.type=e.init?T.HTTPRequest.INIT_SEGMENT_TYPE:T.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function p(){C=null,P=null,v=null}var y=this.context,v=(0,h.default)(y).getInstance().log,_=(0,u.default)(y).getInstance(),E=void 0,w=void 0,C=void 0,P=void 0,I=void 0,A=void 0,M=void 0;return E={setConfig:n,initialize:t,loadInitialization:s,loadSegments:l,reset:p},e(),E}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),s=n(5),u=r(s),l=n(291),c=r(l),f=n(0),d=r(f),p=n(6),h=r(p),y=n(24),g=r(y),v=n(60),m=r(v),_=n(76),b=r(_),T=n(15),E=n(33),S=r(E),w=n(39),O=r(w);i.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){V=null,q=-1,z=!0,G=[],W=(0,d.default)(U).getInstance(),Q=(0,g.default)(U).getInstance(),$=(0,h.default)(U).getInstance(),J=(0,m.default)(U).getInstance(),Z=(0,b.default)(U).getInstance(),ee=(0,w.default)(U).getInstance(),te=(0,c.default)(U).getInstance(),ne=(0,a.default)(U).getInstance(),re=(0,u.default)(U).getInstance(),ie=(0,E.default)(U).getInstance(),B.on(M.default.QUALITY_CHANGE_REQUESTED,N,H),B.on(M.default.REPRESENTATION_UPDATED,R,H),B.on(M.default.WALLCLOCK_TIME_UPDATED,D,H),B.on(M.default.BUFFER_LEVEL_UPDATED,L,H)}function t(e){e.abrController&&(W=e.abrController)}function n(e){Y=e,X=Y.getIndexHandler()}function r(){return Y}function i(){return V}function o(){return q}function s(){return z}function l(){return K}function f(){B.off(M.default.QUALITY_CHANGE_REQUESTED,N,H),B.off(M.default.REPRESENTATION_UPDATED,R,H),B.off(M.default.WALLCLOCK_TIME_UPDATED,D,H),B.off(M.default.BUFFER_LEVEL_UPDATED,L,H),V=null,q=-1,z=!0,G=[],W=null,Q=null,$=null,J=null,Z=null,ee=null,te=null,ne=null,re=null,ie=null}function p(e,t,n){var r,i,o=null,a=Y.getStreamInfo(),s=W.getTopQualityIndexFor(n,a.id);if(z=!0,B.trigger(M.default.DATA_UPDATE_STARTED,{sender:this}),G=O(t),null===V&&"fragmentedText"!==n?(i=W.getAverageThroughput(n),o=i||W.getInitialBitrateFor(n,a),r=W.getQualityForBitrate(Y.getMediaInfo(),o)):r=W.getQualityFor(n,a),r>s&&(r=s),K=_(r),V=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return z=!1,void B.trigger(M.default.DATA_UPDATE_COMPLETED,{sender:this,data:V,currentRepresentation:K});for(var u=0;u<G.length;u++)X.updateRepresentation(G[u],!0)}function y(){var e=new Date,t=l(),n=1e3*$.getTime();Z.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function v(){var e=te.calcSegmentAvailabilityRange(K,Y.isDynamic());Z.addDVRInfo(Y.getType(),$.getTime(),Y.getStreamInfo().manifestInfo,e)}function _(e){return G[e]}function T(e){return G.indexOf(e)}function S(){for(var e=0,t=G.length;e<t;e++){var n=G[e].segmentInfoType;if(null===G[e].segmentAvailabilityRange||!j.default.hasInitialization(G[e])||("SegmentBase"===n||"BaseURL"===n)&&!G[e].segments)return!1}return!0}function O(e){var t,n=J.getValue();return q=ne.getIndexForAdaptation(V,n,e.period.index),t=ne.getRepresentationsForAdaptation(n,e)}function P(e){for(var t,n=0,r=G.length;n<r;n++)t=G[n],t.segmentAvailabilityRange=te.calcSegmentAvailabilityRange(t,e)}function A(){G.forEach(function(e){e.segmentAvailabilityRange=null})}function k(e){var t=e,n=function(){if(!s()){z=!0,B.trigger(M.default.DATA_UPDATE_STARTED,{sender:H}),A();for(var e=0;e<G.length;e++)X.updateRepresentation(G[e],!0)}};z=!1,B.trigger(x.default.AST_IN_FUTURE,{delay:t}),setTimeout(n,t)}function R(e){if(e.sender.getStreamProcessor()===Y&&s()){var t,n,r,i=e.representation,o=Z.getMetricsFor("stream"),a=Z.getMetricsFor(l().adaptation.type),u=re.getCurrentManifestUpdate(o),c=!1,f=0;if("dynamic"===i.adaptation.period.mpd.manifest.type){var d=i.segmentAvailabilityRange.end-i.segmentAvailabilityRange.start,p=$.computeLiveDelay(K.segmentDuration,Y.getStreamInfo().manifestInfo.DVRWindowSize);f=1e3*(p-d)}if(f>0)return v(),k(f),n=new C.default(F,"Segments update failed",null),void B.trigger(M.default.DATA_UPDATE_COMPLETED,{sender:this,data:V,currentRepresentation:K,error:n});if(u){for(var h=0;h<u.trackInfo.length;h++)if(t=u.trackInfo[h],t.index===i.index&&t.mediaType===Y.getType()){c=!0;break}c||Z.addManifestUpdateRepresentationInfo(u,i.id,i.index,i.adaptation.period.index,Y.getType(),i.presentationTimeOffset,i.startNumber,i.segmentInfoType)}S()&&(z=!1,W.setPlaybackQuality(Y.getType(),Y.getStreamInfo(),T(K)),Z.updateManifestUpdateInfo(u,{latency:K.segmentAvailabilityRange.end-$.getTime()}),r=re.getCurrentRepresentationSwitch(a),r||y(),B.trigger(M.default.DATA_UPDATE_COMPLETED,{sender:this,data:V,currentRepresentation:K}))}}function D(e){e.isDynamic&&P(e.isDynamic)}function L(e){e.sender.getStreamProcessor()===Y&&v()}function N(e){e.mediaType===Y.getType()&&Y.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(K=_(e.newQuality),ee.setSavedBitrateSettings(e.mediaType,K.bandwidth),y())}var F=1,U=this.context,B=(0,I.default)(U).getInstance(),H=void 0,V=void 0,q=void 0,z=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0;return H={initialize:n,setConfig:t,getData:i,getDataIndex:o,isUpdating:s,updateData:p,getStreamProcessor:r,getCurrentRepresentation:l,getRepresentationForQuality:_,reset:f},e(),H}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=r(o),s=n(23),u=r(s),l=n(74),c=r(l),f=n(28),d=r(f),p=n(20),h=r(p),y=n(40),g=r(y),v=n(58),m=r(v),_=n(21),b=r(_),T=n(10),E=r(T),S=n(85),w=r(S),O=n(17),C=r(O),P=n(5),I=r(P),A=n(3),M=r(A),k=n(38),x=r(k),R=n(0),D=r(R),L=n(75),j=r(L);i.__dashjs_factory_name="RepresentationController",t.default=D.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){s=[new m.default,new b.default,new E.default,new g.default],u=new h.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:s}),l=new d.default([new w.default,new C.default])}function t(e,t){var n;try{var o=window.performance.now();if(n=u.xml_str2json(e),!n)throw new Error("parser error");var a=window.performance.now();l.run(n);var c=window.performance.now();t.setMatchers(s),t.setIron(l),r("Parsing complete: ( xml2json: "+(a-o).toPrecision(3)+"ms, objectiron: "+(c-a).toPrecision(3)+"ms, total: "+((c-o)/1e3).toPrecision(3)+"s)")}catch(t){return i.manifestError("parsing the manifest failed","parse",e,t),null}return n}var n=this.context,r=(0,c.default)(n).getInstance().log,i=(0,a.default)(n).getInstance(),o=void 0,s=void 0,u=void 0,l=void 0;return o={parse:t},e(),o}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),a=r(o),s=n(0),u=r(s),l=n(6),c=r(l),f=n(205),d=r(f),p=n(72),h=r(p),y=n(218),g=r(y),v=n(216),m=r(v),_=n(215),b=r(_),T=n(217),E=r(T),S=n(213),w=r(S),O=n(214),C=r(O);i.__dashjs_factory_name="DashParser",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e);var i=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()};this._name=t,this._merge=void 0!==n?n:i(t)}return i(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(117),u=r(s),l=function(e){function t(){i(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new u.default("Representation",e,[new u.default("SubRepresentation",e)])])}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(117),u=r(s),l=function(e){function t(){i(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new u.default("AdaptationSet",e,[new u.default("Representation",e)])])}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(53),u=r(s),l=60,c=60,f=1e3,d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,p=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return d.test(e.value)},function(e){var t=d.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*f||0),t[9]&&t[10]){var r=parseInt(t[9],10)*c+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*l*f}return new Date(n)})}return o(t,e),t}(u.default);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(53),u=r(s),l=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,c=31536e3,f=2592e3,d=86400,p=3600,h=60,y=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return l.test(e.value);return!1},function(e){var t=l.exec(e),n=parseFloat(t[2]||0)*c+parseFloat(t[4]||0)*f+parseFloat(t[6]||0)*d+parseFloat(t[8]||0)*p+parseFloat(t[10]||0)*h+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return o(t,e),t}(u.default);t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(53),u=r(s),l=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return l.test(e.value)},function(e){return parseFloat(e)})}return o(t,e),t}(u.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(53),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e,t){var n={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value","id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};if(n.hasOwnProperty(t)){var r=n[t];return void 0!==r&&r.indexOf(e.name)>=0}return!1},function(e){return String(e)})}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.boxParser&&(i=e.boxParser)}function t(e){var t,n,r,o,a,s,u,l,c,f,d,p,h,y=i.parse(e),g=y.getBox("tfhd"),v=y.getBox("tfdt"),m=y.getBox("trun"),_=y.getBox("moof"),b=y.getBox("mfhd"),T=y.getBox("subs");for(d=b.sequence_number,r=m.sample_count,a=v.baseMediaDecodeTime,f=(g.base_data_offset||0)+(m.data_offset||0),s=[],h=0,l=0;l<r;l++){u=m.samples[l],t=void 0!==u.sample_duration?u.sample_duration:g.default_sample_duration,o=void 0!==u.sample_size?u.sample_size:g.default_sample_size,n=void 0!==u.sample_composition_time_offset?u.sample_composition_time_offset:0;var E={dts:a,cts:a+n,duration:t,offset:_.offset+f,size:o,subSizes:[o]};if(T&&h<T.samples_with_subsamples.length&&T.samples_with_subsamples[h].nr==l+1){for(E.subSizes=[],c=0;c<T.samples_with_subsamples[h].subsamples.length;c++){var S=T.samples_with_subsamples[h].subsamples[c].size;E.subSizes.push(S)}h++}s.push(E),f+=o,a+=t}return p=a-v.baseMediaDecodeTime,{sampleList:s,sequenceNumber:d,totalDuration:p}}function n(e){var t=i.parse(e),n=t.getBox("mdhd");return n?n.timescale:NaN}var r=void 0,i=void 0;return r={getSamplesInfo:t,getMediaTimescaleFromMoov:n,setConfig:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="FragmentedTextBoxParser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e,n,i,o){var a,u,l,c,f,d,p,h=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,y=h.SegmentURL_asArray.length,g=[];for(p=e.startNumber,c=(0,s.decideSegmentListRangeForTemplate)(r,t,e,n,i,o),f=Math.max(c.start,0),d=Math.min(c.end,h.SegmentURL_asArray.length-1),a=f;a<=d;a++)l=h.SegmentURL_asArray[a],u=(0,s.getIndexBasedSegment)(r,t,e,a),u.replacementTime=(p+a-1)*e.segmentDuration,u.media=l.media?l.media:"",u.mediaRange=l.mediaRange,u.index=l.index,u.indexRange=l.indexRange,g.push(u),u=null;return e.availableSegmentsNumber=y,g}var r=e.timelineConverter,i=void 0;return i={getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(54);i.__dashjs_factory_name="ListSegmentsGetter";var u=a.default.getClassFactory(i);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){s=(0,u.default)(o).create(e,t),l=(0,c.default)(o).create(e,t),f=(0,d.default)(o).create(e,t)}function r(e,t,n,r,o){var a,u=e.segmentInfoType;return"SegmentBase"!==u&&"BaseURL"!==u&&i(e,n)?("SegmentTimeline"===u?a=s.getSegments(e,t,n,o):"SegmentTemplate"===u?a=l.getSegments(e,t,n,o):"SegmentList"===u&&(a=f.getSegments(e,t,n,o)),r&&r(e,a)):a=e.segments,a}function i(e,t){var n,r,i=e.segments,o=!1;return i&&0!==i.length?(r=i[0].availabilityIdx,n=i[i.length-1].availabilityIdx,o=t<r||t>n):o=!0,o}var o=this.context,a=void 0,s=void 0,l=void 0,f=void 0;return a={getSegments:r},n(),a}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(223),u=r(s),l=n(222),c=r(l),f=n(220),d=r(f);i.__dashjs_factory_name="SegmentsGetter";var p=a.default.getClassFactory(i);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e,n,i,o){var a,u,l,c,f,d=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,p=e.segmentDuration,h=e.segmentAvailabilityRange,y=[],g=null,v=null;for(f=e.startNumber,a=isNaN(p)&&!t?{start:f,end:f}:(0,s.decideSegmentListRangeForTemplate)(r,t,e,n,i,o),l=a.start,c=a.end,u=l;u<=c;u++)v=(0,s.getIndexBasedSegment)(r,t,e,u),v.replacementTime=(f+u-1)*e.segmentDuration,g=d.media,g=(0,s.replaceTokenForTemplate)(g,"Number",v.replacementNumber),g=(0,s.replaceTokenForTemplate)(g,"Time",v.replacementTime),v.media=g,y.push(v),v=null;return isNaN(p)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((h.end-h.start)/p),y}var r=e.timelineConverter,i=void 0;return i={getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(54);i.__dashjs_factory_name="TemplateSegmentsGetter";var u=a.default.getClassFactory(i);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e,n,i,o){var a,u,l,c,f,d,p,h,y,g,v,m,_,b,T=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,E=T.SegmentTimeline,S=T.SegmentURL_asArray,w=e.availableSegmentsNumber>0,O=10,C=0,P=0,I=-1,A=[],M=!1,k=function(n,i){var o=T.media,a=n.mediaRange;return S&&(o=S[i].media||"",a=S[i].mediaRange),(0,s.getTimeBasedSegment)(r,t,e,C,n.d,b,o,a,I)};for(b=e.timescale,a=E.S_asArray,y=(0,s.decideSegmentListRangeForTimeline)(r,t,n,i,o),y?(m=y.start,_=y.end):v=r.calcMediaTimeFromPresentationTime(n||0,e),l=0,c=a.length;l<c;l++){if(u=a[l],d=0,u.hasOwnProperty("r")&&(d=u.r),u.hasOwnProperty("t")&&(C=u.t,P=C/b),d<0){if(h=a[l+1],h&&h.hasOwnProperty("t"))p=h.t/b;else{var x=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;p=r.calcMediaTimeFromPresentationTime(x,e),e.segmentDuration=u.d/b}d=Math.ceil((p-P)/(u.d/b))-1}if(g){if(w)break;I+=d+1}else for(f=0;f<=d;f++){if(I++,y){if(I>_){if(g=!0,w)break;continue}I>=m&&A.push(k(u,I))}else{if(A.length>O){if(g=!0,w)break;continue}M?A.push(k(u,I)):P>=v-u.d/b*1.5&&(M=!0,A.push(k(u,I)))}C+=u.d,P=C/b}}return w||(e.availableSegmentsNumber=I+1),A}var r=e.timelineConverter,i=void 0;return i={getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(54);i.__dashjs_factory_name="TimelineSegmentsGetter";var u=a.default.getClassFactory(i);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.period=null,this.index=-1,this.type=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){p=(0,a.default)(s).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){var t=function(t){l.trigger(h.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new u.default(e.url);p.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function r(e){var t=function(t,n){l.trigger(h.default.LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:f})};e?p.load({request:e,progress:function(){l.trigger(h.default.LOADING_PROGRESS,{request:e})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new c.default(v,r,n))}}):t(void 0,new c.default(m,_))}function i(){p&&p.abort()}function o(){p&&(p.abort(),p=null)}var s=this.context,l=(0,d.default)(s).getInstance(),f=void 0,p=void 0;return f={checkForExistence:n,load:r,abort:i,reset:o},t(),f}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),a=r(o),s=n(298),u=r(s),l=n(17),c=r(l),f=n(5),d=r(f),p=n(3),h=r(p),y=n(0),g=r(y),v=1,m=2,_="request is null";i.__dashjs_factory_name="FragmentLoader";var b=g.default.getClassFactory(i);b.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=v,b.FRAGMENT_LOADER_ERROR_NULL_REQUEST=m,t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){s.on(_.default.XLINK_READY,n,p),g=(0,u.default)(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),m=(0,a.default)(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function r(e){var t=new d.default(e,y.HTTPRequest.MPD_TYPE);g.load({request:t,success:function(t,n,r){var i,o;r.responseURL&&r.responseURL!==e?(o=l.parseBaseUrl(r.responseURL),i=r.responseURL):(l.isRelative(e)&&(e=l.resolve(e,window.location.href)),o=l.parseBaseUrl(e));var a=f.parse(t,m);a?(a.url=i||e,a.originalUrl||(a.originalUrl=a.url),a.baseUri=o,a.loadedTime=new Date,m.resolveManifestOnLoad(a)):s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new h.default(E,w)})},error:function(t,n,r){s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new h.default(S,"Failed loading manifest: "+e+", "+r)})}})}function i(){s.off(_.default.XLINK_READY,n,p),m&&(m.reset(),m=null),g&&(g.abort(),g=null)}var o=this.context,s=(0,v.default)(o).getInstance(),l=(0,c.default)(o).getInstance(),f=e.parser,p=void 0,g=void 0,m=void 0;return p={load:r,reset:i},t(),p}Object.defineProperty(t,"__esModule",{value:!0});var o=n(243),a=r(o),s=n(39),u=r(s),l=n(42),c=r(l),f=n(134),d=r(f),p=n(17),h=r(p),y=n(15),g=n(5),v=r(g),m=n(3),_=r(m),b=n(0),T=r(b),E=1,S=2,w="parsing failed";i.__dashjs_factory_name="ManifestLoader";var O=T.default.getClassFactory(i);O.MANIFEST_LOADER_ERROR_PARSING_FAILURE=E,O.MANIFEST_LOADER_ERROR_LOADING_FAILURE=S,t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.manifestModel&&(P=e.manifestModel),e.dashManifestModel&&(I=e.dashManifestModel))}function t(e){C=e,E=NaN,S=null,O=!1,w=!0,A=(0,d.default)(m).getInstance(),b.on(u.default.STREAMS_COMPOSED,v,this),b.on(u.default.PLAYBACK_STARTED,y,this),b.on(u.default.PLAYBACK_PAUSED,g,this),b.on(u.default.INTERNAL_MANIFEST_LOADED,p,this)}function n(e){c(e)}function r(){return C}function i(){b.off(u.default.PLAYBACK_STARTED,y,this),b.off(u.default.PLAYBACK_PAUSED,g,this),b.off(u.default.STREAMS_COMPOSED,v,this),b.off(u.default.INTERNAL_MANIFEST_LOADED,p,this),o(),w=!0,O=!1,E=NaN,A=null}function o(){null!==S&&(clearInterval(S),S=null)}function s(){o(),isNaN(E)||(_("Refresh manifest in "+E+" seconds."),S=setTimeout(f,1e3*E))}function l(){O=!0;var e=P.getValue(),t=e.url,n=I.getLocation(e);n&&(t=n),C.load(t)}function c(e){P.setValue(e);var t=new Date,n=(t.getTime()-e.loadedTime.getTime())/1e3;E=I.getManifestUpdatePeriod(e,n),b.trigger(u.default.MANIFEST_UPDATED,{manifest:e}),_("Manifest has been refreshed at "+t+"["+t.getTime()/1e3+"] "),w||s()}function f(){w&&!A.getScheduleWhilePaused()||O||l()}function p(e){e.error||c(e.manifest)}function y(){w=!1,s()}function g(){w=!0,o()}function v(){O=!1}var m=this.context,_=(0,h.default)(m).getInstance().log,b=(0,a.default)(m).getInstance(),T=void 0,E=void 0,S=void 0,w=void 0,O=void 0,C=void 0,P=void 0,I=void 0,A=void 0;return T={initialize:t,setManifest:n,getManifestLoader:r,refreshManifest:l,setConfig:e,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l),f=n(10),d=r(f),p=n(6),h=r(p);i.__dashjs_factory_name="ManifestUpdater",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var i,o=e.id||e.name||"video element";if(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==r})[0],!t&&e.src)t=document.createElement("source"),t.src=e.src;else if(!t&&!e.src)return null;return n=n||{},i=(0,u.default)(n).create(),
i.initialize(e,t.src,e.autoplay),i.getDebug().log("Converted "+o+" to dash.js player and added content: "+t.src),e._dashjs_player=i,i}function t(t,i){var o=[];t=t||"[data-dashjs-player]",i=i||document;for(var a=i.querySelectorAll(t),s=0;s<a.length;s++){var u=e(a[s],null);o.push(u)}for(var l=i.querySelectorAll('source[type="'+r+'"]'),s=0;s<l.length;s++){var c=n(l[s]),u=e(c,null);o.push(u)}return o}function n(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var r="application/dash+xml";return{create:e,createAll:t}}function o(){window.removeEventListener("load",o),l.createAll()}function a(){window.dashjs&&(window.clearInterval(c),l.createAll())}Object.defineProperty(t,"__esModule",{value:!0});var s=n(121),u=r(s),l=i(),c=void 0,f="undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate;!f&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?l.createAll():c=window.setInterval(a,500):window.addEventListener("load",o)),t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){le=[],ce=!1,fe=!1,de=null,pe={},he=!1,ye=!1,ve=(0,a.default)(J).getInstance(),me=(0,E.default)(J).getInstance(),Ee=(0,g.default)(J).getInstance(),_e=(0,c.default)(J).getInstance(),be=(0,h.default)(J).create(),Se=(0,B.default)(J).getInstance(),ee.on(D.default.BUFFERING_COMPLETED,K,ue),ee.on(D.default.DATA_UPDATE_COMPLETED,Y,ue)}function n(e,t){de=e,ge=t,ge&&(ee.on(D.default.KEY_ERROR,A,ue),ee.on(D.default.SERVER_CERTIFICATE_UPDATED,A,ue),ee.on(D.default.LICENSE_REQUEST_COMPLETE,A,ue),ee.on(D.default.KEY_SYSTEM_SELECTED,A,ue),ee.on(D.default.KEY_SESSION_CREATED,A,ue))}function r(e){ce||(ee.on(D.default.CURRENT_TRACK_CHANGED,L,ue),V(e),ce=!0)}function i(){for(var e=le.length,t=0;t<e;t++)le[t].reset();le=[],ce=!1,fe=!1,S(),ee.off(D.default.CURRENT_TRACK_CHANGED,L,ue)}function o(){me&&(me.pause(),me=null),be&&(be.reset(),be=null),i(),_e=null,Ee=null,ne=null,te=null,re=null,ie=null,Z=null,oe=null,he=!1,ye=!1,pe={},ee.off(D.default.DATA_UPDATE_COMPLETED,Y,ue),ee.off(D.default.BUFFERING_COMPLETED,K,ue),ee.off(D.default.KEY_ERROR,A,ue),ee.off(D.default.SERVER_CERTIFICATE_UPDATED,A,ue),ee.off(D.default.LICENSE_REQUEST_COMPLETE,A,ue),ee.off(D.default.KEY_SYSTEM_SELECTED,A,ue),ee.off(D.default.KEY_SESSION_CREATED,A,ue)}function s(){return de.duration}function l(){return de.start}function f(){return de.index}function p(){return de.id}function y(){return de}function v(e){return null!==z(e)}function _(e){var t=z(e);return Ee.getBitrateList(t)}function T(){Te&&Te.start()}function S(){Te&&Te.clear()}function O(){return ce}function P(){return ye}function A(e){e.error&&(oe.mediaKeySessionError(e.error),Z(e.error),o())}function k(e){return"text"===e.type?e.mimeType:e.type}function R(e,t,n){var r,i,o=e.type;if("muxed"===o&&e)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Z(i),oe.manifestError(i,"multiplexedrep",te.getValue()),!1;if("text"===o||"fragmentedText"===o||"embeddedText"===o)return!0;if(r=e.codec,Z(o+" codec: "+r),e.contentProtection&&!ie.supportsEncryptedMedia())oe.capabilityError("encryptedmedia");else if(!ie.supportsCodec((0,m.default)(J).getInstance().getElement(),r))return i=o+"Codec ("+r+") is not supported.",oe.manifestError(i,"codec",n),Z(i),!1;return!0}function L(e){if(e.newMediaInfo.streamInfo.id===de.id){var t=W(e.oldMediaInfo);if(t){var n=me.getTime(),r=t.getBuffer(),i=e.newMediaInfo,o=te.getValue(),a=le.indexOf(t),s=t.getMediaSource();"fragmentedText"!==i.type?(t.reset(!0),U(i,o,s,{buffer:r,replaceIdx:a,currentTime:n}),me.seek(me.getTime())):t.updateMediaInfo(o,i)}}}function N(e){var t=e.split("/")[1];return"webm"===t.toLowerCase()}function F(e){var t=N(e.mimeType)?(0,I.default)(J).getInstance():(0,C.default)(J).getInstance();t.setConfig({baseURLController:se,metricsModel:(0,b.default)(J).getInstance()}),t.initialize();var n=(0,w.default)(J).create({segmentBaseLoader:t,timelineConverter:ae,dashMetrics:(0,M.default)(J).getInstance(),metricsModel:(0,b.default)(J).getInstance(),baseURLController:se});return n}function U(e,t,n,r){var i=(0,u.default)(J).create({indexHandler:F(e),timelineConverter:ae,adapter:re,manifestModel:te}),o=re.getAllMediaInfoForType(t,de,e.type);if(i.initialize(k(e),be,n,ue,Te),Ee.updateTopQualityIndex(e),r?(i.setBuffer(r.buffer),i.getIndexHandler().setCurrentTime(r.currentTime),le[r.replaceIdx]=i):le.push(i),"text"===e.type||"fragmentedText"===e.type){for(var a,s=0;s<o.length;s++)o[s].index===e.index&&(a=s),i.updateMediaInfo(t,o[s]);"fragmentedText"===e.type&&i.updateMediaInfo(t,o[a])}else i.updateMediaInfo(t,e);return i}function H(e,t){var n,r=te.getValue(),i=re.getAllMediaInfoForType(r,de,e),o=null;if(!i||0===i.length)return void Z("No "+e+" data.");for(var a=0,s=i.length;a<s;a++)if(o=i[a],"embeddedText"===e)Se.addEmbeddedTrack(o);else{if(!R(o,t,r))continue;_e.isMultiTrackSupportedByType(o.type)&&_e.addTrack(o,de)}"embeddedText"!==e&&0!==_e.getTracksFor(e,de).length&&(_e.checkInitialMediaSettingsForType(e,de),n=_e.getCurrentTrackFor(e,de),U(n,r,t))}function V(e){var t,n=te.getValue();if(Te=(0,d.default)(J).getInstance(),Te.initialize(),Te.setConfig({manifestModel:te,manifestUpdater:ne}),t=re.getEventsFor(n,de),Te.addInlineEvents(t),he=!0,H("video",e),H("audio",e),H("text",e),H("fragmentedText",e),H("embeddedText",e),H("muxed",e),G(),fe=!0,he=!1,0===le.length){var r="No streams to play.";oe.manifestError(r,"nostreams",n),Z(r)}else ve.initialize(ae,le[0]),q()}function q(){var e=le.length,t=!!pe.audio||!!pe.video,n=t?new Error($,"Data update failed",null):null,r=0;for(r;r<e;r++)if(le[r].isUpdating()||he)return;ye=!0,fe&&(ge&&ge.initialize(te.getValue(),z("audio"),z("video")),ee.trigger(D.default.STREAM_INITIALIZED,{streamInfo:de,error:n}))}function z(e){for(var t=le.length,n=null,r=0;r<t;r++)if(n=le[r],n.getType()===e)return n.getMediaInfo();return null}function G(){for(var e=0,t=le.length;e<t;e++)le[e].createBuffer()}function K(e){if(e.streamInfo===de){var t=X(),n=t.length,r=0;for(r;r<n;r++)if(!t[r].isBufferingCompleted())return;ee.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:de})}}function Y(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===de&&(pe[t.getType()]=e.error,q())}function W(e){if(!e)return!1;var t=X();return t.filter(function(t){return t.getType()===e.type})[0]}function X(){var e,t,n=le.length,r=[],i=0;for(i;i<n;i++)t=le[i],e=t.getType(),"audio"!==e&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}function Q(e){Z("Manifest updated... updating data system wide.");var t=te.getValue();if(ce=!1,he=!0,ye=!1,de=e,Te){var n=re.getEventsFor(t,de);Te.addInlineEvents(n)}for(var r=0,i=le.length;r<i;r++){var o=le[r],a=re.getMediaInfoForType(t,de,o.getType());Ee.updateTopQualityIndex(a),o.updateMediaInfo(t,a)}he=!1,q()}var $=1,J=this.context,Z=(0,j.default)(J).getInstance().log,ee=(0,x.default)(J).getInstance(),te=e.manifestModel,ne=e.manifestUpdater,re=e.adapter,ie=e.capabilities,oe=e.errHandler,ae=e.timelineConverter,se=e.baseURLController,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ye=void 0,ge=void 0,ve=void 0,me=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,Se=void 0;return ue={initialize:n,activate:r,deactivate:i,getDuration:s,getStartTime:l,getStreamIndex:f,getId:p,getStreamInfo:y,hasMedia:v,getBitrateListFor:_,startEventController:T,isActivated:O,isInitialized:P,updateData:Q,reset:o,getProcessors:X},t(),ue}Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=r(o),s=n(233),u=r(s),l=n(29),c=r(l),f=n(237),d=r(f),p=n(238),h=r(p),y=n(28),g=r(y),v=n(32),m=r(v),_=n(21),b=r(_),T=n(20),E=r(T),S=n(207),w=r(S),O=n(208),C=r(O),P=n(209),I=r(P),A=n(23),M=r(A),k=n(5),x=r(k),R=n(3),D=r(R),L=n(6),j=r(L),N=n(0),F=r(N),U=n(30),B=r(U);i.__dashjs_factory_name="Stream",t.default=F.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){ne=[]}function n(e,t,n,r,i){te=e,re=r,ie=i,le=t,Z=re.getStreamInfo().manifestInfo.isDynamic,W.initialize(this),oe=(0,a.default)(Y).getInstance(),oe.initialize(te,this),ae=K(e),se=(0,g.default)(Y).create({metricsModel:(0,E.default)(Y).getInstance(),manifestModel:$,adapter:Q,dashMetrics:(0,D.default)(Y).getInstance(),dashManifestModel:(0,x.default)(Y).getInstance(),timelineConverter:X,rulesController:(0,m.default)(Y).getInstance(),mediaPlayerModel:(0,b.default)(Y).getInstance()}),ae.initialize(te,n,this),se.initialize(te,this),ce=(0,w.default)(Y).create({metricsModel:(0,E.default)(Y).getInstance(),errHandler:(0,F.default)(Y).getInstance(),requestModifier:(0,C.default)(Y).getInstance()}),fe=se.getFragmentModel(),fe.setLoader(ce),ue=(0,j.default)(Y).create(),ue.initialize(this)}function r(e){W.reset(),ae&&(ae.reset(e),ae=null),se&&(se.reset(),se=null),ue&&(ue.reset(),ue=null),le=null,ce=null,ie=null,re=null,Z=null,ee=null,ne=[],te=null}function i(){return ue.isUpdating()}function o(){return te}function s(){return oe}function l(){return ue}function f(){return ce}function p(){return W}function y(){return le}function v(){return ae.getBuffer()}function _(e){ae.setBuffer(e)}function T(){return ae}function S(){return fe}function O(){return re?re.getStreamInfo():null}function P(e,t){t===ee||t&&ee&&t.type!==ee.type||(ee=t),ne.indexOf(t)===-1&&ne.push(t),Q.updateData(e,this)}function A(){return ne}function k(){return ee}function R(){return ae.getMediaSource()}function L(){return se}function N(){return ie}function U(){se.start()}function B(){se.stop()}function H(){return Q.getCurrentRepresentationInfo($.getValue(),ue)}function V(e){return Q.getRepresentationInfoForQuality($.getValue(),ue,e)}function q(){return ae.getIsBufferingCompleted()}function z(){return ae.getBuffer()||ae.createBuffer(ee)}function G(){return Z}function K(e){var t=null;return t="video"===e||"audio"===e||"fragmentedText"===e?(0,u.default)(Y).create({metricsModel:(0,E.default)(Y).getInstance(),manifestModel:$,sourceBufferController:(0,I.default)(Y).getInstance(),errHandler:(0,F.default)(Y).getInstance(),streamController:(0,c.default)(Y).getInstance(),mediaController:(0,d.default)(Y).getInstance(),adapter:Q,textSourceBuffer:(0,M.default)(Y).getInstance()}):(0,h.default)(Y).create({errHandler:(0,F.default)(Y).getInstance(),sourceBufferController:(0,I.default)(Y).getInstance()})}var Y=this.context,W=e.indexHandler,X=e.timelineConverter,Q=e.adapter,$=e.manifestModel,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0;return J={initialize:n,isUpdating:i,getType:o,getBufferController:T,getABRController:s,getFragmentLoader:f,getFragmentModel:S,getScheduleController:L,getEventController:N,getFragmentController:y,getRepresentationController:l,getIndexHandler:p,getCurrentRepresentationInfo:H,getRepresentationInfoForQuality:V,isBufferingCompleted:q,createBuffer:z,getStreamInfo:O,updateMediaInfo:P,getMediaInfoArr:A,getMediaInfo:k,getMediaSource:R,getBuffer:v,setBuffer:_,start:U,stop:B,isDynamic:G,reset:r},t(),J}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=r(o),s=n(31),u=r(s),l=n(40),c=r(l),f=n(29),d=r(f),p=n(241),h=r(p),y=n(240),g=r(y),v=n(129),m=r(v),_=n(10),b=r(_),T=n(21),E=r(T),S=n(228),w=r(S),O=n(60),C=r(O),P=n(55),I=r(P),A=n(30),M=r(A),k=n(27),x=r(k),R=n(23),D=r(R),L=n(210),j=r(L),N=n(24),F=r(N),U=n(0),B=r(U);i.__dashjs_factory_name="StreamProcessor",t.default=B.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){var i=function(r,i){t.resolved=!0,t.resolvedContent=r?r:null,o.trigger(y.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:n,error:r||i?null:new a.default(m,"Failed loading Xlink element: "+e)})};if(e===r)i(null,!0);else{var u=new f.default(e,l.HTTPRequest.XLINK_TYPE);s.load({request:u,success:function(e){i(e)},error:function(){i(null)}})}}function n(){s&&(s.abort(),s=null)}var r="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,o=(0,p.default)(i).getInstance(),s=(0,u.default)(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),c=void 0;return c={load:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=r(o),s=n(39),u=r(s),l=n(15),c=n(134),f=r(c),d=n(5),p=r(d),h=n(3),y=r(h),g=n(0),v=r(g),m=1;i.__dashjs_factory_name="XlinkLoader";var _=v.default.getClassFactory(i);_.XLINK_LOADER_ERROR_LOADING_FAILURE=m,t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){y.invalidateSelectedIndexes(e.entry)}function t(){y=(0,a.default)(f).create(),v=(0,u.default)(f).create(),p.on(m.default.SERVICE_LOCATION_BLACKLIST_CHANGED,e,l)}function n(e){e.baseURLTreeModel&&(y=e.baseURLTreeModel),e.baseURLSelector&&(v=e.baseURLSelector)}function r(e){y.update(e),v.chooseSelectorFromManifest(e)}function i(e){var t=y.getForPath(e),n=t.reduce(function(e,t){var n=v.select(t);return n?(h.isRelative(n.url)?e.url=h.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e):new d.default},new d.default);if(!h.isRelative(n.url))return n}function o(){y.reset(),v.reset()}function s(e){r(e)}var l=void 0,f=this.context,p=(0,g.default)(f).getInstance(),h=(0,c.default)(f).getInstance(),y=void 0,v=void 0;return l={reset:o,initialize:s,resolve:i,setConfig:n},t(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=n(263),a=r(o),s=n(289),u=r(s),l=n(42),c=r(l),f=n(118),d=r(f),p=n(0),h=r(p),y=n(5),g=r(y),v=n(3),m=r(v);i.__dashjs_factory_name="BaseURLController",t.default=h.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return!!(a.length&&e&&e.length)&&a.indexOf(e)!==-1}function n(e){a.indexOf(e)===-1&&(a.push(e),s.trigger(l,{entry:e}))}function r(e){e.error&&n(e.request.serviceLocation)}function i(){c&&s.on(c,r,this)}function o(){a=[]}var a=[],s=(0,u.default)(this.context).getInstance(),l=e.updateEventName,c=e.loadFailedEventName;return i(),{add:n,contains:t,reset:o}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(5),u=r(s);i.__dashjs_factory_name="BlackListController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){A=!1,b={},T={},E={},S=null,w=100,O=w/1e3,I=(0,a.default)(g).getInstance()}function t(){null!==S&&A&&(clearInterval(S),S=null,A=!1)}function n(){v("Start Event Controller"),A||isNaN(w)||(A=!0,S=setInterval(s,w))}function r(e){if(b={},e)for(var t=0;t<e.length;t++){var n=e[t];b[n.id]=n,v("Add inline event with id "+n.id)}v("Added "+e.length+" inline events")}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in T?v("Repeated event with id "+n.id):(T[n.id]=n,v("Add inband event with id "+n.id))}}function o(){if(E)for(var e=I.getTime(),t=Object.keys(E),n=0;n<t.length;n++){var r=t[n],i=E[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(v("Remove Event "+r+" at time "+e),i=null,delete E[r])}}function s(){l(T),l(b),o()}function u(){var e=C.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),v("Refresh manifest @ "+t),P.getManifestLoader().load(t)}function l(e){var t,n=I.getTime();if(e)for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o];void 0!==a&&(t=a.presentationTime/a.eventStream.timescale,(0===t||t<=n&&t+O>n)&&(v("Start Event "+o+" at "+n),a.duration>0&&(E[o]=a),a.eventStream.schemeIdUri==h&&a.eventStream.value==y?u():m.trigger(a.eventStream.schemeIdUri,{event:a}),delete e[o]))}}function f(e){e&&(e.manifestModel&&(C=e.manifestModel),e.manifestUpdater&&(P=e.manifestUpdater))}function p(){t(),b=null,T=null,E=null,I=null}var h="urn:mpeg:dash:event:2012",y=1,g=this.context,v=(0,c.default)(g).getInstance().log,m=(0,d.default)(g).getInstance(),_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,O=void 0,C=void 0,P=void 0,I=void 0,A=void 0;return _={initialize:e,addInlineEvents:r,addInbandEvents:i,clear:t,start:n,setConfig:f,reset:p}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),a=r(o),s=n(0),u=r(s),l=n(6),c=r(l),f=n(5),d=r(f);i.__dashjs_factory_name="EventController",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){g={},d.on(y.default.FRAGMENT_LOADING_COMPLETED,a,h)}function t(e){var t=g[e];return t||(t=(0,l.default)(u).create({metricsModel:(0,f.default)(u).getInstance()}),g[e]=t),t}function n(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function r(){d.off(y.default.FRAGMENT_LOADING_COMPLETED,a,this);for(var e in g)g[e].reset();g={}}function i(e,t,n){var r=new s.default;return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r}function a(e){if(g[e.request.mediaType]===e.sender){var t=e.sender.getScheduleController(),r=e.request,o=e.response,a=n(r),s=t.getStreamProcessor().getStreamInfo();if(!o||!s)return void c("No "+r.mediaType+" bytes to push or stream is inactive.");var u=i(o,r,s.id);d.trigger(a?y.default.INIT_FRAGMENT_LOADED:y.default.MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}}var u=this.context,c=(0,_.default)(u).getInstance().log,d=(0,p.default)(u).getInstance(),h=void 0,g=void 0;return h={getModel:t,isInitializationRequest:n,reset:r},e(),h}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),a=n(297),s=r(a),u=n(57),l=r(u),c=n(21),f=r(c),d=n(5),p=r(d),h=n(3),y=r(h),g=n(0),v=r(g),m=n(6),_=r(m);i.__dashjs_factory_name="FragmentController",t.default=v.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return t?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function n(e){e.setSource(null)}function r(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(r;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}var o=void 0;return o={createMediaSource:e,attachMediaSource:t,detachMediaSource:n,setDuration:r,signalEndOfStream:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="MediaSourceController",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){Ee=!0,qe=NaN,He=NaN,Ve={},ze=[],Se=!1,we=null,Oe=null,Ce=!0,Pe=!1,Ie=0,Me=NaN}function n(e,t){me=e,De=t,ke=(0,s.default)(se).getInstance(),xe=(0,p.default)(se).getInstance(),Re=(0,l.default)(se).getInstance(),Le=(0,U.default)(se).getInstance(),je=De.getFragmentController(),Ne=De.getBufferController(),_e=je.getModel(me),_e.setScheduleController(this),be=De.isDynamic(),Be=ge.getScheduleWhilePaused(),Fe=(0,y.default)(se).create({dashMetrics:(0,O.default)(se).getInstance(),metricsModel:(0,T.default)(se).getInstance(),textSourceBuffer:(0,_.default)(se).getInstance()}),Ue=(0,v.default)(se).create({adapter:(0,P.default)(se).getInstance(),sourceBufferController:(0,A.default)(se).getInstance(),textSourceBuffer:(0,_.default)(se).getInstance()}),he.getIsTextTrack(me)&&le.on(L.default.TIMED_TEXT_REQUESTED,G,this),le.on(L.default.QUALITY_CHANGE_REQUESTED,b,this),le.on(L.default.DATA_UPDATE_STARTED,F,this),le.on(L.default.DATA_UPDATE_COMPLETED,w,this),le.on(L.default.FRAGMENT_LOADING_COMPLETED,x,this),le.on(L.default.STREAM_COMPLETED,M,this),le.on(L.default.STREAM_INITIALIZED,C,this),le.on(L.default.BUFFER_LEVEL_STATE_CHANGED,V,this),le.on(L.default.BUFFER_CLEARED,B,this),le.on(L.default.BYTES_APPENDED,j,this),le.on(L.default.INIT_REQUESTED,h,this),le.on(L.default.QUOTA_EXCEEDED,q,this),le.on(L.default.BUFFER_LEVEL_STATE_CHANGED,V,this),le.on(L.default.PLAYBACK_SEEKING,Y,this),le.on(L.default.PLAYBACK_STARTED,K,this),le.on(L.default.PLAYBACK_RATE_CHANGED,W,this),le.on(L.default.PLAYBACK_TIME_UPDATED,D,this),le.on(L.default.URL_RESOLUTION_FAILED,z,this),le.on(L.default.FRAGMENT_LOADING_ABANDONED,N,this)}function r(){Te&&!Ne.getIsBufferingCompleted()&&(oe(),Se=!1,Ee?(Ee=!1,g(Te.quality)):d(0),ue("Schedule controller starting for "+me))}function i(){Se||(Se=!0,clearTimeout(Ae),ue("Schedule controller stopping for "+me))}function a(e,t){Ve[t]=Ve[t]||{};var n=Re.getTopQualityIndexFor(e,t);return Ve[t][e]!=n&&(ue("Top quality"+e+" index has changed from "+Ve[t][e]+" to "+n),Ve[t][e]=n,!0)}function u(){if(!(Se||Pe||!Ne||ke.isPaused()&&!Be)){c();var e=ze.length>0;if(e||a(Te.mediaInfo.type,De.getStreamInfo().id)||Fe.execute(De,me,Le.isVideoTrackPresent())){var t=function(){if(Te.quality!==qe)qe=Te.quality,Ne.switchInitData(De.getStreamInfo().id,Te.quality);else{var e=ze.shift();if(je.isInitializationRequest(e))g(e.quality);else{var t=Ue.execute(De,e);t?_e.executeRequest(t):(Pe=!1,d(500))}}};Pe=!0,e?t():(Re.getPlaybackQuality(De),t())}else d(500)}}function c(){var e=1.5*Te.fragmentDuration,t=_e.getRequests({state:S.default.FRAGMENT_MODEL_EXECUTED,time:ke.getTime()+e,threshold:0})[0];t&&ze.indexOf(t)===-1&&!he.getIsTextTrack(me)&&(!xe.isCurrentTrack(t.mediaInfo)||ge.getFastSwitchEnabled()&&t.quality<Te.quality&&Ne.getBufferLevel()>=e&&Re.getAbandonmentStateFor(me)!==l.default.ABANDON_LOAD?(m(t),ue("Reloading outdated fragment at index: ",t.index)):t.quality>Te.quality&&Q(ke.getTime()+Ne.getBufferLevel()))}function d(e){clearTimeout(Ae),Ae=setTimeout(u,e)}function h(e){e.sender.getStreamProcessor()===De&&g(Te.quality)}function g(e){qe=e;var t=de.getInitRequest(De,e);t&&(Pe=!0,_e.executeRequest(t))}function m(e){ze.push(e)}function b(e){if(me===e.mediaType&&De.getStreamInfo().id===e.streamInfo.id){if(Te=De.getRepresentationInfoForQuality(e.newQuality),null===Te||void 0===Te)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");ie(new Date,o.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),oe()}}function E(e){var t=_e.getRequests({state:S.default.FRAGMENT_MODEL_EXECUTED,time:ke.getTime(),threshold:0})[0];t&&ke.getTime()>=t.startTime&&(t.quality!==He&&e&&le.trigger(L.default.QUALITY_CHANGE_RENDERED,{mediaType:me,oldQuality:He,newQuality:t.quality}),He=t.quality)}function w(e){e.error||e.sender.getStreamProcessor()!==De||(Te=de.convertDataToTrack(fe.getValue(),e.currentRepresentation))}function C(e){e.error||De.getStreamInfo().id!==e.streamInfo.id||(Te=De.getCurrentRepresentationInfo(),be&&Ee&&(ye.setTimeSyncCompleted(!0),I()),Se&&r())}function I(){var e=(0,k.default)(se).getInstance().getLiveEdge(),t=Te.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,n=e-ke.computeLiveDelay(Te.fragmentDuration,t),r=de.getFragmentRequestForTime(De,Te,n,{ignoreIsFinished:!0});Me=ke.getLiveStartTime(),(isNaN(Me)||r.startTime>Me)&&(ke.setLiveStartTime(r.startTime),Me=r.startTime);var i=pe.getCurrentManifestUpdate(ce.getMetricsFor("stream"));ce.updateManifestUpdateInfo(i,{currentTime:Me,presentationStartTime:e,latency:e-Me,clientTimeOffset:ye.getClientTimeOffset()})}function M(e){e.fragmentModel===_e&&(i(),Pe=!1,ue("Stream is complete"))}function x(e){e.sender===_e&&(he.getIsTextTrack(me)&&(Pe=!1),e.error&&e.request.serviceLocation&&!Se&&(m(e.request),Pe=!1,d(0)))}function D(){E(!0)}function j(e){e.sender.getStreamProcessor()===De&&(Pe=!1,d(0))}function N(e){e.streamProcessor===De&&(m(e.request),Pe=!1,d(0))}function F(e){e.sender.getStreamProcessor()===De&&i()}function B(e){e.sender.getStreamProcessor()===De&&(_e.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&Se&&r())}function V(e){e.sender.getStreamProcessor()!==De||e.state!==f.default.BUFFER_EMPTY||ke.isSeeking()||(ue("Buffer is empty! Stalling!"),ie(new Date,o.PlayListTrace.REBUFFERING_REASON))}function q(e){e.sender.getStreamProcessor()===De&&i()}function z(){_e.abortRequests(),i()}function G(e){e.sender.getStreamProcessor()===De&&g(e.index)}function K(){!Se&&Be||r()}function Y(e){Me=e.seekTime,J(0),Se&&r();var t=pe.getCurrentManifestUpdate(ce.getMetricsFor("stream")),n=Te.DVRWindow?Te.DVRWindow.end-ke.getTime():NaN;ce.updateManifestUpdateInfo(t,{latency:n})}function W(e){Oe&&(Oe.playbackspeed=e.playbackRate.toString())}function X(){return Me}function Q(e){Me=e}function $(){return _e}function J(e){Ie=e}function Z(){return Ie}function ee(){return De}function te(){return Fe.getBufferTarget(De,me,Le.isVideoTrackPresent())}function ne(e){we=e}function re(e,t){ie(e,t),we=null}function ie(e,t){if(we&&Ce===!1){var n=Oe.start,r=e.getTime()-n.getTime();Oe.duration=r,Oe.stopreason=t,we.trace.push(Oe),Ce=!0}}function oe(){we&&Ce===!0&&Te&&(Ce=!1,Oe=new o.PlayListTrace,Oe.representationid=Te.id,Oe.start=new Date,Oe.mstart=1e3*ke.getTime(),Oe.playbackspeed=ke.getPlaybackRate().toString())}function ae(){le.off(L.default.DATA_UPDATE_STARTED,F,this),le.off(L.default.DATA_UPDATE_COMPLETED,w,this),le.off(L.default.BUFFER_LEVEL_STATE_CHANGED,V,this),le.off(L.default.QUALITY_CHANGE_REQUESTED,b,this),le.off(L.default.FRAGMENT_LOADING_COMPLETED,x,this),le.off(L.default.STREAM_COMPLETED,M,this),le.off(L.default.STREAM_INITIALIZED,C,this),le.off(L.default.QUOTA_EXCEEDED,q,this),le.off(L.default.BYTES_APPENDED,j,this),le.off(L.default.BUFFER_CLEARED,B,this),le.off(L.default.INIT_REQUESTED,h,this),le.off(L.default.PLAYBACK_RATE_CHANGED,W,this),le.off(L.default.PLAYBACK_SEEKING,Y,this),le.off(L.default.PLAYBACK_STARTED,K,this),le.off(L.default.PLAYBACK_TIME_UPDATED,D,this),le.off(L.default.URL_RESOLUTION_FAILED,z,this),le.off(L.default.FRAGMENT_LOADING_ABANDONED,N,this),he.getIsTextTrack(me)&&le.off(L.default.TIMED_TEXT_REQUESTED,G,this),i(),E(!1),Pe=!1,Ie=0,Me=NaN,ke=null,we=null}var se=this.context,ue=(0,H.default)(se).getInstance().log,le=(0,R.default)(se).getInstance(),ce=e.metricsModel,fe=e.manifestModel,de=e.adapter,pe=e.dashMetrics,he=e.dashManifestModel,ye=e.timelineConverter,ge=e.mediaPlayerModel,ve=void 0,me=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,Se=void 0,we=void 0,Oe=void 0,Ce=void 0,Pe=void 0,Ie=void 0,Ae=void 0,Me=void 0,ke=void 0,xe=void 0,Re=void 0,De=void 0,Le=void 0,je=void 0,Ne=void 0,Fe=void 0,Ue=void 0,Be=void 0,He=void 0,Ve=void 0,qe=void 0,ze=void 0;return ve={initialize:n,getStreamProcessor:ee,getSeekTarget:X,setSeekTarget:Q,getFragmentModel:$,setTimeToLoadDelay:J,getTimeToLoadDelay:Z,replaceRequest:m,start:r,stop:i,reset:ae,setPlayList:ne,getBufferTarget:te,finalisePlayList:re},t(),ve}Object.defineProperty(t,"__esModule",{value:!0});var o=n(135),a=n(20),s=r(a),u=n(28),l=r(u),c=n(31),f=r(c),d=n(29),p=r(d),h=n(287),y=r(h),g=n(288),v=r(g),m=n(30),_=r(m),b=n(21),T=r(b),E=n(57),S=r(E),w=n(23),O=r(w),C=n(37),P=r(C),I=n(55),A=r(I),M=n(86),k=r(M),x=n(5),R=r(x),D=n(3),L=r(D),j=n(0),N=r(j),F=n(40),U=r(F),B=n(6),H=r(B);i.__dashjs_factory_name="ScheduleController",t.default=N.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){b=!1,T=null,E=null,S=null,w=null,O=null,_=!1,y.on(u.default.DATA_UPDATE_COMPLETED,f,this),y.on(u.default.INIT_FRAGMENT_LOADED,d,this)}function n(e,t,n){S=e,s(t),w=n,O=w.getRepresentationController()}function r(e){try{E=g.createSourceBuffer(T,e),b||(E.hasOwnProperty("initialize")&&E.initialize(S,this),b=!0)}catch(e){v.mediaSourceError("Error creating "+S+" source buffer.")}return E}function i(){return E}function o(e){E=e}function s(e){T=e}function l(){return w}function c(e){y.off(u.default.DATA_UPDATE_COMPLETED,f,this),y.off(u.default.INIT_FRAGMENT_LOADED,d,this),e||(g.abort(T,E),g.removeSourceBuffer(T,E))}function f(e){e.sender.getStreamProcessor()===w&&y.trigger(u.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function d(e){e.fragmentModel===w.getFragmentModel()&&e.chunk.bytes&&g.append(E,e.chunk)}function p(){return _}var h=this.context,y=(0,a.default)(h).getInstance(),g=e.sourceBufferController,v=e.errHandler,m=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,O=void 0;return m={initialize:n,createBuffer:r,getBuffer:i,setBuffer:o,getStreamProcessor:l,getIsBufferingCompleted:p,setMediaSource:s,reset:c},t(),m}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="TextController",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){R=t,M=0,k=!1,x=!1,D={"urn:mpeg:dash:utc:http-head:2014":T,"urn:mpeg:dash:utc:http-xsdate:2014":b.bind(null,d),"urn:mpeg:dash:utc:http-iso:2014":b.bind(null,p),"urn:mpeg:dash:utc:direct:2014":_,"urn:mpeg:dash:utc:http-head:2012":T,"urn:mpeg:dash:utc:http-xsdate:2012":b.bind(null,d),"urn:mpeg:dash:utc:http-iso:2012":b.bind(null,p),"urn:mpeg:dash:utc:direct:2012":_,"urn:mpeg:dash:utc:http-ntp:2014":m,"urn:mpeg:dash:utc:ntp:2014":m,"urn:mpeg:dash:utc:sntp:2014":m},i()||(w(e),o(!0))}function t(e){e&&(e.metricsModel&&(L=e.metricsModel),e.dashMetrics&&(j=e.dashMetrics))}function n(){return l()}function r(e){k=e}function i(){return k}function o(e){x=e}function s(e){M=e}function l(){return M}function f(e){var t,n,r=60,i=60,o=1e3,a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,s=a.exec(e);return t=Date.UTC(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10),s[6]&&(parseInt(s[6],10)||0),s[7]&&parseFloat(s[7])*o||0),s[9]&&s[10]&&(n=parseInt(s[9],10)*i+parseInt(s[10],10),t+=("+"===s[8]?-1:1)*n*r*o),new Date(t).getTime()}function d(e){var t=Date.parse(e);return isNaN(t)&&(t=f(e)),t}function p(e){return Date.parse(e)}function v(e){return Date.parse(e)}function m(e,t,n){n()}function _(e,t,n){var r=d(e);return isNaN(r)?void n():void t(r)}function b(e,t,n,r,i){var o,a,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",c=t.match(/\S+/g);t=c.shift(),o=function(){s||(s=!0,c.length?b(e,c.join(" "),n,r,i):r())},a=function(){var t,r;200===u.status&&(t=i?u.getResponseHeader("Date"):u.response,r=e(t),isNaN(r)||(n(r),s=!0))},u.open(l,t),u.timeout=g||0,u.onload=a,u.onloadend=o,u.send()}function T(e,t,n){b(v,e,t,n,!0)}function E(){var e=L.getReadOnlyMetricsFor("stream"),t=j.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?S(!0):(s(n-(new Date).getTime()),S(!1,n/1e3,M))}function S(e,t,n){r(!1),I.trigger(c.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new a.default(y):null})}function w(e,t){var n=t||0,i=e[n],o=function(e,t){var n=!e||!t;n&&R?E():S(n,e,t)};r(!0),i?D.hasOwnProperty(i.schemeIdUri)?D[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),n=e-t;s(n),P("Local time:      "+new Date(t)),P("Server time:     "+new Date(e)),P("Difference (ms): "+n),o(e,n)},function(){w(e,n+1)}):w(e,n+1):(s(0),o())}function O(){o(!1),r(!1)}var C=this.context,P=(0,h.default)(C).getInstance().log,I=(0,u.default)(C).getInstance(),A=void 0,M=void 0,k=void 0,x=void 0,R=void 0,D=void 0,L=void 0,j=void 0;return A={initialize:e,getOffsetToDeviceTimeMs:n,setConfig:t,reset:O}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=r(o),s=n(5),u=r(s),l=n(3),c=r(l),f=n(0),d=r(f),p=n(6),h=r(p),y=1,g=5e3;i.__dashjs_factory_name="TimeSyncController";var v=d.default.getSingletonFactory(i);v.TIME_SYNC_FAILED_ERROR_CODE=y,v.HTTP_TIMEOUT_MS=g,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){C.on(c.default.XLINK_ELEMENT_LOADED,l,I),R=(0,a.default)(O).create({errHandler:e.errHandler,metricsModel:e.metricsModel,
requestModifier:e.requestModifier})}function n(e){A=e}function r(e){M=e}function i(e){var t;x=new h.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:A}),k=e,t=d(k.Period_asArray,k,_,v),s(t,_,v)}function o(){C.off(c.default.XLINK_ELEMENT_LOADED,l,I),R&&(R.reset(),R=null)}function s(e,t,n){var r,i,o,a={};for(a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&f(a),o=0;o<a.elements.length;o++)r=a.elements[o],i=P.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,R.load(i,r,a)}function l(e){var t,n,r,i="<response>",o="</response>",a="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,a=t.resolvedContent.substr(0,r)+i+t.resolvedContent.substr(r)+o,t.resolvedContent=x.xml_str2json(a)),S(n)&&f(n)}function f(e){var t,n,r=[];if(p(e),e.resolveType===m&&C.trigger(c.default.XLINK_READY,{manifest:k}),e.resolveType===v)switch(e.type){case _:for(t=0;t<k[_+"_asArray"].length;t++)n=k[_+"_asArray"][t],n.hasOwnProperty(b+"_asArray")&&(r=r.concat(d(n[b+"_asArray"],n,b,v))),n.hasOwnProperty(T+"_asArray")&&(r=r.concat(d(n[T+"_asArray"],n,T,v)));s(r,b,v);break;case b:C.trigger(c.default.XLINK_READY,{manifest:k})}}function d(e,t,n,r){var i,o,a,s=[];for(o=e.length-1;o>=0;o--)i=e[o],i.hasOwnProperty("xlink:href")&&i["xlink:href"]===E&&e.splice(o,1);for(o=0;o<e.length;o++)i=e[o],i.hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(a=y(i["xlink:href"],t,n,o,r,i),s.push(a));return s}function p(e){var t,n,r,i,o,a,s=[];for(i=e.elements.length-1;i>=0;i--){if(t=e.elements[i],n=t.type+"_asArray",!t.resolvedContent||w())delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);else if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)r=t.resolvedContent[n][o],s.push(r);for(t.parentElement[n].splice(t.index,1),a=0;a<s.length;a++)t.parentElement[n].splice(t.index+a,0,s[a]);s=[]}e.elements.length>0&&M.run(k)}function y(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}function S(e){var t,n;for(t=0;t<e.elements.length;t++)if(n=e.elements[t],n.resolved===!1)return!1;return!0}function w(){return!1}var O=this.context,C=(0,u.default)(O).getInstance(),P=(0,g.default)(O).getInstance(),I=void 0,A=void 0,M=void 0,k=void 0,x=void 0,R=void 0;return I={resolveManifestOnLoad:i,setMatchers:n,setIron:r,reset:o},t(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=n(234),a=r(o),s=n(5),u=r(s),l=n(3),c=r(l),f=n(0),d=r(f),p=n(72),h=r(p),y=n(42),g=r(y),v="onLoad",m="onActuate",_="Period",b="AdaptationSet",T="EventStream",E="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return o=(0,a.default)(r).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,c.default)(r).create(e)}function t(){return(0,h.default)(r).getInstance()}function n(){return(0,d.default)(r).getInstance()}var r=this.context,i=void 0,o=void 0;return i={createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(255),a=r(o),s=n(56),u=r(s),l=n(245),c=r(l),f=n(122),d=r(f),p=n(123),h=r(p),y=n(0),g=r(y);i.__dashjs_factory_name="MetricsReporting";var v=g.default.getClassFactory(i);v.events=u.default,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){if(!t.error){var n=Object.keys(i),r=(0,u.default)(o).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(t.manifest);r.forEach(function(t){var r=JSON.stringify(t);if(i.hasOwnProperty(r))n.splice(r,1);else try{var s=(0,a.default)(o).create(e);s.initialize(t),i[r]=s}catch(e){}}),n.forEach(function(e){i[e].reset(),delete i[e]}),s.trigger(d.default.METRICS_INITIALISATION_COMPLETE)}}function n(){Object.keys(i).forEach(function(e){i[e].reset()}),i={}}function r(){s.on(h.default.MANIFEST_UPDATED,t),s.on(h.default.STREAM_TEARDOWN_COMPLETE,n)}var i={},o=this.context,s=e.eventBus;return r(),{}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(246),a=r(o),s=n(256),u=r(s),l=n(0),c=r(l),f=n(56),d=r(f),p=n(3),h=r(p);i.__dashjs_factory_name="MetricsCollectionController",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){try{o=(0,u.default)(s).create({mediaElement:e.mediaElement}),o.initialize(t.Range),i=(0,c.default)(s).create({log:e.log}),i.initialize(t.Reporting,o),r=(0,d.default)(s).create({log:e.log,eventBus:e.eventBus}),r.initialize(t.metrics,i)}catch(e){throw n(),e}}function n(){r&&r.reset(),i&&i.reset(),o&&o.reset()}var r=void 0,i=void 0,o=void 0,a=void 0,s=this.context;return a={initialize:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(248),u=r(s),l=n(249),c=r(l),f=n(247),d=r(f);i.__dashjs_factory_name="MetricsController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){i.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function n(e,n){e.split(",").forEach(function(e,t,r){var o;if(e.indexOf("(")!==-1&&e.indexOf(")")===-1){var a=r[t+1];a&&a.indexOf("(")===-1&&a.indexOf(")")!==-1&&(e+=","+a,delete r[t+1])}o=l.create(e,n),o&&i.push(o)}),u.on(c.default.METRIC_ADDED,t,o),u.on(c.default.METRIC_UPDATED,t,o)}function r(){u.off(c.default.METRIC_ADDED,t,o),u.off(c.default.METRIC_UPDATED,t,o),i.forEach(function(e){return e.reset()}),i=[]}var i=[],o=void 0,s=this.context,u=e.eventBus,l=(0,a.default)(s).getInstance({log:e.log,eventBus:e.eventBus});return o={initialize:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(122),a=r(o),s=n(0),u=r(s),l=n(38),c=r(l);i.__dashjs_factory_name="MetricsHandlersController",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;l.add(t,n)}),o=!!e[0]._useWallClockTime)}function n(){l.clear()}function r(){l=(0,u.default)(a).create()}function i(){var e,t=l.length;if(!t)return!0;e=o?(new Date).getTime()/1e3:c.currentTime;for(var n=0;n<t;n+=1){var r=l.start(n),i=l.end(n);if(r<=e&&e<i)return!0}return!1}var o=!1,a=this.context,s=void 0,l=void 0,c=e.mediaElement;return s={initialize:t,reset:n,isEnabled:i},r(),s}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(132),u=r(s);i.__dashjs_factory_name="RangeController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){e.some(function(e){var n=a.create(e,t);if(n)return i.push(n),!0})}function n(){i.forEach(function(e){return e.reset()}),i=[]}function r(e,t){i.forEach(function(n){return n.report(e,t)})}var i=[],o=void 0,a=(0,u.default)(this.context).getInstance({log:e.log});return o={initialize:t,reset:n,report:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(123),u=r(s);i.__dashjs_factory_name="ReportingController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){try{return Object.keys(h).map(function(e){return h[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function t(){var t=e();t&&f!==t.t&&(f=t.t,a.report(l,t))}function n(e,n,r){n&&(s=p.validateN(r),a=n,l=p.reconstructFullMetricName(e,r),c=setInterval(t,s))}function r(){clearInterval(c),c=null,s=0,a=null,f=null}function i(e,t,n){"BufferLevel"===e&&(h[n]=t)}var o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,f=void 0,d=this.context,p=(0,u.default)(d).getInstance(),h=[];return o={initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(124),u=r(s);i.__dashjs_factory_name="BufferLevelHandler",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){s.off(u.default.METRICS_INITIALISATION_COMPLETE,t,this),s.trigger(u.default.BECAME_REPORTING_PLAYER)}function n(e,n){n&&(a=n,s.on(u.default.METRICS_INITIALISATION_COMPLETE,t,this))}function r(){a=null}function i(e,t){"DVBErrors"===e&&a&&a.report(e,t)}var o=void 0,a=void 0,s=e.eventBus;return o={initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(56),u=r(s);t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){i=e,o=t}function t(){o=null,i=void 0}function n(e,t){e===i&&o&&o.report(i,t)}var r=void 0,i=void 0,o=void 0;return r={initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="GenericMetricHandler",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e=f;e.length&&o&&o.report(l,e),f=[]}function t(t,n,r,i){n&&(a=d.validateN(r),o=n,i&&i.length&&(s=i),l=d.reconstructFullMetricName(t,r,i),c=setInterval(e,a))}function n(){clearInterval(c),c=null,a=null,s=null,f=[],o=null}function r(e,t){"HttpList"===e&&(s&&s!==t.type||f.push(t))}var i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,f=[],d=(0,u.default)(this.context).getInstance();return i={initialize:t,reset:n,handleNewMetric:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(124),u=r(s);i.__dashjs_factory_name="HttpListHandler",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t,n){var r=new XMLHttpRequest,i=function(){var e=g.indexOf(r);e!==-1&&(g.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};g.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(e){r.onerror()}}function t(t,n){Array.isArray(n)||(n=[n]),f&&h.isEnabled()&&n.forEach(function(n){var r=a.serialise(n);l&&"DVBErrors"!==t&&(r="metricname="+t+"&"+r),r=p+"?"+r,e(r,null,function(){f=!1})})}function n(e,t){var n;if(h=t,p=e["dvb:reportingUrl"],!p)throw new Error("required parameter missing (dvb:reportingUrl)");d||(n=e["dvb:probability"]||e["dvb:priority"]||0,n&&(1e3===n||n/1e3>=s.random())&&(f=!0),d=!0)}function r(){y||(g.forEach(function(e){return e.abort()}),g=[]),d=!1,f=!1,p=null,h=null}var i=void 0,o=this.context,a=(0,u.default)(o).getInstance(),s=(0,c.default)(o).getInstance(),l=!0,f=!1,d=!1,p=null,h=null,y=!0,g=[];return i={report:t,initialize:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(257),u=r(s),l=n(258),c=r(l);i.__dashjs_factory_name="DVBReporting",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=new a.default;if(v){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=v.originalUrl||v.url),t.terror||(t.terror=new Date),g.addDVBErrors(t)}}function n(e){e.error||(v=e.manifest)}function r(e){t({errorcode:a.default.BASE_URL_CHANGED,servicelocation:e.entry})}function i(){t({errorcode:a.default.BECAME_REPORTER})}function o(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||a.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function s(e){switch(e.metric){case"HttpList":o(e.value)}}function l(e){var n,r=e.error?e.error.code:0;switch(r){case MediaError.MEDIA_ERR_NETWORK:n=a.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=a.default.CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function f(){y.on(u.default.MANIFEST_UPDATED,n,h),y.on(u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),y.on(c.default.METRIC_ADDED,s,h),y.on(c.default.METRIC_UPDATED,s,h),y.on(c.default.PLAYBACK_ERROR,l,h),y.on(d.default.BECAME_REPORTING_PLAYER,i,h)}function p(){y.off(u.default.MANIFEST_UPDATED,n,h),y.off(u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),y.off(c.default.METRIC_ADDED,s,h),y.off(c.default.METRIC_UPDATED,s,h),y.off(c.default.PLAYBACK_ERROR,l,h),y.off(d.default.BECAME_REPORTING_PLAYER,i,h)}var h=void 0,y=e.eventBus,g=e.metricsModel,v=void 0;return h={initialise:f,reset:p},f(),h}Object.defineProperty(t,"__esModule",{value:!0});var o=n(259),a=r(o),s=n(3),u=r(s),l=n(38),c=r(l),f=n(56),d=r(f),p=n(0),h=r(p);i.__dashjs_factory_name="DVBErrorsTranslator",t.default=h.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){var r,o,a=i.getMpd(e),s=0;return t?s=a.availabilityStartTime.getTime()/1e3:(r=this.getRegularPeriods(e,a),r.length&&(s=r[0].start)),o=s,n&&n.hasOwnProperty("starttime")&&(o+=n.starttime),o}function n(e){var n=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(r){var o=new a.default,s=i.getIsDynamic(e);r.hasOwnProperty("metrics")&&(o.metrics=r.metrics,r.Range_asArray&&r.Range_asArray.forEach(function(n){var r=new u.default;r.starttime=t(e,s,n),n.hasOwnProperty("duration")?r.duration=n.duration:r.duration=i.getDuration(e),r._useWallClockTime=s,o.Range.push(r)}),r.Reporting_asArray&&(r.Reporting_asArray.forEach(function(e){var t=new c.default;if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);o.Reporting.push(t)}}),n.push(o)))}),n}var r=void 0,i=e.dashManifestModel;return r={getMetrics:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(260),a=r(o),s=n(261),u=r(s),l=n(262),c=r(l),f=n(0),d=r(f);i.__dashjs_factory_name="ManifestParsing",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(t){var n,r,i=[],o=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(r=t[n],void 0!==r&&null!==r||(r=""),Array.isArray(r)){if(!r.length)continue;o=[],r.forEach(function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);o.push(n?t:e(t))}),r=o.map(encodeURIComponent).join(",")}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(n+"="+r)}return i.join("&")}return{serialise:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="MetricSerialiser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){n&&(a||(a=new r(o)),n.getRandomValues(a),s=0)}function t(t,r){var o;return t||(t=0),r||(r=1),n?(s===a.length&&e(),o=a[s]/i,s+=1):o=Math.random(),o*(r-t)+t}var n=window.crypto||window.msCrypto,r=Uint32Array,i=Math.pow(2,8*r.BYTES_PER_ELEMENT)-1,o=10,a=void 0,s=void 0,u=void 0;return u={random:t},e(),u}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="RNG",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.metrics="",this.Range=[],this.Reporting=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(){f=new p}function t(e,t,n){var r=y.getBaseURLsFromElement(n);e[t]?g.areSimpleEquivalent(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=d):e[t]=new p(r)}function n(e){var n=y.getBaseURLsFromElement(e);g.areSimpleEquivalent(n,f.data.baseUrls)||(f.data.baseUrls=n,f.data.selectedIdx=d),e.Period_asArray&&e.Period_asArray.forEach(function(e,n){t(f.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,r){t(f.children[n].children,r,e),e.Representation_asArray&&e.Representation_asArray.sort(y.getRepresentationSortFunction()).forEach(function(e,i){t(f.children[n].children[r].children,i,e)})})})}function r(e,t){var n=t||f;e(n.data),n.children&&n.children.forEach(function(t){return r(e,t)})}function i(e){r(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=d)})}function o(e){n(e)}function a(){f=new p}function u(e){var t=f,n=[t.data];return e.forEach(function(e){t=t.children[e],t&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})}var c=void 0,f=void 0,h=this.context,y=(0,s.default)(h).getInstance(),g=(0,l.default)(h).getInstance();return c={reset:a,update:o,getForPath:u,invalidateSelectedIndexes:i},e(),c}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),s=r(a),u=n(293),l=r(u),c=n(0),f=r(c),d=NaN,p=function e(t,n){i(this,e),this.data={baseUrls:t||null,selectedIdx:n||d},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",t.default=f.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(52),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return o(t,e),t}(u.default),c=new l;t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){A=S.getKeySystems(),M=[],D=!1,L="temporary",j="",u.default.extend(g.default.events)}function n(e,t,n){if(!D){var r;t||n||(r=O.getStreamsInfo(e)[0]),k=t||(r?O.getMediaInfoForType(e,r,"audio"):null),x=n||(r?O.getMediaInfoForType(e,r,"video"):null);var i=x?x:k,o=S.getSupportedKeySystemsFromContentProtection(i.contentProtection);o&&o.length>0&&_(o,!0),D=!0}}function r(e){var t=a.default.getPSSHForKeySystem(N,e);if(t){for(var n=w.getAllInitData(),r=0;r<n.length;r++)if(S.initDataEquals(t,n[r]))return void P("DRM: Ignoring initData because we have already seen it!");try{w.createKeySession(t,L)}catch(e){C.trigger(u.default.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else C.trigger(u.default.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+N.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function i(e){w.loadKeySession(e)}function o(e){w.removeKeySession(e)}function s(e){w.closeKeySession(e)}function l(e){w.setServerCertificate(e)}function f(e){e?(w.setMediaElement(e),C.on(u.default.NEED_KEY,E,this),C.on(u.default.INTERNAL_KEY_MESSAGE,T,this)):null===e&&(w.setMediaElement(e),C.off(u.default.NEED_KEY,E,this),C.off(u.default.INTERNAL_KEY_MESSAGE,T,this))}function p(e){L=e}function h(e){j=e}function y(e){R=e}function v(){f(null),N=void 0,w&&(w.reset(),w=null)}function m(e){var t=null,n=e.systemString;return R&&(t=n in R?R[n]:null),t}function _(e,t){var n=this,i=[],o=[];x&&o.push(new c.default(x.codec,j)),k&&i.push(new c.default(k.codec,j));var a,s=new d.default(i,o,"optional","temporary"===L?"optional":"required",[L]),l=[];if(N){for(a=0;a<e.length;a++)if(N===e[a].ks){var f=function(){l.push({ks:e[a].ks,configs:[s]});var i=function i(o){C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,i,n),o.error?t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+o.error}):(P("DRM: KeySystem Access Granted"),C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:o.data}),r(e[a].initData))};return C.on(u.default.KEY_SYSTEM_ACCESS_COMPLETE,i,n),w.requestKeySystemAccess(l),"break"}();if("break"===f)break}}else if(void 0===N){N=null,M.push(e);for(var p=0;p<e.length;p++)l.push({ks:e[p].ks,configs:[s]});var h,y=function e(r){C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,e,n),r.error?(N=void 0,C.off(u.default.INTERNAL_KEY_SYSTEM_SELECTED,g,n),t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+r.error})):(h=r.data,P("DRM: KeySystem Access Granted ("+h.keySystem.systemString+")!  Selecting key system..."),w.selectKeySystem(h))},g=function e(i){if(C.off(u.default.INTERNAL_KEY_SYSTEM_SELECTED,e,n),C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,y,n),i.error)N=void 0,t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+i.error});else{N=w.getKeySystem(),C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:h});for(var o=0;o<M.length;o++)for(a=0;a<M[o].length;a++)if(N===M[o][a].ks){r(M[o][a].initData);break}}};C.on(u.default.INTERNAL_KEY_SYSTEM_SELECTED,g,n),C.on(u.default.KEY_SYSTEM_ACCESS_COMPLETE,y,n),w.requestKeySystemAccess(l)}else M.push(e)}function b(e,t){C.trigger(u.default.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function T(e){if(P("DRM: onKeyMessage"),e.error)return void P(e.error);var t=e.data;C.trigger(u.default.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,i=t.sessionToken,o=m(N),s=N.systemString,l=S.getLicenseServer(N,o,n),c={sessionToken:i,messageType:n};if(!l)return P("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void b(c);if(S.isClearKey(N)){var f=S.processClearKeyLicenseRequest(o,r);if(f)return P("DRM: ClearKey license request handled by application!"),b(c),void w.updateKeySession(i,f)}var d=new XMLHttpRequest,p=null;if(o&&o.serverURL){var h=o.serverURL;"string"==typeof h&&""!==h?p=h:"object"==typeof h&&h.hasOwnProperty(n)&&(p=h[n])}else o&&o.laURL&&""!==o.laURL?p=o.laURL:(p=N.getLicenseServerURLFromInitData(a.default.getPSSHData(i.initData)),p||(p=e.data.laURL));if(p=l.getServerURLFromMessage(p,r,n),!p)return void b(c,"DRM: No license server URL specified!");d.open(l.getHTTPMethod(n),p,!0),d.responseType=l.getResponseType(s,n),d.onload=function(){200==this.status?(b(c),w.updateKeySession(i,l.getLicenseMessage(this.response,s,n))):b(c,"DRM: "+s+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?l.getErrorResponse(this.response,s,n):"NONE"))},d.onabort=function(){b(c,"DRM: "+s+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},d.onerror=function(){b(c,"DRM: "+s+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var y=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(d.withCredentials=!0),d.setRequestHeader(t,e[t])};o&&y(o.httpRequestHeaders),y(N.getRequestHeadersFromMessage(r)),o&&o.withCredentials&&(d.withCredentials=!0),d.send(N.getLicenseRequestFromMessage(r))}function E(e){if(P("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void P("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),P("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=S.getSupportedKeySystems(t,R);return 0===n.length?void P("DRM: Received needkey event with initData, but we don't support any of the key systems!"):void _(n,!1)}var S=e.protectionKeyController,w=e.protectionModel,O=e.adapter,C=e.eventBus,P=e.log,I=void 0,A=void 0,M=void 0,k=void 0,x=void 0,R=void 0,D=void 0,L=void 0,j=void 0,N=void 0;return I={initialize:n,createKeySession:r,loadKeySession:i,removeKeySession:o,closeKeySession:s,setServerCertificate:l,setMediaElement:f,setSessionType:p,setRobustnessLevel:h,setProtectionData:y,reset:v},t(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=r(o),s=n(3),u=r(s),l=n(276),c=r(l),f=n(82),d=r(f),p=n(0),h=r(p),y=n(125),g=r(y);i.__dashjs_factory_name="ProtectionController",t.default=h.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<r.kids.length;o++){var s=r.kids[o],l=e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new a.default(s,l))}n=new u.default(i)}return n}function t(e){return c.default.parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}var o=void 0;return o={uuid:p,schemeIdURI:y,systemString:h,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,getClearKeysFromProtectionData:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(127),a=r(o),s=n(126),u=r(s),l=n(41),c=r(l),f=n(0),d=r(f),p="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",h="org.w3.clearkey",y="urn:uuid:"+p;i.__dashjs_factory_name="KeySystemClearKey",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var t,n,r={},i=new DOMParser,o="utf16"===s?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o),n=i.parseFromString(t,"application/xml");for(var a=n.getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<a.length;l++)r[a[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r}function t(e){var t,n,r=null,i=new DOMParser,o="utf16"===s?new Uint16Array(e):new Uint8Array(e);if(t=String.fromCharCode.apply(null,o),n=i.parseFromString(t,"application/xml"),n.getElementsByTagName("Challenge")[0]){var a=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;a&&(r=d.default.decode(a))}return r}function n(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var u=e.slice(r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else r+=s}return null}function r(e){var t,n,r,i,o,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,c=null;if("pssh"in e)return a.default.parseInitDataFromContentProtection(e);if("pro"in e)c=d.default.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;c=d.default.decodeArray(e.prheader.__text)}return t=c.length,n=4+s.length+u.length+4+t,r=new ArrayBuffer(n),i=new Uint8Array(r),o=new DataView(r),o.setUint32(l,n),l+=4,i.set(s,l),l+=s.length,i.set(u,l),l+=u.length,o.setUint32(l,t),l+=4,i.set(c,l),l+=t,i.buffer}function i(e){if("utf8"!==e&&"utf16"!==e)throw new u.default("Illegal PlayReady message format! -- "+e);s=e}var o=void 0,s="utf16";return o={uuid:p,schemeIdURI:y,systemString:h,getInitData:r,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:t,getLicenseServerURLFromInitData:n,setPlayReadyMessageFormat:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=r(o),s=n(17),u=r(s),l=n(0),c=r(l),f=n(71),d=r(f),p="9a04f079-9840-4286-ab92-e65be0885f95",h="com.microsoft.playready",y="urn:uuid:"+p;i.__dashjs_factory_name="KeySystemPlayReady",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return a.default.parseInitDataFromContentProtection(e)}function t(){return null}function n(e){return new Uint8Array(e)}function r(){return null}var i=void 0;return i={uuid:l,schemeIdURI:f,systemString:c,getInitData:e,getRequestHeadersFromMessage:t,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=r(o),s=n(0),u=r(s),l="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",c="com.widevine.alpha",f="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemWidevine",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){M=null,k=null,D=[],L=[],x=(0,a.default)(O).getInstance(),R=(0,b.default)(O).getInstance(),N=E()}function n(){M&&w();for(var e=0;e<L.length;e++)y(L[e]);C.trigger(m.default.TEARDOWN_COMPLETE)}function r(){return k}function i(){for(var e=[],t=0;t<D.length;t++)e.push(D[t].initData);for(var t=0;t<L.length;t++)e.push(L[t].initData);return e}function o(e){var t=M;t||(t=document.createElement("video"));for(var n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,o=e[r].configs,a=null,s=null,u=0;u<o.length;u++){
var l=o[u].videoCapabilities;if(l&&0!==l.length){s=[];for(var c=0;c<l.length;c++)""!==t.canPlayType(l[c].contentType,i)&&s.push(l[c])}if(!(!a&&!s||a&&0===a.length||s&&0===s.length)){n=!0;var f=new h.default(a,s),d=x.getKeySystemBySystemString(i);C.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new g.default(d,f)});break}}n||C.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function s(e){k=e.keySystem,C.trigger(m.default.INTERNAL_KEY_SYSTEM_SELECTED)}function l(e){M!==e&&(M&&w(),M=e,M&&(M.addEventListener(I.keyerror,N),M.addEventListener(I.needkey,N),M.addEventListener(I.keymessage,N),M.addEventListener(I.keyadded,N),C.trigger(m.default.VIDEO_ELEMENT_SELECTED)))}function f(e){if(!k)throw new Error("Can not create sessions until you have selected a key system");if(j||0===L.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return D.push(t),M[I.generateKeyRequest](k.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function p(e,t){var n=e.sessionID;if(x.isClearKey(k))for(var r=0;r<t.keyPairs.length;r++)M[I.addKey](k.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else M[I.addKey](k.systemString,new Uint8Array(t),e.initData,n)}function y(e){M[I.cancelKeyRequest](k.systemString,e.sessionID)}function v(){}function _(){}function T(){}function E(){return{handleEvent:function(e){var t=null;switch(e.type){case I.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;C.trigger(m.default.NEED_KEY,{key:new u.default(n,"cenc")});break;case I.keyerror:if(t=S(L,e.sessionId),t||(t=S(D,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,C.trigger(m.default.KEY_ERROR,{data:new c.default(t,r)})}else P("No session token found for key error");break;case I.keyadded:t=S(L,e.sessionId),t||(t=S(D,e.sessionId)),t?(P("DRM: Key added."),C.trigger(m.default.KEY_ADDED,{data:t})):P("No session token found for key added");break;case I.keymessage:if(j=null!==e.sessionId&&void 0!==e.sessionId,j?(t=S(L,e.sessionId),!t&&D.length>0&&(t=D.shift(),L.push(t),t.sessionID=e.sessionId)):D.length>0&&(t=D.shift(),L.push(t),0!==D.length&&R.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,C.trigger(m.default.INTERNAL_KEY_MESSAGE,{data:new d.default(t,i,e.defaultURL)})}else P("No session token found for key message")}}}}function S(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function w(){M.removeEventListener(I.keyerror,N),M.removeEventListener(I.needkey,N),M.removeEventListener(I.keymessage,N),M.removeEventListener(I.keyadded,N)}var O=this.context,C=e.eventBus,P=e.log,I=e.api,A=void 0,M=void 0,k=void 0,x=void 0,R=void 0,D=void 0,L=void 0,j=void 0,N=void 0;return A={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,createKeySession:f,updateKeySession:p,closeKeySession:y,setServerCertificate:v,loadKeySession:_,removeKeySession:T,reset:n},t(),A}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=r(o),s=n(83),u=r(s),l=n(79),c=r(l),f=n(80),d=r(f),p=n(82),h=r(p),y=n(81),g=r(y),v=n(3),m=r(v),_=n(24),b=r(_),T=n(0),E=r(T);i.__dashjs_factory_name="ProtectionModel_01b",t.default=E.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){C=null,P=null,I=null,A=[],k=(0,a.default)(x).getInstance(),M=E()}function n(){var e,t=A.length;if(0!==t)for(var n=function(e){S(e),0===A.length&&(P?(P.removeEventListener("encrypted",M),P.setMediaKeys(null).then(function(){R.trigger(g.default.TEARDOWN_COMPLETE)})):R.trigger(g.default.TEARDOWN_COMPLETE))},r=0;r<t;r++)e=A[r],function(t){e.session.closed.then(function(){n(t)}),T(e).catch(function(){n(t)})}(e);else R.trigger(g.default.TEARDOWN_COMPLETE)}function r(){return C}function i(){for(var e=[],t=0;t<A.length;t++)e.push(A[t].initData);return e}function o(e){b(e,0)}function s(e){e.mksa.createMediaKeys().then(function(t){C=e.keySystem,I=t,P&&P.setMediaKeys(I),R.trigger(g.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){R.trigger(g.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function l(e){P!==e&&(P&&(P.removeEventListener("encrypted",M),P.setMediaKeys(null)),P=e,P&&(P.addEventListener("encrypted",M),I&&P.setMediaKeys(I)))}function f(e){if(!C||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(e).then(function(){D("DRM: License server certificate successfully updated."),R.trigger(g.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){R.trigger(g.default.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function p(e,t){if(!C||!I)throw new Error("Can not create sessions until you have selected a key system");var n=I.createSession(t),r=w(n,e,t);n.generateRequest("cenc",e).then(function(){D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(g.default.KEY_SESSION_CREATED,{data:r})}).catch(function(e){S(r),R.trigger(g.default.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function y(e,t){var n=e.session;k.isClearKey(C)&&(t=t.toJWK()),n.update(t).catch(function(t){R.trigger(g.default.KEY_ERROR,{data:new c.default(e,"Error sending update() message! "+t.name)})})}function v(e){if(!C||!I)throw new Error("Can not load sessions until you have selected a key system");var t=I.createSession();t.load(e).then(function(n){if(n){var r=w(t);D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(g.default.KEY_SESSION_CREATED,{data:r})}else R.trigger(g.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})}).catch(function(t){R.trigger(g.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function m(e){var t=e.session;t.remove().then(function(){D("DRM: Session removed.  SessionID = "+e.getSessionID()),R.trigger(g.default.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){R.trigger(g.default.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function _(e){T(e).catch(function(t){S(e),R.trigger(g.default.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function b(e,t){!function(t){var n=e[t].ks,r=e[t].configs;navigator.requestMediaKeySystemAccess(n.systemString,r).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,r=new h.default(n,t);r.mksa=e,R.trigger(g.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:r})}).catch(function(){++t<e.length?b(e,t):R.trigger(g.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(t)}function T(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function E(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;R.trigger(g.default.NEED_KEY,{key:new u.default(t,e.initDataType)})}}}}}function S(e){for(var t=0;t<A.length;t++)if(A[t]===e){A.splice(t,1);break}}function w(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":R.trigger(g.default.KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;R.trigger(g.default.INTERNAL_KEY_MESSAGE,{data:new d.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){S(r),D("DRM: Session closed.  SessionID = "+r.getSessionID()),R.trigger(g.default.KEY_SESSION_CLOSED,{data:r.getSessionID()})}),A.push(r),r}var O,C,P,I,A,M,k,x=this.context,R=e.eventBus,D=e.log;return O={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,setServerCertificate:f,createKeySession:p,updateKeySession:y,loadKeySession:v,removeKeySession:m,closeKeySession:_,reset:n},t(),O}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=r(o),s=n(83),u=r(s),l=n(79),c=r(l),f=n(80),d=r(f),p=n(81),h=r(p),y=n(3),g=r(y),v=n(0),m=r(v);i.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=m.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){A=null,M=null,k=null,x=null,R=[],L=(0,a.default)(w).getInstance(),D=T()}function n(){try{for(var e=0;e<R.length;e++)y(R[e]);A&&A.removeEventListener(P.needkey,D),O.trigger(m.default.TEARDOWN_COMPLETE)}catch(e){O.trigger(m.default.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function r(){return M}function i(){for(var e=[],t=0;t<R.length;t++)e.push(R[t].initData);return e}function o(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var c=0;c<u.length;c++)window[P.MediaKeys].isTypeSupported(r,u[c].contentType)&&o.push(u[c])}if(l&&0!==l.length){a=[];for(var f=0;f<l.length;f++)window[P.MediaKeys].isTypeSupported(r,l[f].contentType)&&a.push(l[f])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var d=new h.default(o,a),p=L.getKeySystemBySystemString(r);O.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new g.default(p,d)});break}}t||O.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function s(e){try{k=e.mediaKeys=new window[P.MediaKeys](e.keySystem.systemString),M=e.keySystem,x=e,A&&E(),O.trigger(m.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){O.trigger(m.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+M.systemString+")! Could not create MediaKeys -- TODO"})}}function l(e){A!==e&&(A&&A.removeEventListener(P.needkey,D),A=e,A&&(A.addEventListener(P.needkey,D),k&&E()))}function f(e){if(!M||!k||!x)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==x.ksConfiguration.videoCapabilities&&x.ksConfiguration.videoCapabilities.length>0&&(t=x.ksConfiguration.videoCapabilities[0]),null===t&&null!==x.ksConfiguration.audioCapabilities&&x.ksConfiguration.audioCapabilities.length>0&&(t=x.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,r=k.createSession(n,new Uint8Array(e)),i=S(r,e);r.addEventListener(P.error,i),r.addEventListener(P.message,i),r.addEventListener(P.ready,i),r.addEventListener(P.close,i),R.push(i),C("DRM: Session created.  SessionID = "+i.getSessionID()),O.trigger(m.default.KEY_SESSION_CREATED,{data:i})}function p(e,t){var n=e.session;L.isClearKey(M)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function y(e){var t=e.session;t.removeEventListener(P.error,e),t.removeEventListener(P.message,e),t.removeEventListener(P.ready,e),t.removeEventListener(P.close,e);for(var n=0;n<R.length;n++)if(R[n]===e){R.splice(n,1);break}t[P.release]()}function v(){}function _(){}function b(){}function T(){return{handleEvent:function(e){switch(e.type){case P.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;O.trigger(m.default.NEED_KEY,{key:new u.default(t,"cenc")})}}}}}function E(){var e=null,t=function(){A.removeEventListener("loadedmetadata",e),A[P.setMediaKeys](k),O.trigger(m.default.VIDEO_ELEMENT_SELECTED)};A.readyState>=1?t():(e=t.bind(this),A.addEventListener("loadedmetadata",e))}function S(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case P.error:var t="KeyError";O.trigger(m.default.KEY_ERROR,{data:new c.default(this,t)});break;case P.message:var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;O.trigger(m.default.INTERNAL_KEY_MESSAGE,{data:new d.default(this,n,e.destinationURL)});break;case P.ready:C("DRM: Key added."),O.trigger(m.default.KEY_ADDED);break;case P.close:C("DRM: Session closed.  SessionID = "+this.getSessionID()),O.trigger(m.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var w=this.context,O=e.eventBus,C=e.log,P=e.api,I=void 0,A=void 0,M=void 0,k=void 0,x=void 0,R=void 0,D=void 0,L=void 0;return I={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,createKeySession:f,updateKeySession:p,closeKeySession:y,setServerCertificate:v,loadKeySession:_,removeKeySession:b,reset:n},t(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=r(o),s=n(83),u=r(s),l=n(79),c=r(l),f=n(80),d=r(f),p=n(82),h=r(p),y=n(81),g=r(y),v=n(3),m=r(v),_=n(0),b=r(_);i.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=b.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1)}function t(){return"GET"}function n(){return"json"}function r(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),o=r.k.replace(/=/g,"");t.push(new a.default(i,o))}return new u.default(t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var o=void 0;return o={getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(127),a=r(o),s=n(126),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="ClearKey",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e}function t(){return"POST"}function n(e){return o[e].responseType}function r(e,t){return o[t].getLicenseMessage(e)}function i(e,t){return o[t].getErrorResponse(e)}var o={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return u.default.decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}},a=void 0;return a={getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(71),u=r(s);i.__dashjs_factory_name="DRMToday",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var o=void 0;return o={getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="PlayReady",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var o=void 0;return o={getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="Widevine",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.contentType=t,this.robustness=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=t.droppedVideoFrames-i;i=t.droppedVideoFrames;var a=t.totalVideoFrames-o;o=t.totalVideoFrames,r[e]?(r[e].droppedVideoFrames+=n,r[e].totalVideoFrames+=a):r[e]={droppedVideoFrames:n,totalVideoFrames:a}}function t(){return r}function n(e){r=[],i=e.droppedVideoFrames,o=e.totalVideoFrames}var r=[],i=0,o=0;return{push:e,getFrameHistory:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="DroppedFramesHistory";var s=a.default.getClassFactory(i);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){r[e.oldValue]||(r[e.oldValue]={noDrops:0,drops:0,dropSize:0});var t=e.newValue-e.oldValue,n=t<0?1:0,o=n?-t:0,a=n?0:1;if(r[e.oldValue].drops+=n,r[e.oldValue].dropSize+=o,r[e.oldValue].noDrops+=a,i.push({idx:e.oldValue,noDrop:a,drop:n,dropSize:o}),i.length>s){var u=i.shift();r[u.idx].drops-=u.drop,r[u.idx].dropSize-=u.dropSize,r[u.idx].noDrops-=u.noDrop}}function t(){return r}function n(){r=[],i=[]}var r=[],i=[];return{push:e,getSwitchRequests:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=8;i.__dashjs_factory_name="SwitchRequestHistory";var u=a.default.getClassFactory(i);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){y={},v={},m=[],_=(0,u.default)(p).getInstance(),b=(0,c.default)(p).getInstance(),T=(0,d.default)(p).getInstance()}function t(e,t){y[e]=y[e]||{},y[e][t]=y[e][t]||{}}function n(e,t){m[e]=m[e]||[],m[e].push(t)}function r(e){var r=e.getMediaInfo(),o=r.type,u=e.getCurrentRequest(),c=(0,a.default)(p).create(a.default.NO_CHANGE,{name:i.__dashjs_factory_name});if(!isNaN(u.index)){t(o,u.index);var d=_.getStableBufferTime(),g=b.getCurrentBufferLevel(T.getReadOnlyMetricsFor(o));if(g>d)return c;var E=y[o][u.index];if(null===E||null===u.firstByteDate||v.hasOwnProperty(E.id))return c;if(void 0===E.firstByteTime&&(m[o]=[],E.firstByteTime=u.firstByteDate.getTime(),E.segmentDuration=u.duration,E.bytesTotal=u.bytesTotal,E.id=u.index),E.bytesLoaded=u.bytesLoaded,E.elapsedTime=(new Date).getTime()-E.firstByteTime,E.bytesLoaded>0&&E.elapsedTime>0&&n(o,Math.round(8*E.bytesLoaded/E.elapsedTime)),m[o].length>=f&&E.elapsedTime>l&&E.bytesLoaded<E.bytesTotal){var S=m[o].reduce(function(e,t){return e+t},0);if(E.measuredBandwidthInKbps=Math.round(S/m[o].length),E.estimatedTimeOfDownload=+(8*E.bytesTotal/E.measuredBandwidthInKbps/1e3).toFixed(2),E.estimatedTimeOfDownload<E.segmentDuration*s||0===e.getTrackInfo().quality)return c;if(!v.hasOwnProperty(E.id)){var w=e.getStreamProcessor().getABRController(),O=E.bytesTotal-E.bytesLoaded,C=w.getBitrateList(r),P=w.getQualityForBitrate(r,E.measuredBandwidthInKbps*_.getBandwidthSafetyFactor()),I=E.bytesTotal*C[P].bitrate/C[w.getQualityFor(o,r.streamInfo)].bitrate;O>I&&(c.value=P,c.reason.throughput=E.measuredBandwidthInKbps,c.reason.fragmentID=E.id,v[E.id]=E,h("AbandonRequestsRule ( ",o,"frag id",E.id,") is asking to abandon and switch to quality to ",P," measured bandwidth was",E.measuredBandwidthInKbps),delete y[o][E.id])}}else E.bytesLoaded===E.bytesTotal&&delete y[o][E.id]}return c}function o(){e()}var s=1.8,l=500,f=5,p=this.context,h=(0,g.default)(p).getInstance().log,y=void 0,v=void 0,m=void 0,_=void 0,b=void 0,T=void 0,E={shouldAbandon:r,reset:o};return e(),E}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),s=n(10),u=r(s),l=n(23),c=r(l),f=n(21),d=r(f),p=n(0),h=r(p),y=n(6),g=r(y);i.__dashjs_factory_name="AbandonRequestsRule",t.default=h.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){m={},_=(0,u.default)(f).getInstance()}function n(e,t,n){m[e]={index:t,quality:n}}function r(e,t,n){var r=m[e];return!r||(t!==r.index||n<r.quality)}function o(e){var t=e.getMediaInfo(),o=t.type,s=g.getReadOnlyMetricsFor(o),u=e.getCurrentRequest(),d=(0,a.default)(f).create(a.default.NO_CHANGE,{name:i.__dashjs_factory_name});if(0===s.BolaState.length)return p("WARNING: executing BolaAbandonRule before initializing BolaRule"),m[o]=null,d;var v=s.BolaState[0]._s,_=u.index,b=u.quality;if(isNaN(_)||0===b||!r(o,_,b)||!u.firstByteDate)return d;var T=Date.now(),E=T-u.firstByteDate.getTime(),S=u.bytesLoaded,w=u.bytesTotal,O=w-S,C=u.duration,P=y.getCurrentBufferLevel(s)?y.getCurrentBufferLevel(s):0,I=P+v.placeholderBuffer,A=8*S/(.001*E),M=v.bandwidthSafetyFactor*A,k=.001*(u.firstByteDate.getTime()-u.requestStartDate.getTime());k<.001*c&&(k=.001*c);var x=k+8*w/M,R="";h.default.BOLA_DEBUG&&(R="index="+_+" quality="+b+" bytesLoaded/bytesTotal="+S+"/"+w+" bufferLevel="+P+" timeSince1stByte="+(E/1e3).toFixed(3)+" estThroughput="+(M/1e6).toFixed(3)+" latency="+k.toFixed(3));var D=w*v.bitrates[0]/v.bitrates[b],L=O-k*M/8;if(L<1&&(L=1),E<l||O<=D||P>v.bufferTarget||L<=D||x<=C)return d;var j=I-k;j<0&&(j=0);for(var N=0;N+1<b&&w*v.bitrates[N+1]/v.bitrates[b]<L;)++N;var F=b;if(v.state===h.default.BOLA_STATE_STARTUP){F=0;for(var U=0;U<=N&&(D=w*v.bitrates[U]/v.bitrates[b],!(8*D/C>M));++U)F=U}else for(var B=(v.Vp*(v.utilities[b]+v.gp)-j)/L,U=0;U<=N;++U){D=w*v.bitrates[U]/v.bitrates[b];var H=(v.Vp*(v.utilities[U]+v.gp)-j)/D;H>B&&(F=U,B=H)}var V=v.rebufferSafetyFactor*A*(P-k)/8;if(F===b&&L>V&&(F=N),F===b)return d;for(;F>0&&(D=w*v.bitrates[F]/v.bitrates[b],!(D<=V));)--F;var q=NaN;if(F>0){var z=v.utilities[F],G=v.utilities[F-1],H=v.bitrates[F],K=v.bitrates[F-1];q=v.Vp*((H*G-K*z)/(H-K)+v.gp)}else{var z=v.utilities[0],G=v.utilities[1],H=v.bitrates[0],K=v.bitrates[1];q=v.Vp*((H*G-K*z)/(H-K)+v.gp),q-=C}return I>q&&(v.placeholderBuffer=q-P,v.placeholderBuffer<0&&(v.placeholderBuffer=0)),v.lastQuality=F,g.updateBolaState(o,v),h.default.BOLA_DEBUG&&p("BolaDebug "+o+" BolaAbandonRule abandon to "+F+" - "+R),n(o,_,b),d.value=F,d.reason.state=v.state,d.reason.throughput=A,d.reason.bufferLevel=P,d.reason.bytesLoaded=u.bytesLoaded,d.reason.bytesTotal=u.bytesTotal,d.reason.elapsedTimeMs=E,d}function s(){m={}}var l=500,c=200,f=this.context,p=(0,d.default)(f).getInstance().log,y=e.dashMetrics,g=e.metricsModel,v=void 0,m=void 0,_=void 0;return v={shouldAbandon:o,reset:s},t(),v}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),s=n(10),u=r(s),l=n(0),c=r(l),f=n(6),d=r(f),p=n(131),h=r(p);i.__dashjs_factory_name="BolaAbandonRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var o=e.getDroppedFramesHistory();if(o){for(var a=o.getFrameHistory(),s=0,l=0,c=u.default.NO_CHANGE,f=1;f<a.length;f++)if(a[f]&&(s=a[f].droppedVideoFrames,l=a[f].totalVideoFrames,l>i&&s/l>r)){c=f-1,n("DroppedFramesRule, index: "+c+" Dropped Frames: "+s+" Total Frames: "+l);break}return(0,u.default)(t).create(c,{droppedFrames:s})}return(0,u.default)(t).create()}var t=this.context,n=(0,c.default)(t).getInstance().log,r=.15,i=375;return{getMaxIndex:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(16),u=r(s),l=n(6),c=r(l);i.__dashjs_factory_name="DroppedFramesRule";var f=a.default.getClassFactory(i);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){y={},v=0,m=1e3,f.on(c.default.PLAYBACK_SEEKING,i,p)}function n(e){var t=(new Date).getTime(),n=e.getMediaInfo().type,i=d.getReadOnlyMetricsFor(n),o=i.BufferState.length>0?i.BufferState[i.BufferState.length-1]:null,u=(0,g.default)(s).create();return t-v<m||null===o?u:(r(n,o.state),o.state===a.default.BUFFER_EMPTY&&void 0!==y[n].firstBufferLoadedEvent&&(l("Switch to index 0; buffer is empty."),u.value=0,u.reason="InsufficientBufferRule: Buffer is empty"),v=t,u)}function r(e,t){y[e]=y[e]||{},y[e].state=t,t!==a.default.BUFFER_LOADED||y[e].firstBufferLoadedEvent||(y[e].firstBufferLoadedEvent=!0)}function i(){y={}}function o(){f.off(c.default.PLAYBACK_SEEKING,i,p),y={},v=0}var s=this.context,l=(0,h.default)(s).getInstance().log,f=(0,u.default)(s).getInstance(),d=e.metricsModel,p=void 0,y=void 0,v=void 0,m=void 0;return p={getMaxIndex:n,reset:o},t(),p}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=r(o),s=n(5),u=r(s),l=n(3),c=r(l),f=n(0),d=r(f),p=n(6),h=r(p),y=n(16),g=r(y);i.__dashjs_factory_name="InsufficientBufferRule",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){for(var o=e.getSwitchHistory(),a=o.getSwitchRequests(),s=0,u=0,l=0,f=(0,c.default)(t).create(),d=0;d<a.length;d++)if(void 0!==a[d]&&(s+=a[d].drops,u+=a[d].noDrops,l+=a[d].dropSize,s+u>=i&&s/u>r)){f.value=d>0?d-1:0,f.reason={index:f.value,drops:s,noDrops:u,dropSize:l},n("Switch history rule index: "+f.value+" samples: "+(s+u)+" drops: "+s);break}return f}var t=this.context,n=(0,u.default)(t).getInstance().log,r=.075,i=6;return{getMaxIndex:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(6),u=r(s),l=n(16),c=r(l);i.__dashjs_factory_name="SwitchRequest";var f=a.default.getClassFactory(i);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){A=[],M=[],k=(0,c.default)(O).getInstance()}function n(e,t){A[e]=A[e]||[],A[e].push(t)}function r(e,t){if(M[e]||(M[e]=[]),M[e].push(t),M[e].length>_)return M[e].shift()}function i(e){var t=void 0;return M[e]&&M[e].length>0&&(t=M[e].reduce(function(e,t){return e+t})/M[e].length),t}function o(e,t){var n=Math.min(A[e].length,t?g:m),r=A[e].slice(n*-1,A[e].length);return r.length>1&&r.reduce(function(e,t){return(e*w<=t||e>=t*S)&&n++,t}),n=Math.min(A[e].length,n),A[e].slice(n*-1,A[e].length)}function s(e,t){var n=o(e,t),r=0;if(n.length>0){var i=n.reduce(function(e,t){return e+t},0);r=i/n.length}return A[e].length>=h&&A[e].shift(),r/1e3*k.getBandwidthSafetyFactor()}function l(e,t,n){var r=!1;if(e<E&&(r=!0),!r)switch(n){case"video":r=t<b;break;case"audio":r=t<T}return r}function d(e){var t=e.getMediaInfo(),o=t.type,c=I.getReadOnlyMetricsFor(o),d=e.getStreamProcessor(),p=d.getABRController(),h=d.isDynamic(),y=P.getCurrentHttpRequest(c),g=c.BufferState.length>0?c.BufferState[c.BufferState.length-1]:null,m=e.hasRichBuffer(),_=(0,v.default)(O).create();if(!c||!y||y.type!==f.HTTPRequest.MEDIA_SEGMENT_TYPE||!g||m)return _;var b=void 0,T=void 0;if(y.trace&&y.trace.length){T=y.tresponse.getTime()-y.trequest.getTime()||1,b=y._tfinish.getTime()-y.tresponse.getTime()||1;var E=y.trace.reduce(function(e,t){return e+t.b[0]},0),S=Math.round(8*E/(b/1e3)),w=void 0,k=void 0;l(T,b,o)?A[o]&&M[o]?(w=s(o,h),k=i(o)):(w=S/1e3,k=T):(n(o,S),w=s(o,h),r(o,T),k=i(o,h)),p.setAverageThroughput(o,w),p.getAbandonmentStateFor(o)!==u.default.ABANDON_LOAD&&(g.state===a.default.BUFFER_LOADED||h)&&(_.value=p.getQualityForBitrate(t,w,k),d.getScheduleController().setTimeToLoadDelay(0),C("ThroughputRule requesting switch to index: ",_.value,"type: ",o,"Average throughput",Math.round(w),"kbps"),_.reason={throughput:w,latency:k})}return _}function p(){t()}var h=20,g=3,m=4,_=m,b=50,T=5,E=50,S=1.3,w=1.3,O=this.context,C=(0,y.default)(O).getInstance().log,P=e.dashMetrics,I=e.metricsModel,A=void 0,M=void 0,k=void 0,x={getMaxIndex:d,reset:p};return t(),x}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=r(o),s=n(28),u=r(s),l=n(10),c=r(l),f=n(15),d=n(0),p=r(d),h=n(6),y=r(h),g=n(16),v=r(g);i.__dashjs_factory_name="ThroughputRule",t.default=p.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t,n=0;return e&&e.some(function(e,t){return n=t,!r.contains(e.serviceLocation)})&&(t=e[n]),t}var n=void 0,r=e.blacklistController;return n={select:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="BasicSelector",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||t.indexOf(e.dvb_priority)===-1},r=function(e){return!o.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(r).filter(n)}function n(e){var t,n,r=function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n},i=function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority},o=0,a=[],s=0;if(n=e.sort(r).filter(i),n.length)return n.length>1&&(n.forEach(function(e){o+=e.dvb_weight,a.push(o)}),t=Math.floor(Math.random()*(o-1)),a.every(function(e,n){return s=n,!(t<e)})),n[s]}function r(e){return e&&n(t(e))}var i=void 0,o=e.blacklistController;return i={select:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="DVBSelector",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){c=(0,a.default)(i).getInstance(),f=(0,u.default)(i).getInstance()}function n(e,t,n){var i=o.getCurrentBufferLevel(s.getReadOnlyMetricsFor(t));return i<r(e,t,n)}function r(e,t,n){var r=NaN,i=e.getCurrentRepresentationInfo();if("fragmentedText"===t)r=l.getAllTracksAreDisabled()?0:i.fragmentDuration;else if("audio"===t&&n){var a=o.getCurrentBufferLevel(s.getReadOnlyMetricsFor("video"));r=Math.floor(Math.max(a,i.fragmentDuration))}else{var u=i.mediaInfo.streamInfo,f=e.getABRController();if(f.isPlayingAtTopQuality(u)){var d=u.manifestInfo.duration>=c.getLongFormContentDurationThreshold();r=d?c.getBufferTimeAtTopQualityLongForm():c.getBufferTimeAtTopQuality()}else r=c.getStableBufferTime()}return r}var i=this.context,o=e.dashMetrics,s=e.metricsModel,l=e.textSourceBuffer,c=void 0,f=void 0,d={execute:n,getBufferTarget:r};return t(),d}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=r(o),s=n(20),u=r(s),l=n(0),c=r(l);i.__dashjs_factory_name="BufferLevelRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n=e.getCurrentRepresentationInfo(),a=n.mediaInfo,u=a.type,l=e.getScheduleController(),c=l.getSeekTarget(),f=!isNaN(c),d=e.getBuffer(),p=f?c:i.getIndexHandlerTime(e);
if(isNaN(p)||"fragmentedText"===u&&s.getAllTracksAreDisabled())return null;if(f&&l.setSeekTarget(NaN),d){var h=o.getBufferRange(e.getBuffer(),p);null!==h&&(r("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",p," was changed to ",h.end),p=h.end)}var y=void 0;return t?(p=t.startTime+t.duration/2,y=i.getFragmentRequestForTime(e,n,p,{timeThreshold:0,ignoreIsFinished:!0})):(y=i.getFragmentRequestForTime(e,n,p,{keepIdx:!f}),y&&e.getFragmentModel().isFragmentLoaded(y)&&(y=i.getNextFragmentRequest(e,n)),y&&(i.setIndexHandlerTime(e,y.startTime+y.duration),y.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay(),l.setTimeToLoadDelay(0))),y}var n=this.context,r=(0,a.default)(n).getInstance().log,i=e.adapter,o=e.sourceBufferController,s=e.textSourceBuffer,u={execute:t};return u}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=r(o),s=n(0),u=r(s);i.__dashjs_factory_name="NextFragmentRequestRule",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){p=(0,d.default)(o).create({updateEventName:u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:u.default.FRAGMENT_LOADING_COMPLETED}),y=(0,g.default)(o).create({blacklistController:p}),v=(0,h.default)(o).create({blacklistController:p}),m=y}function t(e){e.selector&&(m=e.selector)}function n(e){m=l.getIsDVB(e)?v:y}function r(e){var t=e.baseUrls,n=e.selectedIdx;if(!isNaN(n))return t[n];var r=m.select(t);return r?(e.selectedIdx=t.indexOf(r),r):void s.trigger(u.default.URL_RESOLUTION_FAILED,{error:new Error(_,b)})}function i(){p.reset()}var o=this.context,s=(0,a.default)(o).getInstance(),l=(0,c.default)(o).getInstance(),f=void 0,p=void 0,y=void 0,v=void 0,m=void 0;return f={chooseSelectorFromManifest:n,select:r,reset:i,setConfig:t},e(),f}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(3),u=r(s),l=n(27),c=r(l),f=n(236),d=r(f),p=n(286),h=r(p),y=n(285),g=r(y),v=n(0),m=r(v),_=1,b="Failed to resolve a valid URL";i.__dashjs_factory_name="BaseURLSelector";var T=m.default.getClassFactory(i);T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=_,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=b,t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){a=!1}function t(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function n(){return a}function r(e){a=e}function i(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n}var o=void 0,a=void 0;return o={supportsMediaSource:t,supportsEncryptedMedia:n,supportsCodec:i,setEncryptedMediaSupported:r},e(),o}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="Capabilities",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return h}function n(e){h=e}function r(e,t){var n=!0,r=0,i=void 0,o=void 0;if(void 0===t&&(t=!1),e.tag>16777215?(p.getUint32(h)!==e.tag&&(n=!1),r=4):e.tag>65535?(i=p.getUint16(h),o=p.getUint8(h+2),256*i+o!==e.tag&&(n=!1),r=3):e.tag>255?(p.getUint16(h)!==e.tag&&(n=!1),r=2):(p.getUint8(h)!==e.tag&&(n=!1),r=1),!n&&e.required&&!t)throw new u.default("required tag not found");return n&&(h+=r),n}function i(e,t){var n=r(e,t);return n&&s(),n}function o(e){var t=void 0;return r(e),t=s(),d[e.parse](t)}function a(e,t){var n=r(e,t),i=void 0;return n&&(i=s(),h+=i),n}function s(e){var t=1,n=128,r=8,i=-1,o=0,a=p.getUint8(h),s=void 0;for(s=0;s<r;s+=1){if((a&n)===n){o=void 0===e?a&~n:a,i=s;break}n>>=1}for(s=0;s<i;s+=1,t+=1)o=o<<8|255&p.getUint8(h+t);return h+=t,o}function l(e){var t=void 0;switch(e){case 4:t=p.getFloat32(h),h+=4;break;case 8:t=p.getFloat64(h),h+=8}return t}function c(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&p.getUint8(h+n);return h+=e,t}function f(){return h<p.byteLength}var d=void 0,p=new DataView(e.data),h=0;return d={getPos:t,setPos:n,consumeTag:r,consumeTagAndSize:i,parseTag:o,skipOverElement:a,getMatroskaCodedNum:s,getMatroskaFloat:l,getMatroskaUint:c,moreData:f}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(17),u=r(s);i.__dashjs_factory_name="EBMLParser",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e&&c&&c.boxes&&0!==c.boxes.length?u(c.fetch(e)):null}function t(e){for(var t,n=c.fetchAll(e),r=[],i=0,o=n.length;i<o;i++)t=u(n[i]),t&&r.push(t);return r}function n(e){c=e}function r(){if(!c||!c.boxes||!c.boxes.length)return null;var e=c.boxes[c.boxes.length-1].type,n=t(e);return n[n.length-1]}function i(){return c._cursor.offset}function o(){f={offset:"_offset",size:"size",type:"type"},d={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},p={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},h={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},y={timescale:"timescale"},g={sequence_number:"sequence_number"},v={samples_with_subsamples:"samples_with_subsamples"},m={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},_={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},b={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},T={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function s(e,t,n){for(var r in n)t[r]=e[n[r]]}function u(e){if(!e)return null;var t,n,r=new a.default;switch(s(e,r,f),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(s(e,r,d),r.references)for(t=0,n=r.references.length;t<n;t++)s(e.references[t],r.references[t],p);break;case"emsg":s(e,r,h);break;case"mdhd":s(e,r,y);break;case"mfhd":s(e,r,g);break;case"subs":s(e,r,v);break;case"tfhd":s(e,r,m);break;case"tfdt":s(e,r,_);break;case"trun":if(s(e,r,b),r.samples)for(t=0,n=r.samples.length;t<n;t++)s(e.samples[t],r.samples[t],T)}return r}var l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,y=void 0,g=void 0,v=void 0,m=void 0,_=void 0,b=void 0,T=void 0;return l={getBox:e,getBoxes:t,setData:n,getLastBox:r,getOffset:i},o(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=n(299),a=r(o),s=n(0),u=r(s);i.__dashjs_factory_name="IsoFile",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){return JSON.stringify(e)===JSON.stringify(t)}var t=void 0;return t={areSimpleEquivalent:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o);i.__dashjs_factory_name="ObjectUtils",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.videoModel&&(re=e.videoModel)}function t(e){if(e.hasOwnProperty("begin")&&e.hasOwnProperty("end")){var t=h(e.begin),n=h(e.end);return[t,n]}return null}function n(){var e="cue_TTML_"+oe;return oe++,e}function r(e,t,n){function r(e,t){if(e.hasOwnProperty(t)){var n=e[t];o.indexOf(n)<0&&o.push(n)}}for(var i=[],o=[],a=[],s=0;s<e.length;s++){var u=e[s];r(u,"begin"),r(u,"end")}if(0===o.length)return a;if("undefined"!=typeof t&&"undefined"!=typeof n){for(var s=0;s<o.length;s++){var l=h(o[s]);t<l&&l<n&&i.push(l)}i.push(t),i.push(n)}else for(var s=0;s<o.length;s++)i.push(h(o[s]));i.sort(function(e,t){return e-t});for(var s=0;s<i.length-1;s++)a.push([i[s],i[s+1]]);return a}function i(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function o(e,t){return"undefined"!=typeof t&&e>t&&(e=t),e}function a(e,t,n){var r=h(e.begin),a=h(e.end);return r=i(r,t),a=o(a,n),"undefined"!=typeof t&&"undefined"!=typeof n&&(a<t||r>n)?(U("TTML: Cue "+r+"-"+a+" outside interval "+t+"-"+n),null):[r,a]}function s(e,n){var r=!0;if(e.hasOwnProperty("span")){var i=t(e.span);null!==i&&(r=i[0]<n[1]&&i[1]>n[0])}return r}function l(e,i,o,u){var l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,v="";if(V=ie.xml_str2json(e),!V)throw new Error("TTML document could not be parsed");if(re.getTTMLRenderingDiv()&&(p="html"),l=V.tt,!l)throw new Error("TTML document lacks tt element");var m=y(l,"http://www.w3.org/ns/ttml");if(m&&g(l,m),d=l["tts:extent"],c=l.head,!c)throw new Error("TTML document lacks head element");c.layout&&(z=c.layout.region_asArray),c.styling&&(q=c.styling.style_asArray);var _={};if(u)for(h=0;h<u.length;h++){var S="urn:mpeg:14496-30:subs:"+(h+1).toString(),w="data:image/png;base64,"+btoa(u[h]);_[S]=w}if(c.metadata){var O=c.metadata.image_asArray;if(O)for(h=0;h<O.length;h++){var S="#"+O[h]["xml:id"],C=O[h].imagetype.toLowerCase(),w="data:image/"+C+";base64,"+O[h].__text;_[S]=w}}if(f=l.body,!f)throw new Error("TTML document lacks body element");var P=x(),k=re.getElement().clientWidth,N=re.getElement().clientHeight,F=[k/P[0],N/P[1]];X["font-size"]=F[1]+"px;";var B=[];if(z)for(h=0;h<z.length;h++)B.push(A(JSON.parse(JSON.stringify(z[h])),F));var H=y(V.tt,"http://www.w3.org/ns/ttml#parameter");l.hasOwnProperty(H+":frameRate")&&(l.frameRate=parseInt(l[H+":frameRate"],10));for(var W=[],Q=l.body_asArray[0].__children,$=0;$<Q.length;$++){var J=Q[$].div,Z=null;if(null===(Z=t(J))){var ee=J.p_asArray;if(null===Z&&(!ee||0===ee.length))return v="TTML has div that contains no timing and no paragraphs.",U(v),W;for(var te=0;te<ee.length;te++){var ne=ee[te],oe=ne.span_asArray,ae=[];if(ne.hasOwnProperty("begin")&&ne.hasOwnProperty("end")){var se=a(ne,i,o);null!==se&&ae.push(se)}else ae=r(oe,i,o);if(0!==ae.length)for(var ue=ne.__children,le=0;le<ae.length;le++){for(var ce=ae[le],fe=[],de=0;de<ue.length;de++){var pe=ue[de];s(pe,ce)&&fe.push(pe)}if(0!==fe.length)if("html"===p){K={},Y={},G={};var he=L(ne,J,F),ye=j(ne,F),ge=ye[1];ye=ye[0];var ve=document.createElement("div");ve.className=ge;var me=D(fe,F);me.className="cueDirUniWrapper",b("unicode-bidi",ye)&&(me.style.cssText+=T("unicode-bidi",ye),E("unicode-bidi",ye)),b("direction",ye)&&(me.style.cssText+=T("direction",ye),E("direction",ye)),b("padding-left",ye)&&b("padding-right",ye)&&(me.innerHTML=R(me,ye)),b("padding-left",ye)&&b("padding-right",ye)&&(E("padding-left",ye),E("padding-right",ye));var _e="";if(b("regionID",he)){var be=T("regionID",he);_e=be.slice(be.indexOf(":")+1,be.length-1)}ye&&(ve.style.cssText=ye.join(" ")+"display:flex;"),he&&(he=he.join(" ")),ve.appendChild(me);var Te=document.createElement("div");Te.appendChild(ve),Te.id=n(),Te.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+he,0===Object.keys(G).length&&(G.defaultFontSize="100"),W.push({start:ce[0],end:ce[1],type:"html",cueHTMLElement:Te,regions:B,regionID:_e,cueID:Te.id,videoHeight:N,videoWidth:k,cellResolution:P,fontSize:G||{defaultFontSize:"100"},lineHeight:K,linePadding:Y})}else{var Ee="",Se=fe;Se.length&&Se.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?Ee+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(Ee+="\n"))})}else Ee+=e.hasOwnProperty("br")?"\n":e["#text"].replace(/[\r\n]+/gm," ").trim()}),W.push({start:ce[0],end:ce[1],data:Ee,type:"text"})}}else v="TTML: Empty paragraph"}}else{var we=void 0;if(J.region){var Oe=M(z,J.region);we=I(Oe,d)}we||(we=I(J,d));var Ce=J["smpte:backgroundImage"];void 0!==Ce&&void 0!==_[Ce]&&W.push({start:Z[0],end:Z[1],id:n(),data:_[Ce],type:"image",layout:we})}}if(""!==v&&U(v),W.length>0)return W;throw new Error(v)}function p(){H=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,G={},K={},Y={},W={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},X={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},Q={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;",default:"font-family: monospace, sans-serif;"},$={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},J={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},Z={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},ee={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},te={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},ne={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"},ie=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,matchers:[]})}function h(e){var t,n,r,i=H.test(e);if(!i)return NaN;if(t=e.split(":"),n=parseFloat(t[0])*f+parseFloat(t[1])*d+parseFloat(t[2]),t[3]){if(r=V.tt.frameRate,!r||isNaN(r))return NaN;n+=parseFloat(t[3])/r}return n}function y(e,t){var n=Object.keys(e).filter(function(n){return("xmlns"===n.split(":")[0]||"xmlns"===n.split(":")[1])&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=n.length?null:n[0]}function g(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))g(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)g(e[n][r],t);var i=t+":",o=n.indexOf(i);if(o>=0){var a=n.slice(o+i.length);e[a]=e[n],delete e[n]}}}function v(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function m(e){var t=e.slice(1),n=t.match(/.{2}/g),r=parseFloat(parseInt(parseInt(n[3],16)/255*1e3,10)/1e3),i=n.slice(0,3).map(function(e){return parseInt(e,16)});return"rgba("+i.join(",")+","+r+");"}function _(e){var t=void 0,n=void 0,r=void 0;return t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),n=parseInt(t[t.length-1],10)/255,r="rgba("+t[0]+","+t[1]+","+t[2]+","+n+");"}function b(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function T(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function E(e,t){t.splice(t.indexOf(T(e,t)),1)}function S(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&e[n].split(":")[0].indexOf(t[r].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function w(e){var t=new Array(2),n=e.indexOf(":")===-1?0:e.indexOf(":"),r=void 0;return e.indexOf("%")===-1?e.indexOf("c")===-1?e.indexOf("p")===-1?t[0]=t[1]=null:(t[0]="p",r=e.indexOf("p")):(t[0]="c",r=e.indexOf("c")):(t[0]="%",r=e.indexOf("%")),t[1]=e.slice(n,r),t}function O(e,t,n){var r,i,o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=a.replace("ebutts:","");s=s.replace("xml:",""),s=s.replace("tts:",""),s=v(s),e[s]=e[a],delete e[a]}if("line-padding"in e){var u=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(Y[e.id]=u);var l=u*t[0]+"px;";o.push("padding-left:"+l),o.push("padding-right:"+l)}if("font-size"in e){var c=w(e["font-size"]),f=parseFloat(c[1]);"id"in e&&(G[e.id]=c),"%"===c[0]?r=f/100*t[1]+"px;":"c"===c[0]&&(r=f*t[1]+"px;"),o.push("font-size:"+r)}if("line-height"in e)if("normal"===e["line-height"])o.push("line-height: normal;");else{var d=w(e["line-height"]),p=parseFloat(d[1]);"id"in e&&(K[e.id]=d),"%"===d[0]?i=p/100*t[1]+"px;":"c"===d[0]&&(i=p*t[1]+"px;"),o.push("line-height:"+i)}"font-family"in e&&(e["font-family"]in Q?o.push(Q[e["font-family"]]):o.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in $&&(o.push($[e["text-align"]][0]),o.push($[e["text-align"]][1])),"multi-row-align"in e&&(b("text-align",o)&&"auto"!=e["multi-row-align"]&&E("text-align",o),e["multi-row-align"]in J&&o.push(J[e["multi-row-align"]]));var h;return"background-color"in e&&(h=e["background-color"].indexOf("#")>-1&&e["background-color"].length-1===8?m(e["background-color"]):e["background-color"].indexOf("rgba")>-1?_(e["background-color"]):e["background-color"]+";",o.push("background-color: "+h)),"color"in e&&(h=e.color.indexOf("#")>-1&&e.color.length-1===8?m(e.color):e.color.indexOf("rgba")>-1?_(e.color):e.color+";",o.push("color: "+h)),"wrap-option"in e&&(e["wrap-option"]in Z?o.push(Z[e["wrap-option"]]):o.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in ee?o.push(ee[e["unicode-bidi"]]):o.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&o.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&o.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&o.push("direction:"+e.direction+";"),"text-decoration"in e&&o.push("text-decoration:"+e["text-decoration"]+";"),n&&(o=o.concat(A(e,t))),V.tt.hasOwnProperty("xml:space")&&"preserve"===V.tt["xml:space"]&&o.push("white-space: pre;"),o}function C(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function P(e,t,n){var r=[],i=e.match(/\S+/g);return i.forEach(function(e){var i=C(q,e);if(i){var o=O(JSON.parse(JSON.stringify(i)),t,n);r=r.concat(o)}}),r}function I(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return U("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(r[1]),a=parseFloat(r[3]),s=parseFloat(i[1]),u=parseFloat(i[3]);if(t){var l=n.exec(t);if(null===l||"px"!==l[2]||"px"!==l[4])return U("Bad tt.extent: "+t),null;var c=parseFloat(l[1]),f=parseFloat(l[3]);"px"===r[2]&&(o=o/c*100),"px"===r[4]&&(a=a/f*100),"px"===i[2]&&(s=s/c*100),"px"===i[4]&&(u=u/f*100)}return{left:s,top:u,width:o,height:a}}return null}function A(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");i=i.replace("xml:",""),i=v(i),e[i]=e[r],i!==r&&delete e[r]}if("extent"in e){var o=e.extent.split(/\s/);n.push("width: "+o[0]+";"),n.push("height: "+o[1]+";")}if("origin"in e){var a=e.origin.split(/\s/);n.push("left: "+a[0]+";"),n.push("top: "+a[1]+";")}if("display-align"in e&&n.push(te[e["display-align"]]),"writing-mode"in e&&n.push(ne[e["writing-mode"]]),"style"in e){var s=P(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function M(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function k(e,t){var n=[],r=e.match(/\S+/g);return r.forEach(function(e){var r=M(z,e);if(r){var i=A(JSON.parse(JSON.stringify(r)),t);n=n.concat(i)}}),n}function x(){var e=[32,15];return V.tt.hasOwnProperty("ttp:cellResolution")?V.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function R(e,t){for(var n=T("padding-left",t),r=T("padding-right",t),i=n.concat(" "+r+" "),o="",a="",s="",u=Array.prototype.slice.call(e.children),l=e.getElementsByClassName("lineBreak")[0],c=u.indexOf(l),f=[];c!=-1;)f.push(c),c=u.indexOf(l,c+1);var d="</span>",p="<br>",h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)o+=u[r].outerHTML,0===r&&(n=i.concat(u[r].style.cssText));o=h+n+'">'+o}for(var l="",c=e+1;c<u.length;c++)a+=u[c].outerHTML,c===u.length-1&&(l+=i.concat(u[c].style.cssText));a=h+l+'">'+a,o&&a&&t===f.length-1?s+=o+d+p+a+d:o&&a&&t!==f.length-1?s+=o+d+p+a+d+p:o&&!a?s+=o+d:!o&&a&&t===f.length-1?s+=a+d:!o&&a&&t!==f.length-1&&(s+=a+d+p)});else{for(var y="",g=0;g<u.length;g++)y+=u[g].style.cssText;s=h+i+y+'">'+e.innerHTML+d}return s}function D(e,t){var n=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var r=e.span.__children,i=document.createElement("span");if(e.span.hasOwnProperty("style")){var o=P(e.span.style,t);i.className="spanPadding "+e.span.style,i.style.cssText=o.join(" ")}r.forEach(function(e){if(!r.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){i.hasChildNodes()&&n.appendChild(i);var o=document.createElement("br");o.className="lineBreak",n.appendChild(o);var a=document.createElement("span");a.className=i.className,a.style.cssText=i.style.cssText,i=a}}),n.appendChild(i)}else if(e.hasOwnProperty("br")){var a=document.createElement("br");a.className="lineBreak",n.appendChild(a)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"],n.appendChild(s)}}),n}function L(e,t,n){var r,i,o=[],a=e.region,s=t.region;return s&&(r=k(s,n)),a?(i=o.concat(k(a,n)),o=r?S(r,i):i):r&&(o=r),N(o,W),o}function j(e,t){var n,r,i,o=[],a=e.style,s=V.tt.body.style,u=V.tt.body.div.style,l="";return s&&(n=P(s,t),l="paragraph "+s),u&&(r=P(u,t),n?(r=S(n,r),l+=" "+u):l="paragraph "+u),a?(i=P(a,t),n&&r?(o=S(r,i),l+=" "+a):n?(o=S(n,i),l+=" "+a):r?(o=S(r,i),l+=" "+a):(o=i,l="paragraph "+a)):n&&!r?o=n:!n&&r&&(o=r),N(o,X),[o,l]}function N(e,t){for(var n in t)t.hasOwnProperty(n)&&(b(n,e)||e.push(n+":"+t[n]))}var F=this.context,U=(0,c.default)(F).getInstance().log,B=void 0,H=void 0,V=void 0,q=void 0,z=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=0;return B={parse:l,setConfig:e},p(),B}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(72),u=r(s),l=n(6),c=r(l),f=3600,d=60;i.__dashjs_factory_name="TTMLParser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){c=/(?:\r\n|\r|\n)/gm,f=/-->/,d=/(^[\s]+|[\s]+$)/g,p=/\s\b/g}function t(e){var t,i,a=[];e=e.split(c),t=e.length,i=-1;for(var u=0;u<t;u++){var l=e[u];if(l.length>0&&"WEBVTT"!==l&&l.match(f)){var p=r(l),h=p.cuePoints,y=p.styles,g=o(e,u+1),v=n(h[0].replace(d,"")),m=n(h[1].replace(d,""));!isNaN(v)&&!isNaN(m)&&v>=i&&m>v?""!==g?(i=v,a.push({start:v,end:m,data:g,styles:y})):s("Skipping cue due to empty/malformed cue text"):s("Skipping cue due to incorrect cue timing")}}return a}function n(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function r(e){var t=e.split(f),n=t[1].split(p);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:i(n)}}function i(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&n.search(/%/)!=-1&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}function o(e,t){for(var n,r=t,i="",o="";""!==e[r]&&r<e.length;)r++;if(n=r-t,n>1)for(var a=0;a<n;a++){if(o=e[t+a],o.match(f)){i="";break}i+=o,a!==n-1&&(i+="\n")}else o=e[t],o.match(f)||(i=o);return decodeURI(i)}var a=this.context,s=(0,u.default)(a).getInstance().log,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0;return l={parse:t},e(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),s=n(6),u=r(s);i.__dashjs_factory_name="VTTParser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=n(33),u=r(s),l=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return o(t,e),t}(u.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this._s=void 0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.level=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=r(o),s=function e(){i(this,e),this.target=null,this.state=a.default.BUFFER_EMPTY};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.range=null,this.manifestInfo=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.droppedFrames=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},o=function e(){
r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},a=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};t.ManifestUpdate=i,t.ManifestUpdateStreamInfo=o,t.ManifestUpdateTrackInfo=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.loadingRequests=[],this.executedRequests=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};t.default=i,e.exports=t.default},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var r;!function(i){"use strict";function o(e){var t=e&&e.Promise||i.Promise,n=e&&e.XMLHttpRequest||i.XMLHttpRequest,r=i;return function(){var e=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(e){function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return _.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?t.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function u(e){return new t(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function c(e){var t=new FileReader,n=u(t);return t.readAsText(e),n}function f(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(_.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(_.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(_.arrayBuffer&&_.blob&&T(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!E(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||t.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return S.indexOf(t)>-1?t:e}function y(e,t){t=t||{};var n=t.body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new a;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var _={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(_.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T=function(e){return e&&DataView.prototype.isPrototypeOf(e)},E=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,t){e=r(e),t=i(t);var n=this.map[e];this.map[e]=n?n+","+t:t},a.prototype.delete=function(e){delete this.map[r(e)]},a.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},a.prototype.set=function(e,t){this.map[r(e)]=i(t)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},_.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},p.call(y.prototype),p.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];m.redirect=function(e,t){if(w.indexOf(t)===-1)throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=y,e.Response=m,e.fetch=function(e,r){return new t(function(t,i){var o=new y(e,r),a=new n;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:v(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;t(new m(n,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&_.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof e?e:this),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}("undefined"==typeof self?this:self)},function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"==typeof e?o(e,t,n):a(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var s=n(136);e.exports=r;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},function(e,t,n){var r;!function(i,o){"use strict";r=function(){return o()}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(window,function(){"use strict";function e(e){var t=parseFloat(e),n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function t(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<l;t++){var n=u[t];e[n]=0}return e}function r(e){var t=getComputedStyle(e);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function i(){if(!c){c=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=r(t);o.isBoxSizeOuter=a=200==e(i.width),n.removeChild(t)}}function o(t){if(i(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=r(t);if("none"==o.display)return n();var s={};s.width=t.offsetWidth,s.height=t.offsetHeight;for(var c=s.isBorderBox="border-box"==o.boxSizing,f=0;f<l;f++){var d=u[f],p=o[d],h=parseFloat(p);s[d]=isNaN(h)?0:h}var y=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,m=s.marginTop+s.marginBottom,_=s.borderLeftWidth+s.borderRightWidth,b=s.borderTopWidth+s.borderBottomWidth,T=c&&a,E=e(o.width);E!==!1&&(s.width=E+(T?0:y+_));var S=e(o.height);return S!==!1&&(s.height=S+(T?0:g+b)),s.innerWidth=s.width-(y+_),s.innerHeight=s.height-(g+b),s.outerWidth=s.width+v,s.outerHeight=s.height+m,s}}var a,s="undefined"==typeof console?t:function(e){console.error(e)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=u.length,c=!1;return o})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(87),c=r(l),f=n(138),d=r(f),p=n(139),h=r(p),y=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new d.default,e.parseStream=new h.default,e.lineStream.pipe(e.parseStream);var n=e,r=[],a={},u=void 0,l=void 0,c=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,i=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function t(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(l=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void("undefined"!=typeof e.attributes.IV&&(l.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(e.number)?void(this.manifest.mediaSequence=e.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){return isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,void(p=e.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){return/VOD|EVENT/.test(e.playlistType)?void(this.manifest.playlistType=e.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){u={},e.uri&&(u.uri=e.uri),e.byterange&&(u.byterange=e.byterange)},"stream-inf":function(){return this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||f,e.attributes?(a.attributes||(a.attributes={}),void s(a.attributes,e.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],i={default:/yes/i.test(e.attributes.DEFAULT)},i.default?i.autoselect=!0:i.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(i.language=e.attributes.LANGUAGE),e.attributes.URI&&(i.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(i.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(i.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(i.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=i},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):void(this.manifest.targetDuration=e.duration)},totalduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):void(this.manifest.totalDuration=e.duration)},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}})[e.tagType]||c).call(n)},uri:function(){a.uri=e.uri,r.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=p,u&&(a.map=u),a={}},comment:function(){}})[e.type].call(n)}),e}return a(t,e),u(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(c.default);t.default=y},function(e,t,n){"use strict";var r,i=n(18);r=function(){var e=new Uint8Array,t=0;r.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],i=(16&r)>>4;return i?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,i=6144&e[t+3];return i|r|n},this.push=function(n){var r,i,o,a,s=0,u=0;for(e.length?(a=e.length,e=new Uint8Array(n.byteLength+a),e.set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(e[u]&!0&&240===(240&e[u+1])){if(e.length-u<7)break;if(s=this.parseAdtsSize(e,u),s>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else u++;else{if(e.length-u<10)break;if(s=this.parseId3TagSize(e,u),s>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}},r.prototype=new i,e.exports=r},function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},o=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},a=function(e,t,n){return unescape(o(e,t,n))},s=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],i=(16&r)>>4;return i?n+20:n+10},u=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,i=6144&e[t+3];return i|r|n},l=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":e[t]&!0&&240===(240&e[t+1])?"audio":null},c=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},f=function(e){var t,n,r,o;t=10,64&e[5]&&(t+=4,t+=i(e.subarray(10,14)));do{if(n=i(e.subarray(t+4,t+8)),n<1)return null;if(o=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===o){r=e.subarray(t+10,t+n+10);for(var s=0;s<r.byteLength;s++)if(0===r[s]){var u=a(r,0,s);if("com.apple.streaming.transportStreamTimestamp"===u){var l=r.subarray(s+1),c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return c*=4,c+=3&l[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null};e.exports={parseId3TagSize:s,parseAdtsSize:u,parseType:l,parseSampleRate:c,parseAacTimestamp:f}},function(e,t){var n=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],i=function(e){for(var t=[];e--;)t.push(0);return t},o=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(e,t){return e.concat(t)},[])),t},{})},a={96e3:[n,[227,64],i(154),[56]],88200:[n,[231],i(170),[56]],64e3:[n,[248,192],i(240),[56]],48e3:[n,[255,192],i(268),[55,148,128],i(54),[112]],44100:[n,[255,192],i(268),[55,163,128],i(84),[112]],32e3:[n,[255,192],i(268),[55,234],i(226),[112]],24e3:[n,[255,192],i(268),[55,255,128],i(268),[111,112],i(126),[224]],16e3:[n,[255,192],i(268),[55,255,128],i(268),[111,255],i(269),[223,108],i(195),[1,192]],12e3:[r,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,253,128],i(259),[56]],11025:[r,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,255,192],i(268),[55,175,128],i(108),[112]],8e3:[r,i(268),[3,121,16],i(47),[7]]};e.exports=o(a)},function(e,t,n){"use strict";var r=n(18),i=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(e){var t,n,r,i,o={tags:{},captions:[],metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)n=this.pendingCaptions[r],n.startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,o.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)t=this.pendingMetadata[r],t.cueTime=t.pts-i,t.cueTime/=9e4,o.metadata.push(t);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",o),this.trigger("done")}},e.exports=i},function(e,t,n){"use strict";var r=n(88),i=function(e,t,n){var i,o,a,s=new Uint8Array(9),u=new DataView(s.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(t?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),e<=0?(o=new Uint8Array(s.byteLength+4),o.set(s),o.set([0,0,0,0],s.byteLength),o):(i=new r(r.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble("duration",e),a=i.finalize().length,o=new Uint8Array(s.byteLength+a),o.set(s),o.set(u.byteLength,a),o)};e.exports=i},function(e,t,n){"use strict";var r=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};e.exports=r},function(e,t,n){"use strict";var r,i,o,a,s,u,l=n(18),c=n(88),f=n(143),d=n(140),p=n(141).H264Stream,h=n(331),y=n(333);a=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new c(c.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,r=new c(c.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r},o=function(e){var t,n=[];o.prototype.init.call(this),this.push=function(t){a(e,t),e&&void 0===e.channelcount&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var r,i,o,a=new y;if(0===n.length)return void this.trigger("done","AudioSegmentStream");for(o=-(1/0);n.length;)r=n.shift(),(e.extraData!==t||r.pts-o>=1e3)&&(i=new c(c.METADATA_TAG),i.pts=r.pts,i.dts=r.dts,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===e.channelcount),i.writeMetaDataDouble("audiosamplerate",e.samplerate),i.writeMetaDataDouble("audiosamplesize",16),a.push(i.finalize()),t=e.extraData,i=new c(c.AUDIO_TAG,!0),i.pts=r.pts,i.dts=r.dts,i.view.setUint16(i.position,e.extraData),i.position+=2,i.length=Math.max(i.length,i.position),a.push(i.finalize()),o=r.pts),i=new c(c.AUDIO_TAG),i.pts=r.pts,i.dts=r.dts,i.writeBytes(r.data),a.push(i.finalize());t=null,this.trigger("data",{track:e,tags:a.list}),this.trigger("done","AudioSegmentStream")}},o.prototype=new l,i=function(e){var t,n,r=[];i.prototype.init.call(this),this.finishFrame=function(r,i){if(i){if(t&&e&&e.newMetadata&&(i.keyFrame||0===r.length)){var o=s(t,i.dts).finalize(),a=u(e,i.dts).finalize();o.metaDataTag=a.metaDataTag=!0,r.push(o),r.push(a),e.newMetadata=!1}i.endNalUnit(),r.push(i.finalize()),n=null}},this.push=function(t){a(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){for(var i,o=new y;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return void this.trigger("done","VideoSegmentStream");for(;r.length;)i=r.shift(),"seq_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(o,n),n=new c(c.VIDEO_TAG),n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(o,n),this.trigger("data",{track:e,tags:o.list}),this.trigger("done","VideoSegmentStream")}},i.prototype=new l,r=function(e){var t,n,a,s,u,l,c,y,g,v,m,_,b=this;r.prototype.init.call(this),e=e||{},this.metadataStream=new f.MetadataStream,e.metadataStream=this.metadataStream,t=new f.TransportPacketStream,n=new f.TransportParseStream,a=new f.ElementaryStream,s=new f.TimestampRolloverStream("video"),u=new f.TimestampRolloverStream("audio"),l=new f.TimestampRolloverStream("timed-metadata"),c=new d,y=new p,_=new h(e),t.pipe(n).pipe(a),a.pipe(s).pipe(y),a.pipe(u).pipe(c),a.pipe(l).pipe(this.metadataStream).pipe(_),m=new f.CaptionStream,y.pipe(m).pipe(_),a.on("data",function(e){var t,n,r;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(r=e.tracks[t]);n&&!g&&(_.numberOfTracks++,g=new i(n),y.pipe(g).pipe(_)),r&&!v&&(_.numberOfTracks++,v=new o(r),c.pipe(v).pipe(_))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},_.on("data",function(e){b.trigger("data",e)}),_.on("done",function(){b.trigger("done")})},r.prototype=new l,e.exports=r},function(e,t,n){"use strict";var r=4,i=128,o=n(18),a=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},o=0,a=0;t<e.byteLength&&e[t]!==i;){for(;255===e[t];)o+=255,t++;for(o+=e[t++];255===e[t];)a+=255,t++;if(a+=e[t++],!n.payload&&o===r){n.payloadType=o,n.payloadSize=a,n.payload=e.subarray(t,t+a);break}t+=a,o=0,a=0;
}return n},s=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},u=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i=3*n,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},l=function(){l.prototype.init.call(this),this.captionPackets_=[],this.field1_=new w,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};l.prototype=new o,l.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&(t=a(e.escapedRBSP),t.payloadType===r&&(n=s(t),n&&(this.captionPackets_=this.captionPackets_.concat(u(e.pts,n)))))},l.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},f=function(e){return null===e?"":(e=c[e]||e,String.fromCharCode(e))},d=0,p=5152,h=5167,y=5157,g=5158,v=5159,m=5165,_=5153,b=5164,T=5166,E=14,S=function(){for(var e=[],t=E+1;t--;)e.push("");return e},w=function(){w.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=S(),this.nonDisplayed_=S(),this.lastControlCode_=null,this.push=function(e){if(0===e.type){var t,n,r,i;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&t)?this.lastControlCode_=t:this.lastControlCode_=null,t){case d:break;case p:this.mode_="popOn";break;case h:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case y:this.topRow_=E-1,this.mode_="rollUp";break;case g:this.topRow_=E-2,this.mode_="rollUp";break;case v:this.topRow_=E-3,this.mode_="rollUp";break;case m:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case _:"popOn"===this.mode_?this.nonDisplayed_[E]=this.nonDisplayed_[E].slice(0,-1):this.displayed_[E]=this.displayed_[E].slice(0,-1);break;case b:this.flushDisplayed(e.pts),this.displayed_=S();break;case T:this.nonDisplayed_=S();break;default:if(r=t>>>8,i=255&t,r>=16&&r<=23&&i>=64&&i<=127&&(16!==r||i<96)&&(r=32,i=null),(17===r||25===r)&&i>=48&&i<=63&&(r=9834,i=""),16===(240&r))return;0===r&&(r=null),0===i&&(i=null),this[this.mode_](e.pts,r,i)}}}};w.prototype=new o,w.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("\n");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t})},w.prototype.popOn=function(e,t,n){var r=this.nonDisplayed_[E];r+=f(t),r+=f(n),this.nonDisplayed_[E]=r},w.prototype.rollUp=function(e,t,n){var r=this.displayed_[E];""===r&&(this.flushDisplayed(e),this.startPts_=e),r+=f(t),r+=f(n),this.displayed_[E]=r},w.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<E;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[E]=""},e.exports={CaptionStream:l,Cea608Stream:w}},function(e,t,n){"use strict";var r,i=n(18),o=n(43),a=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},s=function(e,t,n){return decodeURIComponent(a(e,t,n))},u=function(e,t,n){return unescape(a(e,t,n))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length-1);break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=u(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};r=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,a=[],s=0;if(r.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,o,u,f,d;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(a.push(e),s+=e.data.byteLength,1===a.length&&(i=l(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:a[0].pts,dts:a[0].dts},f=0;f<i;)t.data.set(a[0].data.subarray(0,i-f),f),f+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();r=10,64&t.data[5]&&(r+=4,r+=l(t.data.subarray(10,14)),i-=l(t.data.subarray(16,20)));do{if(o=l(t.data.subarray(r+4,r+8)),o<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(d=String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),u={id:d,data:t.data.subarray(r+10,r+o+10)},u.key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var p=u.data,h=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;h*=4,h+=3&p[7],u.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),r+=10,r+=o}while(r<i);this.trigger("data",t)}}}},r.prototype=new i,e.exports=r},function(e,t,n){"use strict";var r=n(43),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},u=function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},l=function(e){var t={},n=o(e),r=4+a(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i,s,u;i=(15&e[r+1])<<8|e[r+2],s=3+i-4,u=(15&e[r+10])<<8|e[r+11];for(var l=12+u;l<s;){var c=r+l;t[(31&e[c+1])<<8|e[c+2]]=e[c],l+=((15&e[c+3])<<8|e[c+4])+5}return t}},c=function(e,t){var n=i(e),o=t[n];switch(o){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},f=function(e){var t=o(e);if(!t)return null;var n,r=4+a(e),i={};return n=e[r+7],192&n&&(i.pts=(14&e[r+9])<<27|(255&e[r+10])<<20|(254&e[r+11])<<12|(255&e[r+12])<<5|(254&e[r+13])>>>3,i.pts*=4,i.pts+=(6&e[r+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[r+14])<<27|(255&e[r+15])<<20|(254&e[r+16])<<12|(255&e[r+17])<<5|(254&e[r+18])>>>3,i.dts*=4,i.dts+=(6&e[r+18])>>>1)),i},d=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},p=function(e){for(var t,n=4+a(e),r=e.subarray(n),i=0,o=0,s=!1;o<r.byteLength-3;o++)if(1===r[o+2]){i=o+5;break}for(;i<r.byteLength;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}o+3!==i-2&&(t=d(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0));do i++;while(1!==r[i]&&i<r.length);o=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}t=d(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0),o=i-2,i+=3;break;default:i+=3}return r=r.subarray(o),i-=o,o=0,r&&r.byteLength>3&&(t=d(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0)),s};e.exports={parseType:s,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:o,parsePesType:c,parsePesTime:f,videoPacketContainsKeyFrame:p}},function(e,t,n){e.exports={generator:n(145),Transmuxer:n(89).Transmuxer,AudioSegmentStream:n(89).AudioSegmentStream,VideoSegmentStream:n(89).VideoSegmentStream}},function(e,t,n){"use strict";var r,i,o,a;r=function(e,t){var n,o,a,s,u,l=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=e[n]<<24,o|=e[n+1]<<16,o|=e[n+2]<<8,o|=e[n+3],a=i(e.subarray(n+4,n+8)),s=o>1?n+o:e.byteLength,a===t[0]&&(1===t.length?l.push(e.subarray(n+8,s)):(u=r(e.subarray(n+8,s),t.slice(1)),u.length&&(l=l.concat(u)))),n=s;return l},i=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},o=function(e){var t={},n=r(e,["moov","trak"]);return n.reduce(function(e,t){var n,i,o,a,s;return(n=r(t,["tkhd"])[0])?(i=n[0],o=0===i?12:20,a=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],(s=r(t,["mdia","mdhd"])[0])?(i=s[0],o=0===i?12:20,e[a]=s[o]<<24|s[o+1]<<16|s[o+2]<<8|s[o+3],e):null):null},t)},a=function(e,t){var n,i,o;return n=r(t,["moof","traf"]),i=[].concat.apply([],n.map(function(t){return r(t,["tfhd"]).map(function(n){var i,o,a;return i=n[4]<<24|n[5]<<16|n[6]<<8|n[7],o=e[i]||9e4,a=r(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n})[0],a=a||1/0,a/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0},e.exports={parseType:i,timescale:o,startTime:a}},function(e,t,n){"use strict";var r=n(43),i=n(144).handleRollover,o={};o.ts=n(337),o.aac=n(329);var a=9e4,s=188,u=71,l=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},c=function(e,t){for(var n,r,i=0,a=s;a<e.byteLength;)if(e[i]!==u||e[a]!==u)i++,a++;else{switch(n=e.subarray(i,a),r=o.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=s,a+=s}},f=function(e,t,n){for(var r,i,a,l,c,f=0,d=s,p=!1;d<e.byteLength;)if(e[f]!==u||e[d]!==u)f++,d++;else{switch(r=e.subarray(f,d),i=o.ts.parseType(r,t.pid)){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&l&&(c=o.ts.parsePesTime(r),c.type="audio",n.audio.push(c),p=!0)}if(p)break;f+=s,d+=s}for(d=e.byteLength,f=d-s,p=!1;f>=0;)if(e[f]!==u||e[d]!==u)f--,d--;else{switch(r=e.subarray(f,d),i=o.ts.parseType(r,t.pid)){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&l&&(c=o.ts.parsePesTime(r),c.type="audio",n.audio.push(c),p=!0)}if(p)break;f-=s,d-=s}},d=function(e,t,n){for(var r,i,a,l,c,f,d,p,h=0,y=s,g=!1,v={data:[],size:0};y<e.byteLength;)if(e[h]!==u||e[y]!==u)h++,y++;else{switch(r=e.subarray(h,y),i=o.ts.parseType(r,t.pid)){case"pes":if(a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"video"===a&&(l&&!g&&(c=o.ts.parsePesTime(r),c.type="video",n.video.push(c),g=!0),!n.firstKeyFrame)){if(l&&0!==v.size){for(f=new Uint8Array(v.size),d=0;v.data.length;)p=v.data.shift(),f.set(p,d),d+=p.byteLength;o.ts.videoPacketContainsKeyFrame(f)&&(n.firstKeyFrame=o.ts.parsePesTime(f),n.firstKeyFrame.type="video"),v.size=0}v.data.push(r),v.size+=r.byteLength}}if(g&&n.firstKeyFrame)break;h+=s,y+=s}for(y=e.byteLength,h=y-s,g=!1;h>=0;)if(e[h]!==u||e[y]!==u)h--,y--;else{switch(r=e.subarray(h,y),i=o.ts.parseType(r,t.pid)){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"video"===a&&l&&(c=o.ts.parsePesTime(r),c.type="video",n.video.push(c),g=!0)}if(g)break;h-=s,y-=s}},p=function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"==typeof n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})}if(e.video&&e.video.length){var r=t;if("undefined"==typeof r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/a,o.ptsTime=o.dts/a}}},h=function(e){for(var t,n=!1,r=0,i=null,s=null,u=0,l=0;e.length-l>=3;){var c=o.aac.parseType(e,l);switch(c){case"timed-metadata":if(e.length-l<10){n=!0;break}if(u=o.aac.parseId3TagSize(e,l),u>e.length){n=!0;break}null===s&&(t=e.subarray(l,l+u),s=o.aac.parseAacTimestamp(t)),l+=u;break;case"audio":if(e.length-l<7){n=!0;break}if(u=o.aac.parseAdtsSize(e,l),u>e.length){n=!0;break}null===i&&(t=e.subarray(l,l+u),i=o.aac.parseSampleRate(t)),r++,l+=u;break;default:l++}if(n)return null}if(null===i||null===s)return null;var f=a/i,d={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*f,pts:s+1024*r*f}]};return d},y=function(e){var t={pid:null,table:null},n={};c(e,t);for(var i in t.table)if(t.table.hasOwnProperty(i)){var o=t.table[i];switch(o){case r.H264_STREAM_TYPE:n.video=[],d(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],f(e,t,n),0===n.audio.length&&delete n.audio}}return n},g=function(e,t){var n,r=l(e);return n=r?h(e):y(e),n&&(n.audio||n.video)?(p(n,t),n):null};e.exports={inspect:g}},function(e,t){var n,r,i,o,a,s,u=9e4;n=function(e){return e*u},r=function(e,t){return e*t},i=function(e){return e/u},o=function(e,t){return e/t},a=function(e,t){return n(o(e,t))},s=function(e,t){return r(i(e),t)},e.exports={secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s}},function(e,t,n){"use strict";var r;r=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return r-=i,r>0?n<<=i:t>0&&this.loadWord(),i=e-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=r},function(e,t,n){var r=n(353),i=n(325),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},function(e,t,n){"use strict";var r;e.exports=function(e){var t=r[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},function(e,t,n){"use strict";t.pad=n(344),t.unpad=n(346)},function(e,t,n){"use strict";e.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],y=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0===--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(352).setImmediate)},function(e,t){var n=t.decimalAdjust=function(e,t,n){return"undefined"==typeof n||0===+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))};e.exports={round10:function(e,t){return n("round",e,t)},floor10:function(e,t){return n("floor",e,t)},ceil10:function(e,t){return n("ceil",e,t)}},e.exports.polyfill=function(){Math.round10||(Math.round10=e.exports.round10),Math.floor10||(Math.floor10=e.exports.floor10),Math.ceil10||(Math.ceil10=e.exports.ceil10)}},function(e,t){function n(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}e.exports=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return y[h]=r,p(h),h++}function i(e){delete y[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(g)setTimeout(a,0,e);else{var t=y[e];if(t){g=!0;try{o(t)}finally{i(e),g=!1}}}}function s(){p=function(e){t.nextTick(function(){a(e)})}}function u(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function l(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},p=function(t){e.port2.postMessage(t)}}function f(){var e=v.documentElement;p=function(t){var n=v.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){p=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var p,h=1,y={},g=!1,v=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?s():u()?l():e.MessageChannel?c():v&&"onreadystatechange"in v.createElement("script")?f():d(),m.setImmediate=r,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,n(67),n(347))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(351),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){!function(t){var n={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var r=null,i=null,o=/^([^#]*)(.*)$/.exec(t);o&&(i=o[2],t=o[1]);var a=/^([^\?]*)(.*)$/.exec(t);a&&(r=a[2],t=a[1]);var s=/^([^#]*)(.*)$/.exec(e);s&&(e=s[1]);var u=/^([^\?]*)(.*)$/.exec(e);u&&(e=u[1]);var l=/^(([a-z]+:)?\/\/[^:\/]+(:[0-9]+)?)?(\/?.*)$/i.exec(e);if(!l)throw new Error("Error trying to parse base URL.");var c=l[2]||"",f=l[1]||"",d=l[4];0!==d.indexOf("/")&&""!==f&&(d="/"+d);var p=null;return p=/^\/\//.test(t)?c+"//"+n.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?f+"/"+n.buildAbsolutePath("",t.substring(1)):n.buildAbsolutePath(f+d,t),r&&(p+=r),i&&(p+=i),p},buildAbsolutePath:function(e,t){for(var n,r,i=t,o="",a=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;r=a.indexOf("/../",s),r>-1;s=r+n)n=/^\/(?:\.\.\/)*/.exec(a.slice(r))[0].length,o=(o+a.substring(s,r)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return o+a.substr(s)}};e.exports=n}(this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(44),u=r(s),l=n(1),c=r(l),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play();var t=this.player_.getChild("controlBar"),n=t&&t.getChild("playToggle");return n?void this.setTimeout(function(){n.focus()},1):void this.player_.focus()},t}(u.default);f.prototype.controlText_="Play Video",c.default.registerComponent("BigPlayButton",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(44),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.controlText(r&&r.controlText||a.localize("Close")),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(u.default);c.default.registerComponent("CloseButton",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(148),u=r(s),l=n(1),c=r(l),f=n(358),d=r(f),p=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),r.tracks=n.audioTracks&&n.audioTracks();var a=o(this,e.call(this,n,r));return a.el_.setAttribute("aria-label","Audio Menu"),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new d.default(this.player_,{track:r,selectable:!0}))}return e},t}(u.default);p.prototype.controlText_="Audio Track",c.default.registerComponent("AudioTrackButton",p),t.default=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(63),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=function(e){function t(n,r){o(this,t);var i=r.track,s=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var u=a(this,e.call(this,n,r));if(u.track=i,s){var l=p.bind(u,u.handleTracksChange);s.addEventListener("change",l),u.on("dispose",function(){s.removeEventListener("change",l)})}return u}return s(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(l.default);f.default.registerComponent("AudioTrackMenuItem",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s);n(362),n(380),n(381),n(383),n(382),n(361),n(368),n(360),n(384),n(386),n(147),n(375),n(377),n(379),n(374),n(357),n(363),n(371);var l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(u.default);l.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},u.default.registerComponent("ControlBar",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(44),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"fullscreenchange",a.handleFullscreenChange),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this);
},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(u.default);f.prototype.controlText_="Fullscreen",c.default.registerComponent("FullscreenToggle",f),t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(l.default);l.default.registerComponent("LiveDisplay",d),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(44),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"play",a.handlePlay),a.on(n,"pause",a.handlePause),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(u.default);f.prototype.controlText_="Play",c.default.registerComponent("PlayToggle",f),t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(151),l=i(u),c=n(152),f=i(c),d=n(364),p=i(d),h=n(1),y=i(h),g=n(8),v=r(g),m=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new f.default(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p.default(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l.default);m.prototype.controlText_="Playback Rate",y.default.registerComponent("PlaybackRateMenuButton",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(63),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t);var a=r.rate,s=parseFloat(a,10);r.label=a,r.selected=1===s,r.selectable=!0;var u=o(this,e.call(this,n,r));return u.label=a,u.rate=s,u.on(n,"ratechange",u.update),u}return a(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(u.default);f.prototype.contentElType="button",c.default.registerComponent("PlaybackRateMenuItem",f),t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var a=0;a<t.length;a++){var s=t.start(a),u=t.end(a),l=i[a];l||(l=this.el_.appendChild(f.createEl()),i[a]=l),l.style.left=o(s,r),l.style.width=o(u-s,r)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(l.default);l.default.registerComponent("LoadProgressBar",d),t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(7),p=r(d),h=n(26),y=i(h),g=n(95),v=i(g),m=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=f.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",p.throttle(p.bind(i,i.handleMouseMove),25))}),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-f.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=(0,y.default)(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,o=parseFloat((0,v.default)(this.tooltip,"width")),a=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-i)+"px"}},t.prototype.calculateDistance=function(e){return f.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,v.default)(this.player().el(),"width")),n=parseFloat((0,v.default)(this.tooltip,"width")),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(l.default);l.default.registerComponent("MouseTimeDisplay",m),t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(7),f=r(c),d=n(26),p=i(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(f.bind(i,i.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&i.addClass("vjs-keep-tooltips-inside"),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,p.default)(t,this.player_.duration()))},t}(l.default);l.default.registerComponent("PlayProgressBar",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s);n(369),n(366);var l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(u.default);l.prototype.options_={children:["seekBar"]},u.default.registerComponent("ProgressControl",l),t.default=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(155),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=n(26),y=i(h),g=n(95),v=i(g);n(365),n(367),n(370);var m=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateProgress),i.on(n,"ended",i.updateProgress),n.ready(p.bind(i,i.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltipProgressBar=i.addChild("TooltipProgressBar")),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,v.default)(this.player().el(),"width")),n=parseFloat((0,v.default)(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,y.default)(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(l.default);m.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",f.default.registerComponent("SeekBar",m),t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(7),f=r(c),d=n(26),p=i(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(f.bind(i,i.updateDataAttr)),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,p.default)(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},t}(l.default);l.default.registerComponent("TooltipProgressBar",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(372),u=r(s),l=n(1),c=r(l),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(u.default);c.default.registerComponent("CustomControlSpacer",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(u.default);u.default.registerComponent("Spacer",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(90),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1;var a=o(this,e.call(this,n,r));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}return a(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(u.default);c.default.registerComponent("CaptionSettingsMenuItem",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(61),u=r(s),l=n(1),c=r(l),f=n(373),d=r(f),p=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Captions Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new d.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(u.default);p.prototype.kind_="captions",p.prototype.controlText_="Captions",c.default.registerComponent("CaptionsButton",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(61),u=r(s),l=n(1),c=r(l),f=n(376),d=r(f),p=n(35),h=r(p),y=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,h.default)(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new d.default(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(u.default);y.prototype.kind_="chapters",y.prototype.controlText_="Chapters",c.default.registerComponent("ChaptersButton",y),t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(63),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=function(e){function t(n,r){o(this,t);var i=r.track,s=r.cue,u=n.currentTime();r.selectable=!0,r.label=s.text,r.selected=s.startTime<=u&&u<s.endTime;var l=a(this,e.call(this,n,r));return l.track=i,l.cue=s,i.addEventListener("cuechange",p.bind(l,l.update)),l}return s(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(l.default);f.default.registerComponent("ChaptersTrackMenuItem",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(61),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=function(e){function t(n,r,i){o(this,t);var s=a(this,e.call(this,n,r,i));s.el_.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();if(u){var l=p.bind(s,s.handleTracksChange);u.addEventListener("change",l),s.on("dispose",function(){u.removeEventListener("change",l)})}return s}return s(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l.default);h.prototype.kind_="descriptions",h.prototype.controlText_="Descriptions",f.default.registerComponent("DescriptionsButton",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(90),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" off",default:!1,mode:"disabled"},r.selectable=!0;var a=o(this,e.call(this,n,r));return a.selected(!0),a}return a(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},t}(u.default);c.default.registerComponent("OffTextTrackMenuItem",f),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(61),u=r(s),l=n(1),c=r(l),f=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(u.default);f.prototype.kind_="subtitles",f.prototype.controlText_="Subtitles",c.default.registerComponent("SubtitlesButton",f),t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);
return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(26),p=i(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,p.default)(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},t}(l.default);l.default.registerComponent("CurrentTimeDisplay",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(26),p=i(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"timeupdate",i.updateContent),i.on(n,"loadedmetadata",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,p.default)(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},t}(l.default);l.default.registerComponent("DurationDisplay",h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(26),p=i(d),h=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i.on(n,"durationchange",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,p.default)(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},t}(l.default);l.default.registerComponent("RemainingTimeDisplay",h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(u.default);u.default.registerComponent("TimeDivider",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s);n(149);var l=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return n.tech_&&n.tech_.featuresVolumeControl===!1&&a.addClass("vjs-hidden"),a.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),a}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(u.default);l.prototype.options_={children:["volumeBar"]},u.default.registerComponent("VolumeControl",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(u.default);u.default.registerComponent("VolumeLevel",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(7),l=i(u),c=n(1),f=r(c),d=n(393),p=r(d),h=n(392),y=r(h),g=n(147),v=r(g),m=n(149),_=r(m),b=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical;var s=a(this,e.call(this,n,i));return s.on(n,"volumechange",s.volumeUpdate),s.on(n,"loadstart",s.volumeUpdate),r.call(s),s.on(n,"loadstart",r),s.on(s.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),s.on(s.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),s.on(s.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),s.on(s.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),s}return s(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p.default(this.player_,{contentElType:"div"}),t=new _.default(this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){v.default.prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(y.default);b.prototype.volumeUpdate=v.default.prototype.update,b.prototype.controlText_="Mute",f.default.registerComponent("VolumeMenuButton",b),t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=n(153),c=r(l),f=n(22),d=r(f),p=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.on(n,"error",a.open),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c.default);p.prototype.options_=(0,d.default)(c.default.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),u.default.registerComponent("ErrorDisplay",p),t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(14),a=r(o),s=n(12),u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};(0,s.isObject)(t)?("function"==typeof t.init&&(a.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),u(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;for(var i=n(9),o=r(i),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],l=void 0,c=0;c<s.length;c++)if(s[c][1]in o.default){l=s[c];break}if(l)for(var f=0;f<l.length;f++)a[u[f]]=l[f];t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(u.default);u.default.registerComponent("LoadingSpinner",l),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(154),o=r(i),a=function(e,t){o.default.prototype[e]=t};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(45),u=r(s),l=n(1),c=r(l),f=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var a=o(this,e.call(this,n,r));return a.update(),a}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(u.default);c.default.registerComponent("PopupButton",f),t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(1),l=i(u),c=n(8),f=r(c),d=n(7),p=r(d),h=n(25),y=r(h),g=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),y.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l.default);l.default.registerComponent("Popup",g),t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(45),l=i(u),c=n(1),f=i(c),d=n(7),p=r(d),h=n(8),y=r(h),g=n(11),v=r(g),m=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.update(),n.on("posterchange",p.bind(i,i.update)),i}return s(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=y.createEl("div",{className:"vjs-poster",tabIndex:-1});return v.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=y.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(l.default);f.default.registerComponent("PosterImage",m),t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){t&&(y=t),p.default.setTimeout(g,e)}t.__esModule=!0,t.hasLoaded=t.autoSetupTimeout=t.autoSetup=void 0;var a=n(8),s=i(a),u=n(25),l=i(u),c=n(9),f=r(c),d=n(4),p=r(d),h=!1,y=void 0,g=function(){if(s.isReal()){var e=f.default.getElementsByTagName("video"),t=f.default.getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var a=0,u=t.length;a<u;a++)n.push(t[a]);if(n&&n.length>0)for(var l=0,c=n.length;l<c;l++){var d=n[l];if(!d||!d.getAttribute){o(1);break}if(void 0===d.player){var p=d.getAttribute("data-setup");null!==p&&y(d)}}else h||o(1)}};s.isReal()&&"complete"===f.default.readyState?h=!0:l.one(p.default,"load",function(){h=!0});var v=function(){return h};t.autoSetup=g,t.autoSetupTimeout=o,t.hasLoaded=v},function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return n!==-1?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){var r=e.rtmpSourceHandler.canPlayType(t.type);return r?r:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.charAt(0).toUpperCase()+e.slice(1);C["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){C[e]=function(){return this.el_.vjs_getProperty(e)}}t.__esModule=!0;for(var c=n(46),f=i(c),d=n(8),p=r(d),h=n(64),y=r(h),g=n(47),v=n(396),m=i(v),_=n(1),b=i(_),T=n(4),E=i(T),S=n(12),w=E.default.navigator,O=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return n.source&&i.ready(function(){this.setSource(n.source)},!0),n.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),E.default.videojs=E.default.videojs||{},E.default.videojs.Flash=E.default.videojs.Flash||{},E.default.videojs.Flash.onReady=t.onReady,E.default.videojs.Flash.onEvent=t.onEvent,E.default.videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=void 0}),i}return s(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){var n="5.3.0";e.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var r=e.techId,i=(0,S.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=(0,S.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),a=(0,S.assign)({id:r,name:r,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,o,a),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=y.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function e(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,g.createTimeRange)():(0,g.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,g.createTimeRange)():(0,g.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(f.default),C=O.prototype,P="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),I="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),A=0;A<P.length;A++)l(P[A]),u(P[A]);for(var M=0;M<I.length;M++)l(I[M]);O.isSupported=function(){return O.version()[0]>=10},f.default.withSourceHandlers(O),O.nativeSourceHandler={},O.nativeSourceHandler.canPlayType=function(e){return e in O.formats?"maybe":""},O.nativeSourceHandler.canHandleSource=function(e,t){function n(e){var t=y.getFileExtension(e);return t?"video/"+t:""}var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():n(e.src),O.nativeSourceHandler.canPlayType(r)},O.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},O.nativeSourceHandler.dispose=function(){},O.registerSourceHandler(O.nativeSourceHandler),O.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},O.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&O.checkReady(n)},O.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){O.checkReady(e)},50))},O.onEvent=function(e,t){var n=p.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},O.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},O.version=function(){var e="0,0,0";try{e=new E.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{w.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(w.plugins["Shockwave Flash 2.0"]||w.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},O.embed=function(e,t,n,r){var i=O.getEmbedCode(e,t,n,r),o=p.createEl("div",{innerHTML:i}).childNodes[0];return o},O.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',o="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),n=(0,S.assign)({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,S.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){s+=e+'="'+r[e]+'" '}),""+i+s+">"+a+"</object>"},(0,m.default)(O),b.default.registerComponent("Flash",O),f.default.registerTech("Flash",O),t.default=O},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.raw=t,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),c=n(46),f=i(c),d=n(1),p=i(d),h=n(8),y=r(h),g=n(64),v=r(g),m=n(7),_=r(m),b=n(14),T=i(b),E=n(146),S=i(E),w=n(11),O=r(w),C=n(9),P=i(C),I=n(4),A=i(I),M=n(12),k=n(22),x=i(k),R=n(35),D=i(R),L=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r)),o=n.source,u=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var c=i.el_.childNodes,f=c.length,d=[];f--;){var p=c[f],h=p.nodeName.toLowerCase();"track"===h&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(p),i.remoteTextTracks().addTrack_(p.track),u||i.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(p.src)||(u=!0)):d.push(p))}for(var y=0;y<d.length;y++)i.el_.removeChild(d[y])}var g=["audio","video"];return g.forEach(function(e){var t=i.el()[e+"Tracks"],n=i[e+"Tracks"](),r=(0,D.default)(e);i["featuresNative"+r+"Tracks"]&&t&&t.addEventListener&&(i["handle"+r+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i["handle"+r+"TrackAdd_"]=function(e){return n.addTrack(e.track)},i["handle"+r+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",i["handle"+r+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+r+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+r+"TrackRemove_"]),i["removeOld"+r+"Tracks_"]=function(e){return i.removeOldTracks_(n,t)},i.on("loadstart",i["removeOld"+r+"Tracks_"]))}),i.featuresNativeTextTracks&&(u&&T.default.warn((0,S.default)(l)),i.handleTextTrackChange_=_.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=_.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=_.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),(O.TOUCH_ENABLED||O.IS_IPHONE||O.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),
i}return u(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,D.default)(e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=P.default.createElement("video");var r=this.options_.tag&&y.getElAttributes(this.options_.tag),i=(0,x.default)({},r);O.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,y.setElAttributes(e,(0,M.assign)(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],u={};"undefined"!=typeof this.options_[s]&&(u[s]=this.options_[s]),y.setElAttributes(e,u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var s=0;s<n.length;s++){var u=n[s];e.removeTrack_(u)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){(0,T.default)(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&O.IS_ANDROID&&O.IS_CHROME&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=A.default.navigator&&A.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=P.default.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(f.default);if(y.isReal()){L.TEST_VID=P.default.createElement("video");var j=P.default.createElement("track");j.kind="captions",j.srclang="en",j.label="English",L.TEST_VID.appendChild(j)}L.isSupported=function(){try{L.TEST_VID.volume=.5}catch(e){return!1}return!(!L.TEST_VID||!L.TEST_VID.canPlayType)},L.canControlVolume=function(){try{var e=L.TEST_VID.volume;return L.TEST_VID.volume=e/2+.1,e!==L.TEST_VID.volume}catch(e){return!1}},L.canControlPlaybackRate=function(){if(O.IS_ANDROID&&O.IS_CHROME)return!1;try{var e=L.TEST_VID.playbackRate;return L.TEST_VID.playbackRate=e/2+.1,e!==L.TEST_VID.playbackRate}catch(e){return!1}},L.supportsNativeTextTracks=function(){return O.IS_ANY_SAFARI},L.supportsNativeVideoTracks=function(){return!(!L.TEST_VID||!L.TEST_VID.videoTracks)},L.supportsNativeAudioTracks=function(){return!(!L.TEST_VID||!L.TEST_VID.audioTracks)},L.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],L.prototype.featuresVolumeControl=L.canControlVolume(),L.prototype.featuresPlaybackRate=L.canControlPlaybackRate(),L.prototype.movingMediaElementInDOM=!O.IS_IOS,L.prototype.featuresFullscreenResize=!0,L.prototype.featuresProgressEvents=!0,L.prototype.featuresTimeupdateEvents=!0,L.prototype.featuresNativeTextTracks=L.supportsNativeTextTracks(),L.prototype.featuresNativeVideoTracks=L.supportsNativeVideoTracks(),L.prototype.featuresNativeAudioTracks=L.supportsNativeAudioTracks();var N=L.TEST_VID&&L.TEST_VID.constructor.prototype.canPlayType,F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,U=/^video\/mp4/i;L.patchCanPlayType=function(){O.ANDROID_VERSION>=4&&!O.IS_FIREFOX?L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&F.test(e)?"maybe":N.call(this,e)}:O.IS_OLD_ANDROID&&(L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&U.test(e)?"maybe":N.call(this,e)})},L.unpatchCanPlayType=function(){var e=L.TEST_VID.constructor.prototype.canPlayType;return L.TEST_VID.constructor.prototype.canPlayType=N,e},L.patchCanPlayType(),L.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(e){}}()}},L.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){L.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){L.prototype["set"+(0,D.default)(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){L.prototype[e]=function(){return this.el_[e]()}}),f.default.withSourceHandlers(L),L.nativeSourceHandler={},L.nativeSourceHandler.canPlayType=function(e){try{return L.TEST_VID.canPlayType(e)}catch(e){return""}},L.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return L.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=v.getFileExtension(e.src);return L.nativeSourceHandler.canPlayType("video/"+n)}return""},L.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},L.nativeSourceHandler.dispose=function(){},L.registerSourceHandler(L.nativeSourceHandler),p.default.registerComponent("Html5",L),f.default.registerTech("Html5",L),t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=n(46),c=r(l),f=n(35),d=r(f),p=function(e){function t(n,r,a){i(this,t);var s=o(this,e.call(this,n,r,a));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var l=0,f=r.playerOptions.techOrder;l<f.length;l++){var p=(0,d.default)(f[l]),h=c.default.getTech(p);if(p||(h=u.default.getComponent(p)),h&&h.isSupported()){n.loadTech_(p);break}}return s}return a(t,e),t}(u.default);u.default.registerComponent("MediaLoader",p),t.default=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(92),l=n(94),c=i(l),f=n(22),d=i(f),p=n(11),h=r(p),y=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,d.default)(i,{kind:u.AudioTrackKind[i.kind]||""}),l=n=a(this,e.call(this,s)),c=!1;if(h.IS_IE8)for(var f in t.prototype)"constructor"!==f&&(l[f]=t.prototype[f]);return Object.defineProperty(l,"enabled",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("enabledchange"))}}),s.enabled&&(l.enabled=s.enabled),l.loaded_=!0,r=l,a(n,r)}return s(t,e),t}(c.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(11),s=i(a),u=n(9),l=r(u),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);var n=this;if(s.IS_IE8){n=l.default.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,a=t.length;i<a;i++)n.addTrackElement_(t[i]);if(s.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(11),l=i(u),c=n(9),f=r(c),d=n(62),p=r(d),h=n(91),y=r(h),g=0,v=1,m=2,_=3,b=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var r=a(this,e.call(this)),i=void 0,s=r;if(l.IS_IE8){s=f.default.createElement("custom");for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u])}var c=new y.default(n);if(s.kind=c.kind,s.src=c.src,s.srclang=c.language,s.label=c.label,s.default=c.default,Object.defineProperty(s,"readyState",{get:function(){return i}}),Object.defineProperty(s,"track",{get:function(){return c}}),i=g,c.addEventListener("loadeddata",function(){i=m,s.trigger({type:"load",target:s})}),l.IS_IE8){var d;return d=s,a(r,d)}return r}return s(t,e),t}(p.default);b.prototype.allowedEvents_={load:"load"},b.NONE=g,b.LOADING=v,b.LOADED=m,b.ERROR=_,t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(11),s=i(a),u=n(9),l=r(u),c=function(){function e(t){o(this,e);var n=this;if(s.IS_IE8){n=l.default.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(e){return}}t.__esModule=!0;var c=n(1),f=i(c),d=n(7),p=r(d),h=n(4),y=i(h),g="#222",v="#ccc",m={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},_=function(e){function t(n,r,i){o(this,t);var s=a(this,e.call(this,n,r,i));return n.on("loadstart",p.bind(s,s.toggleDisplay)),n.on("texttrackchange",p.bind(s,s.updateDisplay)),n.ready(p.bind(s,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",p.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var r={captions:1,subtitles:1},i=this.player_.textTracks(),o=void 0,a=void 0;if(i){for(var s=0;s<i.length;s++){var u=i[s];u.default&&("descriptions"!==u.kind||o?u.kind in r&&!a&&(a=u):o=u)}a?a.mode="showing":o&&(o.mode="showing")}})),s}return s(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof y.default.WebVTT&&y.default.WebVTT.processCues(y.default,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof y.default.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);y.default.WebVTT.processCues(y.default,n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&l(a.firstChild,"color",u(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(a.firstChild,"backgroundColor",u(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(a,"backgroundColor",u(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+g+", 2px 2px 4px "+g+", 2px 2px 5px "+g:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+g+", 2px 2px "+g+", 3px 3px "+g:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+v+", 0 1px "+v+", -1px -1px "+g+", 0 -1px "+g:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+g+", 0 0 4px "+g+", 0 0 4px "+g+", 0 0 4px "+g)),t.fontPercent&&1!==t.fontPercent){var s=y.default.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=m[t.fontFamily])}}}},t}(f.default);f.default.registerComponent("TextTrackDisplay",_),t.default=_},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(r))},o=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};t.default={textTracksToJson:i,jsonToTextTracks:o,trackToJson_:r}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(93),l=i(u),c=n(7),f=r(c),d=n(11),p=r(d),h=n(9),y=i(h),g=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);var s=void 0;if(p.IS_IE8){s=y.default.createElement("custom");for(var u in l.default.prototype)"constructor"!==u&&(s[u]=l.default.prototype[u]);for(var c in t.prototype)"constructor"!==c&&(s[c]=t.prototype[c])}return s=n=a(this,e.call(this,i,s)),r=s,a(n,r)}return s(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",f.bind(this,function(){this.trigger("change")}))},t}(l.default);t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function l(e,t){var n=e.options[e.options.selectedIndex].value;return u(n,t)}function c(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(u(e.options[r].value,n)===t){e.selectedIndex=r;break}}t.__esModule=!0;var f=n(4),d=i(f),p=n(1),h=i(p),y=n(8),g=n(7),v=r(g),m=n(12),_=r(m),b=n(14),T=i(b),E="vjs-text-track-settings",S=["#000","Black"],w=["#00F","Blue"],O=["#0FF","Cyan"],C=["#0F0","Green"],P=["#F0F","Magenta"],I=["#F00","Red"],A=["#FFF","White"],M=["#FF0","Yellow"],k=["1","Opaque"],x=["0.5","Semi-Transparent"],R=["0","Transparent"],D={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[S,A,I,C,w,M,P,O]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[k,x,R]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,S,I,C,w,M,P,O]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[k,x]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[R,x,k]}};D.windowColor.options=D.backgroundColor.options;var L=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.setDefaults(),i.hide(),i.updateDisplay=v.bind(i,i.updateDisplay),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),_.each(D,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return s(t,e),t.prototype.createElSelect_=function(e){var t=this,n=D[e],r=n.id.replace("%s",this.id_);return[(0,y.createEl)("label",{className:"vjs-label",textContent:n.label},{for:r}),(0,y.createEl)("select",{id:r},void 0,n.options.map(function(e){return(0,y.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,y.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElBgColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,y.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElWinColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,y.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElColors_=function(){return(0,y.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,y.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,y.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,y.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,y.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},t.prototype.createElControls_=function(){var e=(0,y.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,y.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,y.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},t.prototype.createEl=function(){var e=(0,y.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,y.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,y.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},t.prototype.getValues=function(){var e=this;return _.reduce(D,function(t,n,r){var i=l(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t},{})},t.prototype.setValues=function(e){var t=this;_.each(D,function(n,r){c(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;_.each(D,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(d.default.localStorage.getItem(E))}catch(e){T.default.warn(e)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?d.default.localStorage.setItem(E,JSON.stringify(e)):d.default.localStorage.removeItem(E)}catch(e){T.default.warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(h.default);h.default.registerComponent("TextTrackSettings",L),t.default=L},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(92),l=n(94),c=i(l),f=n(22),d=i(f),p=n(11),h=r(p),y=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,d.default)(i,{kind:u.VideoTrackKind[i.kind]||""}),l=n=a(this,e.call(this,s)),c=!1;if(h.IS_IE8)for(var f in t.prototype)"constructor"!==f&&(l[f]=t.prototype[f]);return Object.defineProperty(l,"selected",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("selectedchange"))}}),s.selected&&(l.selected=s.selected),r=l,a(n,r)}return s(t,e),t}(c.default);t.default=y},function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(e.contextmenu.options.disabled)return e;var n={target:e,type:h};return["clientX","clientY","pageX","pageY","screenX","screenY"].forEach(function(e){n[e]=t[e]}),e.trigger(n)}function o(e){var t=this.contextmenu.current;if(t){var n=this.contextmenu.options.wait;"touchend"===e.type&&Number(new Date)-t.time>=n&&i(this,e),this.contextmenu.current=null}}function a(e){var t=this.contextmenu.current;if(t){var n=e.touches[0],r=this.contextmenu.options.sensitivity;(n.screenX-t.screenX>r||n.screenY-t.screenY>r)&&(this.contextmenu.current=null)}}function s(e){if(!this.contextmenu.current){var t=e.touches[0];this.contextmenu.current={screenX:t.screenX,screenY:t.screenY,time:Number(new Date)}}}function u(e){this.contextmenu.options.cancel&&!this.contextmenu.options.disabled&&e.preventDefault(),i(this,e),this.off(["touchcancel","touchend"],o),this.off("touchmove",a),this.off("touchstart",s)}function l(e){var t=this;this.contextmenu.options=f.default.mergeOptions(p,e),this.contextmenu.VERSION="__VERSION__",this.on("contextmenu",u),this.on(["touchcancel","touchend"],o),this.on("touchmove",a),this.on("touchstart",s),this.ready(function(){return t.addClass(h)})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),f=r(c),d=f.default.registerPlugin||f.default.plugin,p={cancel:!0,sensitivity:10,wait:500,disabled:!1},h="vjs-contextmenu";d("contextmenu",l),l.VERSION="__VERSION__",t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e){return"dash-audio-"+e}function r(e,t){return e.find(function(e){var r=e.index;return n(r)===t.id})}var i=e.dash.mediaPlayer,o=i.getTracksFor("audio"),a=e.audioTracks();a.length&&t.clearTracks(["audio"]);var s=i.getCurrentTrackFor("audio");o.forEach(function(e){a.addTrack(new l.default.AudioTrack({enabled:e===s,id:n(e.index),kind:e.kind||"main",label:e.lang,language:e.lang}))}),a.addEventListener("change",function(){for(var e=0;e<a.length;e++){var t=a[e];if(t.enabled){var n=r(o,t);i.setCurrentTrack(n)}else;}})}function o(e,t){e.dash.mediaPlayer.on(s.default.MediaPlayer.events.PLAYBACK_METADATA_LOADED,i.bind(null,e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(73),s=r(a),u=n(2),l=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),u=r(s),l=n(2),c=r(l),f=n(73),d=r(f),p=n(410),h=r(p),y=function(e){return"[object Array]"===Object.prototype.toString.call(e)},g=function(){function e(t,n,r){var a=this;if(o(this,e),r=r||n.options_,this.player=(0,c.default)(r.playerId),this.player.dash=this.player.dash||{},this.tech_=n,this.el_=n.el(),this.elParent_=this.el_.parentNode,t.src){n.isReady_=!1,e.updateSourceData&&(c.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach(function(e){t=e(t)});var s=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=d.default.MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,e.useVideoJSDebug&&(c.default.log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(c.default.log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach(function(e){e(a.player,a.mediaPlayer_)}),this.mediaPlayer_.initialize(),r.dash&&Object.keys(r.dash).forEach(function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),o=r.dash[e];return a.mediaPlayer_.hasOwnProperty(n)&&(c.default.log.warn("Using dash options in videojs-contrib-dash without the set prefix "+("has been deprecated. Change '"+e+"' to '"+n+"'")),e=n),a.mediaPlayer_.hasOwnProperty(e)?(y(o)||(o=[o]),void(t=a.mediaPlayer_)[e].apply(t,i(o))):void c.default.log.warn("Warning: dash configuration option unrecognized: "+e)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),h.default.call(null,this.player,n),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(s),this.tech_.triggerReady()}}return a(e,[{key:"dispose",value:function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash}},{key:"duration",value:function e(){var e=this.el_.duration;return e===Number.MAX_VALUE?1/0:e}}],[{key:"buildDashJSProtData",value:function(e){var t={};if(!e||!y(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=c.default.mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t}},{key:"hooks",value:function(t,n){return e.hooks_[t]=e.hooks_[t]||[],n&&(e.hooks_[t]=e.hooks_[t].concat(n)),e.hooks_[t]}},{key:"hook",value:function(t,n){e.hooks(t,n)}},{key:"removeHook",value:function(t,n){var r=e.hooks(t).indexOf(n);return r!==-1&&(e.hooks_[t]=e.hooks_[t].slice(),e.hooks_[t].splice(r,1),!0)}}]),e}();g.hooks_={};var v=function(e){e=JSON.parse(JSON.stringify(e)),g.updateSourceData&&(c.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=g.updateSourceData(e)),g.hooks("updatesource").forEach(function(t){e=t(e)});var t=document.createElement("video");return!(e.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)};c.default.DashSourceHandler=function(){return{canHandleSource:function(e){var t=/\.mpd/i;return v(e)?c.default.DashSourceHandler.canPlayType(e.type)?"probably":t.test(e.src)?"maybe":"":""},handleSource:function(e,t,n){return new g(e,t,n)},canPlayType:function(e){return c.default.DashSourceHandler.canPlayType(e)}}},c.default.DashSourceHandler.canPlayType=function(e){var t=/^application\/dash\+xml/i;return t.test(e)?"probably":""},u.default.MediaSource&&c.default.getTech("Html5").registerSourceHandler(c.default.DashSourceHandler(),0),c.default.Html5DashJS=g,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(4),a=r(o),s=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},u=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var r=n,o=void 0,u=0;u<e.segments.length;u++){var l=e.segments[u];if(o||(o=s(t,r+l.duration/2)),o){if("cueIn"in l){o.endTime=r,o.adEndTime=r,r+=l.duration,o=null;continue}if(r<o.endTime){r+=l.duration;continue}o.endTime+=l.duration}else if("cueOut"in l&&(o=new a.default.VTTCue(r,r+l.duration,l.cueOut),o.adStartTime=r,o.adEndTime=r+parseFloat(l.cueOut),t.addCue(o)),"cueOutCont"in l){var c=void 0,f=void 0,d=l.cueOutCont.split("/").map(parseFloat),p=i(d,2);c=p[0],f=p[1],o=new a.default.VTTCue(r,r+l.duration,""),o.adStartTime=r-c,o.adEndTime=o.adStartTime+f,t.addCue(o)}r+=l.duration}};t.default={updateAdCues:u,findAdCue:s},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(100),s=n(48),u=function(e){e.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new a.Decrypter(n,r,i,function(e,n){o.default.postMessage((0,s.createTransferableMessage)({source:t.source,decrypted:n}),[n.buffer])})}};t.default=function(e){return new u(e)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(161),l=r(u),c=n(163),f=r(c),d=n(424),p=r(d),h=n(162),y=r(h),g=n(2),v=r(g),m=n(412),_=r(m),b=n(422),T=r(b),E=n(65),S=n(98),w=r(S),O=n(413),C=r(O),P=3e5,I=void 0,A=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],M=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},k=function(e,t){if(typeof e!=typeof t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},x=function(e){var t={codecCount:0,videoCodec:null,videoObjectTypeIndicator:null,audioProfile:null},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},R=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,E.translateLegacyCodecs)([e])[0]})};t.mapLegacyAvcCodecs_=R;var D=function(e,t){var n="mp2t",r={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},i=[],o=void 0,a=null;if(!t)return[];t.segments&&t.segments.length&&t.segments[0].map&&(n="mp4"),o=t.attributes||{},o.CODECS&&!function(){var e=x(o.CODECS);Object.keys(e).forEach(function(t){r[t]=e[t]||r[t]})}(),e.mediaGroups.AUDIO&&(i=e.mediaGroups.AUDIO[o.AUDIO]);for(var s in i){if(a&&!!i[s].uri!=!!a.uri)return["video/"+n+'; codecs="'+r.videoCodec+r.videoObjectTypeIndicator+", mp4a.40."+r.audioProfile+'"',"audio/"+n+'; codecs="mp4a.40.'+r.audioProfile+'"'];a=i[s]}return a&&a.uri?["video/"+n+'; codecs="'+r.videoCodec+r.videoObjectTypeIndicator+'"',"audio/"+n+'; codecs="mp4a.40.'+r.audioProfile+'"']:["video/"+n+'; codecs="'+r.videoCodec+r.videoObjectTypeIndicator+", mp4a.40."+r.audioProfile+'"']};t.mimeTypesForPlaylist_=D;var L=function(e){function t(e){var n=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=e.url,o=e.withCredentials,a=e.mode,u=e.tech,c=e.bandwidth,d=e.externHls,h=e.useCueTags;if(!r)throw new Error("A non-empty playlist URL is required");I=d,this.withCredentials=o,this.tech_=u,this.hls_=u.hls,this.mode_=a,this.useCueTags_=h,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.audioGroups_={},this.subtitleGroups_={groups:{},tracks:{}},this.mediaSource=new v.default.MediaSource({mode:a}),this.audioinfo_=null,this.mediaSource.on("audioinfo",this.handleAudioinfoUpdate_.bind(this)),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=v.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new T.default,this.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!0).track,this.decrypter_=(0,w.default)(C.default);var y={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},bandwidth:c,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new l.default(r,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.audioPlaylistLoader_=null,this.subtitlePlaylistLoader_=null,this.mainSegmentLoader_=new f.default(v.default.mergeOptions(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"})),this.audioSegmentLoader_=new f.default(v.default.mergeOptions(y,{loaderType:"audio"})),this.subtitleSegmentLoader_=new p.default(v.default.mergeOptions(y,{loaderType:"vtt"})),this.setupSegmentLoaderListeners_(),A.forEach(function(e){n[e+"_"]=M.bind(n,e)}),this.masterPlaylistLoader_.load()}return o(t,e),a(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;e.masterPlaylistLoader_.isLowestEnabledRendition_()?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),e.fillAudioTracks_(),e.setupAudio(),e.fillSubtitleTracks_(),e.setupSubtitles();try{e.setupSourceBuffers_()}catch(t){return v.default.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("audioupdate"),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();return t?(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),void(t.endList||!function(){var t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==1/0?!function(){var n=function n(){e.duration()===1/0?t():e.tech_.one("durationchange",n)};e.tech_.one("durationchange",n)}():t()}())):(e.initialMedia_=e.selectPlaylist(),void e.masterPlaylistLoader_.media(e.initialMedia_))}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3,r=void 0,i=void 0;e.masterPlaylistLoader_.isLowestEnabledRendition_()?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),r=e.activeAudioGroup(),i=r.filter(function(e){return e.enabled})[0],i||(e.setupAudio(),e.trigger("audioupdate")),e.setupSubtitles(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media(),n=e.stuckAtPlaylistEnd_(t);n&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){e.masterPlaylistLoader_.media(e.selectPlaylist())}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("error",function(){v.default.log.warn("Problem encountered with the current alternate audio track. Switching back to default."),e.audioSegmentLoader_.abort(),e.audioPlaylistLoader_=null,e.setupAudio()}),this.subtitleSegmentLoader_.on("error",this.handleSubtitleError_.bind(this))}},{key:"handleAudioinfoUpdate_",value:function(e){if(I.supportsAudioInfoChange_()||!this.audioInfo_||!k(this.audioInfo_,e.info))return void(this.audioInfo_=e.info);var t="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",n=this.activeAudioGroup().map(function(e){return e.enabled}).indexOf(!0),r=this.activeAudioGroup()[n],i=this.activeAudioGroup().filter(function(e){return e.properties_&&e.properties_.default})[0];this.audioPlaylistLoader_?(t="The audio track '"+r.label+"' that we tried to "+("switch to "+t+" Unfortunately this means we will have to ")+("return you to the main track '"+i.label+"'. Sorry!"),i.enabled=!0,this.activeAudioGroup().splice(n,1),this.trigger("audioupdate")):(t="The rendition that we tried to switch to "+t+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),v.default.log.warn(t),this.setupAudio()}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function(){var e=this.master(),t=e.mediaGroups||{};t&&t.AUDIO&&0!==Object.keys(t.AUDIO).length&&"html5"===this.mode_||(t.AUDIO={main:{default:{default:!0}}});for(var n in t.AUDIO){this.audioGroups_[n]||(this.audioGroups_[n]=[]);for(var r in t.AUDIO[n]){var i=t.AUDIO[n][r],o=new v.default.AudioTrack({id:r,kind:this.audioTrackKind_(i),enabled:!1,language:i.language,label:r});o.properties_=i,this.audioGroups_[n].push(o)}}(this.activeAudioGroup().filter(function(e){return e.properties_.default})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"audioTrackKind_",value:function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t}},{key:"fillSubtitleTracks_",value:function(){var e=this.master(),t=e.mediaGroups||{};for(var n in t.SUBTITLES){this.subtitleGroups_.groups[n]||(this.subtitleGroups_.groups[n]=[]);for(var r in t.SUBTITLES[n]){var i=t.SUBTITLES[n][r];if(!i.forced&&(this.subtitleGroups_.groups[n].push(v.default.mergeOptions({id:r},i)),"undefined"==typeof this.subtitleGroups_.tracks[r])){var o=this.tech_.addRemoteTextTrack({id:r,kind:"subtitles",enabled:!1,language:i.language,label:r},!0).track;this.subtitleGroups_.tracks[r]=o}}}}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.load()}},{key:"activeAudioGroup",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;return e.attributes&&e.attributes.AUDIO&&(t=this.audioGroups_[e.attributes.AUDIO]),t||this.audioGroups_.main}},{key:"activeSubtitleGroup_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;return e?(e.attributes&&e.attributes.SUBTITLES&&(t=this.subtitleGroups_.groups[e.attributes.SUBTITLES]),t||this.subtitleGroups_.groups.main):null}},{key:"activeSubtitleTrack_",value:function(){for(var e in this.subtitleGroups_.tracks)if("showing"===this.subtitleGroups_.tracks[e].mode)return this.subtitleGroups_.tracks[e];return null}},{key:"handleSubtitleError_",value:function(){v.default.log.warn("Problem encountered loading the subtitle track. Switching back to default."),this.subtitleSegmentLoader_.abort();var e=this.activeSubtitleTrack_();e&&(e.mode="disabled"),this.setupSubtitles()}},{key:"setupAudio",value:function(){var e=this,t=this.activeAudioGroup(),n=t.filter(function(e){return e.enabled})[0];return n||(n=t.filter(function(e){return e.properties_.default})[0]||t[0],n.enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),n.properties_.resolvedUri?(this.audioSegmentLoader_.resetEverything(),this.audioPlaylistLoader_=new l.default(n.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.load(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var t=e.audioPlaylistLoader_.media();e.audioSegmentLoader_.playlist(t,e.requestOptions_),(!e.tech_.paused()||t.endList&&"none"!==e.tech_.preload())&&e.audioSegmentLoader_.load(),t.endList||e.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var t=void 0;return e.audioPlaylistLoader_&&(t=e.audioPlaylistLoader_.media()),t?void e.audioSegmentLoader_.playlist(t,e.requestOptions_):void e.audioPlaylistLoader_.media(e.audioPlaylistLoader_.playlists.master.playlists[0])}),void this.audioPlaylistLoader_.on("error",function(){v.default.log.warn("Problem encountered loading the alternate audio track. Switching back to default."),e.audioSegmentLoader_.abort(),e.setupAudio()})):void this.mainSegmentLoader_.resetEverything()}},{key:"setupSubtitles",value:function(){var e=this,t=this.activeSubtitleGroup_(),n=this.activeSubtitleTrack_();if(this.subtitleSegmentLoader_.pause(),!n)return void(this.subtitlePlaylistLoader_&&(this.subtitlePlaylistLoader_.dispose(),this.subtitlePlaylistLoader_=null));var r=t.filter(function(e){return e.id===n.id})[0];this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.media()&&this.subtitlePlaylistLoader_.media().resolvedUri===r.resolvedUri||(this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.dispose(),this.subtitleSegmentLoader_.resetEverything(),this.subtitlePlaylistLoader_=new l.default(r.resolvedUri,this.hls_,this.withCredentials),this.subtitlePlaylistLoader_.on("loadedmetadata",function(){var t=e.subtitlePlaylistLoader_.media();e.subtitleSegmentLoader_.playlist(t,e.requestOptions_),e.subtitleSegmentLoader_.track(e.activeSubtitleTrack_()),(!e.tech_.paused()||t.endList&&"none"!==e.tech_.preload())&&e.subtitleSegmentLoader_.load()}),this.subtitlePlaylistLoader_.on("loadedplaylist",function(){var t=void 0;e.subtitlePlaylistLoader_&&(t=e.subtitlePlaylistLoader_.media()),t&&e.subtitleSegmentLoader_.playlist(t,e.requestOptions_)}),this.subtitlePlaylistLoader_.on("error",this.handleSubtitleError_.bind(this))),this.subtitlePlaylistLoader_.media()&&this.subtitlePlaylistLoader_.media().resolvedUri===r.resolvedUri?this.subtitleSegmentLoader_.load():this.subtitlePlaylistLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=void 0,t=this.masterPlaylistLoader_.media();return!(!t||this.tech_.paused()||this.hasPlayed_())&&(t.endList||(this.trigger("firstplay"),e=this.seekable(),e.length&&this.tech_.setCurrentTime(e.end(0))),this.hasPlayed_=function(){return!0},this.load(),!0)}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return v.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"stuckAtPlaylistEnd_",value:function(e){var t=this.seekable();if(!t.length)return!1;var n=I.Playlist.playlistEnd(e),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=y.default.TIME_FUDGE_FACTOR;var o=i.end(i.length-1);return o-r<=y.default.TIME_FUDGE_FACTOR&&n-o<=y.default.TIME_FUDGE_FACTOR}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=void 0,n=void 0;if(t=e.playlist||this.masterPlaylistLoader_.media(),!t)return this.error=e,this.mediaSource.endOfStream("network");var r=this.masterPlaylistLoader_.isFinalRendition_();return r?(v.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.masterPlaylistLoader_.load(r)):(t.excludeUntil=Date.now()+P,n=this.selectPlaylist(),v.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=y.default.findRange(this.tech_.buffered(),e);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media())return 0;if(!this.masterPlaylistLoader_.media().segments)return 0;var n="flash"===this.mode_||"auto"===this.mode_&&!v.default.MediaSource.supportsNativeMediaSources();return t&&t.length&&!n?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.subtitlePlaylistLoader_&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void(this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load(),this.subtitlePlaylistLoader_&&this.subtitleSegmentLoader_.load())))}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:I.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0,n=void 0;this.masterPlaylistLoader_&&(e=this.masterPlaylistLoader_.media(),e&&(t=I.Playlist.seekable(e),0!==t.length&&(this.audioPlaylistLoader_&&(n=I.Playlist.seekable(this.audioPlaylistLoader_.media()),0===n.length)||(n?n.start(0)>t.end(0)||t.start(0)>n.end(0)?this.seekable_=t:this.seekable_=v.default.createTimeRanges([[n.start(0)>t.start(0)?n.start(0):t.start(0),n.end(0)<t.end(0)?n.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")))))}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=I.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function t(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioPlaylistLoader_&&this.audioPlaylistLoader_.dispose(),this.subtitlePlaylistLoader_&&this.subtitlePlaylistLoader_.dispose(),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if(t=D(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,n=2,r=null,i=void 0;e.attributes&&e.attributes.CODECS&&(i=x(e.attributes.CODECS),r=i.videoCodec,n=i.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes&&e.attributes.CODECS){var i=e.attributes.CODECS;t=x(i),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+R(i)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),_.default.updateAdCues(e,this.cueTagsTrack_,t)}}]),t}(v.default.EventTarget);t.MasterPlaylistController=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(48),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};t.REQUEST_ERRORS=s;var u=function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n},l=function(e){var t={};return e.byterange&&(t.Range=u(e.byterange)),t},c=function(e){e.forEach(function(e){e.abort()})},f=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},d=function(e){var t=e.target,n=Date.now()-t.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return e.lengthComputable&&(r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3)),r},p=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},h=function(e,t){return function(n,r){var i=r.response,o=p(n,r);if(o)return t(o,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:s.FAILURE,xhr:r},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}},y=function(e,t){return function(n,r){var i=p(n,r);return i?t(i,e):(e.map.bytes=new Uint8Array(r.response),t(null,e))}},g=function(e,t){return function(n,r){var i=p(n,r);return i?t(i,e):(e.stats=f(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t(null,e))}},v=function(e,t,n){var r=function r(i){if(i.data.source===t.requestId){e.removeEventListener("message",r);var o=i.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,t)}};e.addEventListener("message",r),e.postMessage((0,a.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},m=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},_=function(e,t,n){var r=[],i=0;return function(o,a){if(o&&(c(e),r.push(o)),i+=1,i===e.length){if(a.endOfAllRequests=Date.now(),r.length>0){var s=m(r);return n(s,a)}return a.encryptedBytes?v(t,a,n):n(null,a)}}},b=function(e,t){return function(n){return e.stats=d(n),t(n,e)}},T=function(e,t,n,r,i,a){var s=[],u=_(s,n,a);if(r.key){var f=o.default.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),d=h(r,u),p=e(f,d);s.push(p)}if(r.map&&!r.map.bytes){
var v=o.default.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:l(r.map)}),m=y(r,u),T=e(v,m);s.push(T)}var E=o.default.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:l(r)}),S=g(r,u),w=e(E,S);return w.addEventListener("progress",b(r,i)),s.push(w),function(){return c(s)}};t.mediaSegmentRequest=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(162),s=r(a),u=n(2),l=r(u),c=["seeking","seeked","pause","playing","error"],f=function(){function e(t){var n=this;i(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=l.default.log.bind(l.default,"playback-watcher ->")),this.logger_("initialize");var r=function(){return n.waiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(c,o),this.monitorCurrentTime_(),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(c,o),n.checkCurrentTimeTimeout_&&clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return o(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.outsideOfSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Trying to seek outside of seekable at time "+t+" with "+("seekable range "+s.default.printableRange(e)+". Seeking to ")+(n+".")),this.tech_.setCurrentTime(n),!0}return!1}},{key:"waiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(!(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||null!==this.timer_)){if(this.fellOutOfLiveWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),void this.tech_.trigger("liveresync")}var r=this.tech_.buffered(),i=s.default.findNextRange(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),void this.tech_.trigger("videounderflow");if(i.length>0){var o=i.start(0)-t;this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t)}}}},{key:"outsideOfSeekableWindow_",value:function(e,t){return!!e.length&&(t<e.start(0)-.1||t>e.end(e.length-1)+.1)}},{key:"fellOutOfLiveWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0))}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=s.default.findNextRange(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+s.default.TIME_FUDGE_FACTOR))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=s.default.findGaps(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null}},{key:"logger_",value:function(){}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a={errorInterval:30,getSource:function(e){var t=this.tech({IWillNotUseThisInPlugins:!0}),n=t.currentSource_;return e(n)}},s=function e(t,n){var r=0,i=0,s=o.default.mergeOptions(a,n),u=function(){i&&t.currentTime(i)},l=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",u),t.src(e),t.play())},c=function(){if(!(Date.now()-r<1e3*s.errorInterval))return s.getSource&&"function"==typeof s.getSource?(r=Date.now(),s.getSource.call(t,l)):void o.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},f=function e(){t.off("loadedmetadata",u),t.off("error",c),t.off("dispose",e)},d=function(n){f(),e(t,n)};t.on("error",c),t.on("dispose",f),t.reloadSourceOnError=d},u=function(e){s(this,e)};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),o=function(e,t,n,r){var o=e.master.playlists[t],a=(0,i.isBlacklisted)(o),s=(0,i.isEnabled)(o);return"undefined"==typeof r?s:(r?delete o.disabled:o.disabled=!0,r===s||a||n(),r)},a=function e(t,n,i){r(this,e);var a=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(n.attributes){var s=n.attributes;if(s.RESOLUTION){var u=s.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=s.BANDWIDTH}this.id=i,this.enabled=o.bind(this,t.playlists,n.uri,a)},s=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!(0,i.isBlacklisted)(e)}).map(function(t,n){return new a(e,t,t.uri)})}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(354),o=r(i),a=n(4),s=r(a),u=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=o.default.buildAbsoluteURL(s.default.location.href,e)),o.default.buildAbsoluteURL(e,t))};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=r(a),u=function(){function e(t,n){var r=this;i(this,e);var o=function(){r.sourceBuffer_=t.addSourceBuffer(n),r.onUpdateendCallback_=function(){var e=r.pendingCallback_;r.pendingCallback_=null,e&&e(),r.runCallback_()},r.sourceBuffer_.addEventListener("updateend",r.onUpdateendCallback_),r.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,"closed"===t.readyState?t.addEventListener("sourceopen",o):o()}return o(e,[{key:"abort",value:function(e){var t=this;this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:s.default.createTimeRanges()}},{key:"duration",value:function(e){var t=this;this.queueCallback_(function(){t.sourceBuffer_.duration=e})}},{key:"remove",value:function(e,t){var n=this;this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)})}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=void 0;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(339),l=r(u),c=n(340),f=n(49),d=n(2),p=r(d),h=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){var o={time:0,segmentIndex:0};return o}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(e.datetimeToDisplayTime&&t.dateTimeObject){var o=t.dateTimeObject.getTime()/1e3,a=o+e.datetimeToDisplayTime,s={time:a,segmentIndex:0};return s}return null}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments,a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===r&&"undefined"!=typeof l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var f=Math.abs(i-c.time);if(null!==a&&a<f)break;(!o||null===a||a>=f)&&(a=f,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){if(t.syncInfo){var o={time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence};return o}return null}}];t.syncPointStrategies=h;var y=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,p.default.options.hls&&p.default.options.hls.debug&&(this.logger_=p.default.log.bind(p.default,"sync-controller ->"))}return o(t,e),a(t,[{key:"getSyncPoint",value:function(e,t,n,r){for(var i=[],o=0;o<h.length;o++){var a=h[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}),this.logger_("syncPoint found via <"+a.name+">:",s))}if(!i.length)return null;for(var u=i[0].syncPoint,l=Math.abs(i[0].syncPoint.time-r),c=i[0].strategy,o=1;o<i.length;o++){var f=Math.abs(i[o].syncPoint.time-r);f<l&&(l=f,u=i[o].syncPoint,c=i[o].strategy)}return this.logger_("syncPoint with strategy <"+c+"> chosen: ",u),u}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!=typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=void 0;n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),n&&this.calculateSegmentTimeMapping_(e,n)&&this.saveDiscontinuitySyncInfo_(e)}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=l.default.timescale(t.map.bytes),r=l.default.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,c.inspect)(e.bytes,this.inspectCache_),n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.timestampOffset,mapping:e.timestampOffset-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),n.start=e.timestampOffset,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=i-e.mediaIndex,s=Math.abs(a);(!this.discontinuities[o]||this.discontinuities[o].accuracy>s)&&(a<0?this.discontinuities[o]={time:n.start-(0,f.sumDurations)(t,e.mediaIndex,i),accuracy:s}:this.discontinuities[o]={time:n.end+(0,f.sumDurations)(t,e.mediaIndex+1,i),accuracy:s})}}},{key:"logger_",value:function(){}}]),t}(p.default.EventTarget);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(9),l=r(u),c=n(161),f=r(c),d=n(49),p=r(d),h=n(425),y=r(h),g=n(100),v=n(48),m=r(v),_=n(431),b=n(137),T=r(b),E=n(2),S=r(E),w=n(414),O=n(160),C=r(O),P=n(418),I=r(P),A=n(4),M=r(A),k=n(416),x=r(k),R=n(417),D=r(R),L={PlaylistLoader:f.default,Playlist:p.default,Decrypter:g.Decrypter,AsyncStream:g.AsyncStream,decrypt:g.decrypt,utils:m.default,xhr:(0,y.default)()};Object.defineProperty(L,"GOAL_BUFFER_LENGTH",{get:function(){return S.default.log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),C.default.GOAL_BUFFER_LENGTH},set:function(e){return S.default.log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<=0?void S.default.log.warn("value passed to Hls.GOAL_BUFFER_LENGTH must be a number and greater than 0"):void(C.default.GOAL_BUFFER_LENGTH=e)}});var j=1.2,N=function(e,t){var n=void 0;return e?(n=M.default.getComputedStyle(e),n?n[t]:""):""},F=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},U=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),F(e,t.playlists)},B=function(e,t){var n=e.slice();e.sort(function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i})};L.STANDARD_PLAYLIST_SELECTOR=function(){var e=this.playlists.master.playlists.slice(),t=[],n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=[],c=[],f=[];return B(e,L.comparePlaylistBandwidth),e=e.filter(p.default.isEnabled),s=this.systemBandwidth,t=e.filter(function(e){return e.attributes&&e.attributes.BANDWIDTH&&e.attributes.BANDWIDTH*j<s}),n=t.filter(function(e){return e.attributes.BANDWIDTH===t[t.length-1].attributes.BANDWIDTH})[0],B(t,L.comparePlaylistResolution),o=parseInt(N(this.tech_.el(),"width"),10),a=parseInt(N(this.tech_.el(),"height"),10),u=t.filter(function(e){return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height}),f=u.filter(function(e){return e.attributes.RESOLUTION.width===o&&e.attributes.RESOLUTION.height===a}),i=f.filter(function(e){return e.attributes.BANDWIDTH===f[f.length-1].attributes.BANDWIDTH})[0],i||(l=u.filter(function(e){return e.attributes.RESOLUTION.width>o||e.attributes.RESOLUTION.height>a}),c=l.filter(function(e){return e.attributes.RESOLUTION.width===l[0].attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height===l[0].attributes.RESOLUTION.height}),r=c.filter(function(e){return e.attributes.BANDWIDTH===c[c.length-1].attributes.BANDWIDTH})[0]),r||i||n||e[0]},L.canPlaySource=function(){return S.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},L.supportsNativeHls=function(){var e=l.default.createElement("video");if(!S.default.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),L.isSupported=function(){return S.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var H=M.default.navigator&&M.default.navigator.userAgent||"";L.supportsAudioInfoChange_=function(){if(S.default.browser.IS_FIREFOX){var e=/Firefox\/([\d.]+)/i.exec(H),t=parseInt(e[1],10);return t>=49}return!0};var V=S.default.getComponent("Component"),q=function(e){function t(e,n,r){var o=this;if(i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),n.options_&&n.options_.playerId){var a=(0,S.default)(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return S.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),o}})}if(S.default.options.hls.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.options_=S.default.mergeOptions(S.default.options.hls||{},r.hls),this.setOptions_(),this.on(l.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=l.default.fullscreenElement||l.default.webkitFullscreenElement||l.default.mozFullScreenElement||l.default.msFullscreenElement;t&&t.contains(o.tech_.el())&&o.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.audioTrackChange_=function(){o.masterPlaylistController_.setupAudio()},this.textTrackChange_=function(){o.masterPlaylistController_.setupSubtitles()},this.on(this.tech_,"play",this.play)}return o(t,e),a(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),["withCredentials","bandwidth"].forEach(function(t){"undefined"!=typeof e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=L,this.masterPlaylistController_=new w.MasterPlaylistController(this.options_),this.playbackWatcher_=new x.default(S.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):L.STANDARD_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;t=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(e+t));return n},set:function(){S.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("sourceopen",function(){t.tech_.audioTracks().addEventListener("change",t.audioTrackChange_),t.tech_.remoteTextTracks().addEventListener("change",t.textTrackChange_)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,I.default)(t)}),this.masterPlaylistController_.on("audioupdate",function(){t.tech_.clearTracks("audio"),t.masterPlaylistController_.activeAudioGroup().forEach(function(e){t.tech_.audioTracks().addTrack(e)})}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(S.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=S.default.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){U(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){F(e.qualityLevels_,e.playlists)}))}},{key:"activeAudioGroup_",value:function(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_),this.tech_.remoteTextTracks().removeEventListener("change",this.textTrackChange_),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(V),z=function e(t){return{canHandleSource:function(n){return(!S.default.options.hls||!S.default.options.hls.mode||S.default.options.hls.mode===t)&&e.canPlayType(n.type)},handleSource:function(e,n,r){"flash"===t&&n.setTimeout(function(){n.trigger("loadstart")},1);var i=S.default.mergeOptions(r,{hls:{mode:t}});return n.hls=new q(e,n,i),n.hls.xhr=(0,y.default)(),S.default.Hls.xhr.beforeRequest&&(n.hls.xhr.beforeRequest=S.default.Hls.xhr.beforeRequest),n.hls.src(e.src),n.hls},canPlayType:function(t){return e.canPlayType(t)?"maybe":""}}};L.comparePlaylistBandwidth=function(e,t){var n=void 0,r=void 0;return e.attributes&&e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||M.default.Number.MAX_VALUE,t.attributes&&t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||M.default.Number.MAX_VALUE,n-r},L.comparePlaylistResolution=function(e,t){var n=void 0,r=void 0;return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||M.default.Number.MAX_VALUE,t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||M.default.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},z.canPlayType=function(e){if(S.default.browser.IE_VERSION&&S.default.browser.IE_VERSION<=10)return!1;var t=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!S.default.options.hls.overrideNative&&L.supportsNativeHls)&&t.test(e)},"undefined"!=typeof S.default.MediaSource&&"undefined"!=typeof S.default.URL||(S.default.MediaSource=_.MediaSource,S.default.URL=_.URL);var G=S.default.getTech("Flash");_.MediaSource.supportsNativeMediaSources()&&S.default.getTech("Html5").registerSourceHandler(z("html5"),0),M.default.Uint8Array&&G&&G.registerSourceHandler(z("flash")),S.default.HlsHandler=q,S.default.HlsSourceHandler=z,S.default.Hls=L,S.default.use||S.default.registerComponent("Hls",L),S.default.m3u8=T.default,S.default.options.hls=S.default.options.hls||{},S.default.registerPlugin?S.default.registerPlugin("reloadSourceOnError",D.default):S.default.plugin("reloadSourceOnError",D.default),e.exports={Hls:L,HlsHandler:q,HlsSourceHandler:z}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(163),l=r(u),c=n(2),f=r(c),d=n(4),p=r(d),h=n(66),y=r(h),g=n(48),v=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),m=function(e){return String.fromCharCode.apply(null,e)},_=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.mediaSource_=null,this.subtitlesTrack_=null}return o(t,e),a(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return f.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return f.default.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,g.initSegmentId)(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=v.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(v,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()}},{key:"remove",value:function(e,t){(0,y.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){
if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof p.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var t=function(){e.handleSegment_()};return e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}),{v:void 0}}();if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof p.default.TextDecoder?t=new p.default.TextDecoder("utf8"):(t=p.default.WebVTT.StringDecoder(),n=!0);var r=new p.default.WebVTT.Parser(p.default,p.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){f.default.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=m(i)),r.parse(i)}var o=e.bytes;n&&(o=m(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var i=e.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}}}]),t}(l.default);t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){var e=function e(t,n){if(t=(0,r.mergeOptions)({timeout:45e3},t),e.beforeRequest&&"function"==typeof e.beforeRequest){var i=e.beforeRequest(t);i&&(t=i)}var o=(0,r.xhr)(t,function(e,t){var r=o.response;!e&&r&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=r.byteLength||r.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(r||o.responseText)))),n(e,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(9),l=r(u),c=n(2),f=r(c),d=n(427),p=r(d),h=n(165),y=r(h),g=n(65),v=n(97),m=function(e){function t(){var e=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=l.default.getElementById(t.swfId),e.player_=(0,f.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.tech_.hls&&e.tech_.hls.on("dispose",function(){(0,v.cleanupTextTracks)(e.player_)}),e.swfObj&&e.swfObj.vjs_load()})}return o(t,e),a(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,g.parseContentType)(e),n=void 0;if("video/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new p.default(this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(f.default.EventTarget);t.default=m;try{Object.defineProperty(m.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(e){m.prototype.duration=NaN}for(var _ in y.default)m[_]=y.default[_];e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(4),l=r(u),c=n(2),f=r(c),d=n(142),p=r(d),h=n(66),y=r(h),g=n(164),v=r(g),m=n(96),_=n(428),b=r(_),T=n(98),E=r(T),S=n(165),w=r(S),O=function(e){l.default.setTimeout(e,w.default.TIME_BETWEEN_CHUNKS)},C=function(){return Math.random().toString(36).slice(2,8)},P=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},I=function(e){function t(e){var n=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=void 0;this.chunkSize_=w.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,r=l.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(p.default.getFlvHeader())));var o=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+o+C(),this.flashEncodedDataName_="vjs_flashEncodedData_"+o+C(),l.default[this.flashEncodedHeaderName_]=function(){return delete l.default[n.flashEncodedHeaderName_],r},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,E.default)(b.default),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&n.receiveBuffer_(e.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return f.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=P(e[0][0],3),e[0][1]=P(e[0][1],3)),f.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){(0,y.default)(0,1/0,n.metadataTrack_),(0,y.default)(0,1/0,n.inbandTextTrack_)}),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate()})}return o(t,e),a(t,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw t=new Error("SourceBuffer.append() cannot be called while an update is in progress"),t.name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){(0,y.default)(e,t,this.metadataTrack_),(0,y.default)(e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,v.default)(this,this.mediaSource_,e),(0,m.addTextTrackData)(this,e.captions,e.metadata),O(function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&O(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=w.default.BYTES_PER_CHUNK;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var r=[],i=n.byteLength,o=0;o<i;o++)r.push(String.fromCharCode(n[o]));var a=l.default.btoa(r.join(""));l.default[this.flashEncodedDataName_]=function(){return O(e.processBuffer_.bind(e)),delete l.default[e.flashEncodedDataName_],a},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,r=0,i=void 0,o=e.tags.videoTags,a=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(o.length||a.length)){var s=o[0]||{pts:1/0},u=a[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=o.length;if(l&&o[l-1].pts>=r){for(;--l;){var c=o[l];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;l;){var f=o[l-1];if(!f.metaDataTag)break;l--}}var d=o.slice(l),p=void 0;for(p=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,d.length&&(p=Math.min(p,d[0].pts)),l=0;l<a.length&&!(a[l].pts>=p);)l++;var h=a.slice(l);h.length&&(this.audioBufferEnd_=h[h.length-1].pts),d.length&&(this.videoBufferEnd_=d[d.length-1].pts);var y=this.getOrderedTags_(d,h);if(0!==y.length){if(y[0].pts<r&&n.seeking()){var g=1/30,v=n.currentTime(),m=(r-y[0].pts)/1e3,_=v-m;_<g&&(_=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(_)}catch(e){}}for(var b=0;b<y.length;b++)t+=y[b].bytes.byteLength;i=new Uint8Array(t);for(var b=0,T=0;b<y.length;b++)i.set(y[b].bytes,T),T+=y[b].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(e,t){for(var n=void 0,r=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(n);return r}}]),t}(f.default.EventTarget);t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),u=n(142),l=r(u),c=function(e){e.on("data",function(e){s.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){s.default.postMessage({action:"done"})})},f=function(){function e(t){i(this,e),this.options=t||{},this.init()}return o(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}}]),e}(),d=function(e){e.onmessage=function(e){return"init"===e.data.action&&e.data.options?void(this.messageHandlers=new f(e.data.options)):(this.messageHandlers||(this.messageHandlers=new f),void(e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)))}};t.default=function(e){return new d(e)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(4),l=r(u),c=n(9),f=r(c),d=n(2),p=r(d),h=n(432),y=r(h),g=n(96),v=n(65),m=n(97),_=function(e){function t(){var e=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=void 0;this.nativeMediaSource_=new l.default.MediaSource;for(n in this.nativeMediaSource_)n in t.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==1/0)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?p.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){e.activeSourceBuffers_.length=0;for(var t=!1,n=!0,r=0;r<e.player_.audioTracks().length;r++){var i=e.player_.audioTracks()[r];if(i.enabled&&"main"!==i.kind){t=!0,n=!1;break}}e.sourceBuffers.forEach(function(r){if(r.appendAudioInitSegment_=!0,r.videoCodec_&&r.audioCodec_)r.audioDisabled_=t;else if(r.videoCodec_&&!r.audioCodec_)r.audioDisabled_=!0,n=!1;else if(!r.videoCodec_&&r.audioCodec_&&(r.audioDisabled_=n,n))return;e.activeSourceBuffers_.push(r)})},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var n=f.default.querySelector('[src="'+e.url_+'"]');n&&(e.player_=(0,p.default)(n.parentNode),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),this.on("sourceended",function(t){for(var n=(0,g.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&((0,m.cleanupTextTracks)(this.player_),this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_))})}return o(t,e),a(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=(0,v.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(0,v.translateLegacyCodecs)(r),r=r.filter(function(e){return(0,v.isAudioCodec)(e)||(0,v.isVideoCodec)(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new y.default(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(p.default.EventTarget);t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),u=n(338),l=r(u),c=function(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,s.default.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){s.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){s.default.postMessage({action:"done"})})},f=function(){function e(t){i(this,e),this.options=t||{},this.init()}return o(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}}]),e}(),d=function(e){e.onmessage=function(e){return"init"===e.data.action&&e.data.options?void(this.messageHandlers=new f(e.data.options)):(this.messageHandlers||(this.messageHandlers=new f),void(e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)))}};t.default=function(e){return new d(e)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(426),s=r(a),u=n(429),l=r(u),c=n(2),f=r(c),d=0,p={mode:"auto"};f.default.mediaSources={};var h=function(e,t){var n=f.default.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},y=function(){return!!o.default.MediaSource&&!!o.default.MediaSource.isTypeSupported&&o.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},g=function(e){var t=f.default.mergeOptions(p,e);if(this.MediaSource={open:h,supportsNativeMediaSources:y},"html5"===t.mode||"auto"===t.mode&&y())return new l.default;if(f.default.getTech("Flash"))return new s.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};t.MediaSource=g,g.open=h,g.supportsNativeMediaSources=y;var v={createObjectURL:function(e){var t="blob:vjs-media-source/",n=void 0;return e instanceof l.default?(n=o.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=n,n):e instanceof s.default?(n=t+d,d++,f.default.mediaSources[n]=e,n):(n=o.default.URL.createObjectURL(e),e.url_=n,n)}};t.URL=v,f.default.MediaSource=g,f.default.URL=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},u=n(2),l=r(u),c=n(164),f=r(c),d=n(66),p=r(d),h=n(96),y=n(98),g=r(y),v=n(430),m=r(v),_=n(65),b=function(e){function t(e,n){var r=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,l.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0;var o={remux:!1};this.codecs_.forEach(function(e){(0,_.isAudioCodec)(e)?r.audioCodec_=e:(0,_.isVideoCodec)(e)&&(r.videoCodec_=e)}),this.transmuxer_=(0,g.default)(m.default),this.transmuxer_.postMessage({action:"init",options:o}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return l.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return l.default.createTimeRange();for(var o=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,s=o.length;s--;)r.push({time:o.start(s),type:"start"}),r.push({time:o.end(s),type:"end"});for(s=a.length;s--;)r.push({time:a.start(s),type:"start"}),r.push({time:a.end(s),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),s=0;s<r.length;s++)"start"===r[s].type?(n++,2===n&&(e=r[s].time)):"end"===r[s].type&&(n--,1===n&&(t=r[s].time)),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return l.default.createTimeRanges(i)}})}return o(t,e),a(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,f.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;e.mediaSource_[n+"Buffer_"]?r=e.mediaSource_[n+"Buffer_"]:(r=e.mediaSource_.nativeMediaSource_.addSourceBuffer(n+'/mp4;codecs="'+e[n+"Codec_"]+'"'),e.mediaSource_[n+"Buffer_"]=r),e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!e.audioDisabled_){var r=t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)});return r?e.trigger(i):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(e,t){this.videoBuffer_&&this.videoBuffer_.remove(e,t),this.audioBuffer_&&this.audioBuffer_.remove(e,t),(0,p.default)(e,t,this.metadataTrack_),(0,p.default)(e,t,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,h.addTextTrackData)(this,e.captions,e.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.appendBuffer(r)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(l.default.EventTarget);t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),s=a.default.getTech("Html5"),u=a.default.registerPlugin||a.default.plugin,l=["abort","emptied","loadstart","play"],c=["abort","emptied"],f=["ad-playback","postroll?","preroll?"],d=function(){var e=this,t=[],n=void 0,r=!1,o=void 0,u=!0,d=function(){return!!e.ads&&"object"==typeof e.ads&&f.indexOf(e.ads.state)>-1},p=function(e){return function(n,r){var i=this;if(!this.perSourceBehaviors.disabled()){var o=2===arguments.length,s=this.currentSrc(),u=[n],l=a.default.bind(o?this:n,arguments[arguments.length-1]),c=function(){var t=i.currentSrc()!==s;i.perSourceBehaviors.disabled()||((t||e)&&i.off.apply(i,u),t||l.apply(void 0,arguments))};return c.guid=l.guid,o||u.push(r),u.push(c),t.push(u),this.on.apply(this,u)}}};this.perSourceBehaviors={disable:a.default.bind(this,function(){return this.clearTimeout(o),o=null,r=!0}),disabled:function(){return r},enable:function(){return r=!1},enabled:function(){return!r},isSrcStable:function(){return u},VERSION:"__VERSION__"},this.onPerSrc=p(),this.onePerSrc=p(!0),this.on("dispose",function(){t.length=0}),this.on(l,function(r){if(!(e.perSourceBehaviors.disabled()||o||d(e))){u&&c.indexOf(r.type)>-1&&(u=!1,e.trigger("sourceunstable"));var a=[],l=function(e){return a.push({time:Date.now(),event:e})};l(r),e.on(s.Events,l),o=e.setTimeout(function(){var r=e.currentSrc();u=!0,o=null,e.off(s.Events,l),r&&r!==n&&(t.forEach(function(t){return e.off.apply(e,i(t))}),t.length=0,e.trigger("sourcechanged",{interimEvents:a,from:n,to:r}),n=r)},1)}})};u("perSourceBehaviors",d),d.VERSION="__VERSION__",t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.clearTracks=void 0;var r=n(166),i=function(e){for(var t=e.remoteTextTracks(),n=t&&t.length||0;n--;)e.removeRemoteTextTrack(t[n]);
},o=function(e,t,n){var o=!e.paused()||e.ended();return e.trigger("beforeplaylistitem",n),e.poster(n.poster||""),e.src(n.sources),i(e),(n.textTracks||[]).forEach(e.addRemoteTextTrack.bind(e)),e.trigger("playlistitem",n),o&&e.play(),(0,r.setup)(e,t),e};t.default=o,t.clearTracks=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(4),s=i(a),u=n(434),l=i(u),c=n(166),f=r(c),d=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},p=function(e,t){var n=e,r=t;return"object"===("undefined"==typeof e?"undefined":o(e))&&(n=e.src),"object"===("undefined"==typeof t?"undefined":o(t))&&(r=t.src),/^\/\//.test(n)&&(r=r.slice(r.indexOf("//"))),/^\/\//.test(r)&&(n=n.slice(n.indexOf("//"))),n===r},h=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].sources;if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=r[i];if(o&&p(o,t))return n}}return-1},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Array.isArray(t)?t.slice():[],i=e.playlist=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(t)&&(r=t.slice(),n!==-1&&i.currentItem(n),i.changeTimeout_=s.default.setTimeout(function(){e.trigger("playlistchange")},0)),r.slice()};return e.on("loadstart",function(){i.currentItem()===-1&&f.reset(e)}),e.on("dispose",function(){s.default.clearTimeout(i.changeTimeout_)}),d(i,{currentIndex_:-1,player_:e,autoadvance_:{},currentItem:function(e){return"number"==typeof e&&i.currentIndex_!==e&&e>=0&&e<r.length?(i.currentIndex_=e,(0,l.default)(i.player_,i.autoadvance_.delay,r[i.currentIndex_])):i.currentIndex_=i.indexOf(i.player_.currentSrc()||""),i.currentIndex_},contains:function(e){return i.indexOf(e)!==-1},indexOf:function(e){if("string"==typeof e)return h(r,e);for(var t=Array.isArray(e)?e:e.sources,n=0;n<t.length;n++){var i=t[n];if("string"==typeof i)return h(r,i);if(i.src)return h(r,i.src)}return-1},first:function(){return r.length?r[i.currentItem(0)]:void(i.currentIndex_=-1)},last:function(){return r.length?r[i.currentItem(r.length-1)]:void(i.currentIndex_=-1)},next:function(){var e=Math.min(i.currentIndex_+1,r.length-1);if(e!==i.currentIndex_)return r[i.currentItem(e)]},previous:function(){var e=Math.max(i.currentIndex_-1,0);if(e!==i.currentIndex_)return r[i.currentItem(e)]},autoadvance:function(e){i.autoadvance_.delay=e,f.setup(i.player_,e)}}),i.currentItem(n),i};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),o=r(i),a=n(435),s=r(a),u=o.default.registerPlugin||o.default.plugin,l=function(e,t){(0,s.default)(this,e,t)};u("playlist",l),t.default=l},function(e,t,n){var r=e.exports={WebVTT:n(438).WebVTT,VTTCue:n(439).VTTCue,VTTRegion:n(441).VTTRegion};window.vttjs=r,window.WebVTT=r.WebVTT;var i=r.VTTCue,o=r.VTTRegion,a=window.VTTCue,s=window.VTTRegion;r.shim=function(){r.VTTCue=i,r.VTTRegion=o},r.restore=function(){r.VTTCue=a,r.VTTRegion=s}},function(e,t){!function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=y(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function o(e,o,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function u(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)?n.set("snapToLines",!1):null,n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function l(){e=e.replace(/^\s+/,"")}var c=e;if(l(),o.startTime=s(),l(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),l(),o.endTime=s(),l(),u(e,o)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return g[e]}function o(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],i);return e}function a(e,t){return!_[t.localName]||_[t.localName]===e.localName}function s(t,n){var r=v[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=m[t];return o&&n&&(i[o]=n.trim()),i}for(var u,l=e.document.createElement("div"),c=l,f=[];null!==(u=r());)if("<"!==u[0])c.appendChild(e.document.createTextNode(o(u)));else{if("/"===u[1]){f.length&&f[f.length-1]===u.substr(2).replace(">","")&&(f.pop(),c=c.parentNode);continue}var d,p=n(u.substr(1,u.length-2));if(p){d=e.document.createProcessingInstruction("timestamp",p),c.appendChild(d);continue}var h=u.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(d=s(h[1],h[3]),!d)continue;if(!a(c,d))continue;h[2]&&(d.className=h[2].substr(1).replace("."," ")),f.push(h[1]),c.appendChild(d),c=d}return l}function s(e){for(var t=0;t<b.length;t++){var n=b[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++)if(r=o.charCodeAt(a),s(r))return"rtl";return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return++r*-1}function c(){}function f(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),c.call(this),this.cue=t,this.cueDiv=a(e,t.text);var s={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(s.direction=u(this.cueDiv),s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,r){function i(e,t){for(var i,o=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new d(e),a=u),e=new d(o)}return i||o}var o=new d(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width"}var f=o.lineHeight,p=f*Math.round(s),h=n[c]+f,y=u[0];Math.abs(p)>h&&(p=p<0?-1:1,p*=Math.ceil(h/f)*f),s<0&&(p+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(y,p)}else{var g=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new d(t)}var v=i(o,u);t.move(v.toCSSCompatValues(n))}function h(){}var y=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=y(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var g={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},m={v:"title",lang:"lang"},_={rt:"ruby"},b=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];c.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},f.prototype=y(c.prototype),f.prototype.constructor=f,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},h.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},h.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};var T=.05,E="sans-serif",S="1.5%";h.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=S,n.appendChild(i),r(t)){var o=[],a=d.getSimpleBoxPosition(i),s=Math.round(a.height*T*100)/100,u={font:s+"px "+E};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new f(e,r,u),i.appendChild(n.div),p(e,n,a,o),r.displayState=n.div,o.push(d.getSimpleBoxPosition(n))}()}else for(var l=0;l<t.length;l++)i.appendChild(t[l].displayState)},h.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},h.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=u.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,u.buffer=e.substr(t),n}function a(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(u.vttjs.VTTRegion||u.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),u.onregion&&u.onregion(n),u.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var u=this;e&&(u.buffer+=u.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===u.state){if(!/\r\n|\n/.test(u.buffer))return this;l=n();var c=l.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);u.state="HEADER"}for(var f=!1;u.buffer;){if(!/\r\n|\n/.test(u.buffer))return this;switch(f?f=!1:l=n(),u.state){case"HEADER":/:/.test(l)?s(l):l||(u.state="ID");continue;case"NOTE":l||(u.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){u.state="NOTE";break}if(!l)continue;if(u.cue=new(u.vttjs.VTTCue||u.window.VTTCue)(0,0,""),u.state="CUE",l.indexOf("-->")===-1){u.cue.id=l;continue}case"CUE":try{o(l,u.cue,u.regionList)}catch(e){u.reportOrThrowError(e),u.cue=null,u.state="BADCUE";continue}u.state="CUETEXT";continue;case"CUETEXT":var d=l.indexOf("-->")!==-1;if(!l||d&&(f=!0)){u.oncue&&u.oncue(u.cue),u.cue=null,u.state="ID";continue}u.cue.text&&(u.cue.text+="\n"),u.cue.text+=l;continue;case"BADCUE":l||(u.state="ID");continue}}}catch(e){u.reportOrThrowError(e),"CUETEXT"===u.state&&u.cue&&u.oncue&&u.oncue(u.cue),u.cue=null,u.state="INITIAL"===u.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.WebVTT=h}(this,this.vttjs||{})},function(e,t,n){"undefined"!=typeof e&&e.exports&&(this.VTTCue=this.VTTCue||n(440).VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var e={},t=this;return Object.keys(this).forEach(function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(e[n]=t[n])}),e},e.VTTCue.create=function(t){if(!t.hasOwnProperty("startTime")||!t.hasOwnProperty("endTime")||!t.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(t.startTime,t.endTime,t.text);for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},function(e,t){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=u[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var s=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",f=!1,d=e,p=t,h=o,y=null,g="",v=!0,m="auto",_="start",b=50,T="middle",E=50,S="middle";if(Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return f},set:function(e){f=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return y},set:function(e){y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}var a="auto",s={"":!0,lr:!0,rl:!0},u={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{})},function(e,t,n){"undefined"!=typeof e&&e.exports&&(this.VTTRegion=n(442).VTTRegion),function(e){e.VTTRegion.create=function(t){var n=new e.VTTRegion;for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},function(e,t){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=o[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{})},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(169);var i=n(36),o=r(i),a=n(168),s=r(a),u=n(2),l=r(u),c=n(13),f=r(c);o.default.VideoPlayer=s.default;var d=o.default.Cloudinary.prototype;d.videoPlayer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,f.default)(t,{cloudinaryConfig:this}),new s.default(e,t,n)},d.videoPlayers=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,f.default)(t,{cloudinaryConfig:this}),s.default.all(e,t,n)},window.videojs=l.default}])});
//# sourceMappingURL=cld-video-player.min.map